(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var kd={exports:{}},Sl={};var K_;function Ab(){if(K_)return Sl;K_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:u}}return Sl.Fragment=t,Sl.jsx=n,Sl.jsxs=n,Sl}var Q_;function Sb(){return Q_||(Q_=1,kd.exports=Ab()),kd.exports}var Q=Sb(),Pd={exports:{}},vt={};var Y_;function bb(){if(Y_)return vt;Y_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function q(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function ot(O,Y,nt){this.props=O,this.context=Y,this.refs=J,this.updater=nt||Z}ot.prototype.isReactComponent={},ot.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},ot.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function pt(){}pt.prototype=ot.prototype;function dt(O,Y,nt){this.props=O,this.context=Y,this.refs=J,this.updater=nt||Z}var zt=dt.prototype=new pt;zt.constructor=dt,W(zt,ot.prototype),zt.isPureReactComponent=!0;var Jt=Array.isArray;function Mt(){}var b={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(O,Y,nt){var rt=nt.ref;return{$$typeof:r,type:O,key:Y,ref:rt!==void 0?rt:null,props:nt}}function V(O,Y){return R(O.type,Y,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function L(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return Y[nt]})}var I=/\/+/g;function ie(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):Y.toString(36)}function Ne(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Mt,Mt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,Y,nt,rt,yt){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var xt=!1;if(O===null)xt=!0;else switch(St){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(O.$$typeof){case r:case t:xt=!0;break;case T:return xt=O._init,F(xt(O._payload),Y,nt,rt,yt)}}if(xt)return yt=yt(O),xt=rt===""?"."+ie(O,0):rt,Jt(yt)?(nt="",xt!=null&&(nt=xt.replace(I,"$&/")+"/"),F(yt,Y,nt,"",function(ls){return ls})):yt!=null&&(D(yt)&&(yt=V(yt,nt+(yt.key==null||O&&O.key===yt.key?"":(""+yt.key).replace(I,"$&/")+"/")+xt)),Y.push(yt)),1;xt=0;var De=rt===""?".":rt+":";if(Jt(O))for(var re=0;re<O.length;re++)rt=O[re],St=De+ie(rt,re),xt+=F(rt,Y,nt,St,yt);else if(re=q(O),typeof re=="function")for(O=re.call(O),re=0;!(rt=O.next()).done;)rt=rt.value,St=De+ie(rt,re++),xt+=F(rt,Y,nt,St,yt);else if(St==="object"){if(typeof O.then=="function")return F(Ne(O),Y,nt,rt,yt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return xt}function et(O,Y,nt){if(O==null)return O;var rt=[],yt=0;return F(O,rt,"","",function(St){return Y.call(nt,St,yt++)}),rt}function ht(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var kt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:et,forEach:function(O,Y,nt){et(O,function(){Y.apply(this,arguments)},nt)},count:function(O){var Y=0;return et(O,function(){Y++}),Y},toArray:function(O){return et(O,function(Y){return Y})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return vt.Activity=w,vt.Children=Ht,vt.Component=ot,vt.Fragment=n,vt.Profiler=l,vt.PureComponent=dt,vt.StrictMode=s,vt.Suspense=p,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,vt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return b.H.useMemoCache(O)}},vt.cache=function(O){return function(){return O.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(O,Y,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=W({},O.props),yt=O.key;if(Y!=null)for(St in Y.key!==void 0&&(yt=""+Y.key),Y)!S.call(Y,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Y.ref===void 0||(rt[St]=Y[St]);var St=arguments.length-2;if(St===1)rt.children=nt;else if(1<St){for(var xt=Array(St),De=0;De<St;De++)xt[De]=arguments[De+2];rt.children=xt}return R(O.type,yt,rt)},vt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},vt.createElement=function(O,Y,nt){var rt,yt={},St=null;if(Y!=null)for(rt in Y.key!==void 0&&(St=""+Y.key),Y)S.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(yt[rt]=Y[rt]);var xt=arguments.length-2;if(xt===1)yt.children=nt;else if(1<xt){for(var De=Array(xt),re=0;re<xt;re++)De[re]=arguments[re+2];yt.children=De}if(O&&O.defaultProps)for(rt in xt=O.defaultProps,xt)yt[rt]===void 0&&(yt[rt]=xt[rt]);return R(O,St,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(O){return{$$typeof:g,render:O}},vt.isValidElement=D,vt.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:ht}},vt.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},vt.startTransition=function(O){var Y=b.T,nt={};b.T=nt;try{var rt=O(),yt=b.S;yt!==null&&yt(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Mt,kt)}catch(St){kt(St)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),b.T=Y}},vt.unstable_useCacheRefresh=function(){return b.H.useCacheRefresh()},vt.use=function(O){return b.H.use(O)},vt.useActionState=function(O,Y,nt){return b.H.useActionState(O,Y,nt)},vt.useCallback=function(O,Y){return b.H.useCallback(O,Y)},vt.useContext=function(O){return b.H.useContext(O)},vt.useDebugValue=function(){},vt.useDeferredValue=function(O,Y){return b.H.useDeferredValue(O,Y)},vt.useEffect=function(O,Y){return b.H.useEffect(O,Y)},vt.useEffectEvent=function(O){return b.H.useEffectEvent(O)},vt.useId=function(){return b.H.useId()},vt.useImperativeHandle=function(O,Y,nt){return b.H.useImperativeHandle(O,Y,nt)},vt.useInsertionEffect=function(O,Y){return b.H.useInsertionEffect(O,Y)},vt.useLayoutEffect=function(O,Y){return b.H.useLayoutEffect(O,Y)},vt.useMemo=function(O,Y){return b.H.useMemo(O,Y)},vt.useOptimistic=function(O,Y){return b.H.useOptimistic(O,Y)},vt.useReducer=function(O,Y,nt){return b.H.useReducer(O,Y,nt)},vt.useRef=function(O){return b.H.useRef(O)},vt.useState=function(O){return b.H.useState(O)},vt.useSyncExternalStore=function(O,Y,nt){return b.H.useSyncExternalStore(O,Y,nt)},vt.useTransition=function(){return b.H.useTransition()},vt.version="19.2.0",vt}var X_;function Dm(){return X_||(X_=1,Pd.exports=bb()),Pd.exports}var oe=Dm(),Ud={exports:{}},bl={},zd={exports:{}},jd={};var $_;function wb(){return $_||($_=1,(function(r){function t(F,et){var ht=F.length;F.push(et);t:for(;0<ht;){var kt=ht-1>>>1,Ht=F[kt];if(0<l(Ht,et))F[kt]=et,F[ht]=Ht,ht=kt;else break t}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var et=F[0],ht=F.pop();if(ht!==et){F[0]=ht;t:for(var kt=0,Ht=F.length,O=Ht>>>1;kt<O;){var Y=2*(kt+1)-1,nt=F[Y],rt=Y+1,yt=F[rt];if(0>l(nt,ht))rt<Ht&&0>l(yt,nt)?(F[kt]=yt,F[rt]=ht,kt=rt):(F[kt]=nt,F[Y]=ht,kt=Y);else if(rt<Ht&&0>l(yt,ht))F[kt]=yt,F[rt]=ht,kt=rt;else break t}}return et}function l(F,et){var ht=F.sortIndex-et.sortIndex;return ht!==0?ht:F.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],y=[],T=1,w=null,M=3,q=!1,Z=!1,W=!1,J=!1,ot=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function zt(F){for(var et=n(y);et!==null;){if(et.callback===null)s(y);else if(et.startTime<=F)s(y),et.sortIndex=et.expirationTime,t(p,et);else break;et=n(y)}}function Jt(F){if(W=!1,zt(F),!Z)if(n(p)!==null)Z=!0,Mt||(Mt=!0,L());else{var et=n(y);et!==null&&Ne(Jt,et.startTime-F)}}var Mt=!1,b=-1,S=5,R=-1;function V(){return J?!0:!(r.unstable_now()-R<S)}function D(){if(J=!1,Mt){var F=r.unstable_now();R=F;var et=!0;try{t:{Z=!1,W&&(W=!1,pt(b),b=-1),q=!0;var ht=M;try{e:{for(zt(F),w=n(p);w!==null&&!(w.expirationTime>F&&V());){var kt=w.callback;if(typeof kt=="function"){w.callback=null,M=w.priorityLevel;var Ht=kt(w.expirationTime<=F);if(F=r.unstable_now(),typeof Ht=="function"){w.callback=Ht,zt(F),et=!0;break e}w===n(p)&&s(p),zt(F)}else s(p);w=n(p)}if(w!==null)et=!0;else{var O=n(y);O!==null&&Ne(Jt,O.startTime-F),et=!1}}break t}finally{w=null,M=ht,q=!1}et=void 0}}finally{et?L():Mt=!1}}}var L;if(typeof dt=="function")L=function(){dt(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ie=I.port2;I.port1.onmessage=D,L=function(){ie.postMessage(null)}}else L=function(){ot(D,0)};function Ne(F,et){b=ot(function(){F(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(F){switch(M){case 1:case 2:case 3:var et=3;break;default:et=M}var ht=M;M=et;try{return F()}finally{M=ht}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=M;M=F;try{return et()}finally{M=ht}},r.unstable_scheduleCallback=function(F,et,ht){var kt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?kt+ht:kt):ht=kt,F){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ht+Ht,F={id:T++,callback:et,priorityLevel:F,startTime:ht,expirationTime:Ht,sortIndex:-1},ht>kt?(F.sortIndex=ht,t(y,F),n(p)===null&&F===n(y)&&(W?(pt(b),b=-1):W=!0,Ne(Jt,ht-kt))):(F.sortIndex=Ht,t(p,F),Z||q||(Z=!0,Mt||(Mt=!0,L()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var et=M;return function(){var ht=M;M=et;try{return F.apply(this,arguments)}finally{M=ht}}}})(jd)),jd}var J_;function Rb(){return J_||(J_=1,zd.exports=wb()),zd.exports}var Bd={exports:{}},Ye={};var Z_;function Ib(){if(Z_)return Ye;Z_=1;var r=Dm();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,y,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:p,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,T)},Ye.flushSync=function(p){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=T,s.d.f()}},Ye.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ye.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ye.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,w=g(T,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:q}):T==="script"&&s.d.X(p,{crossOrigin:w,integrity:M,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ye.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,w=g(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ye.requestFormReset=function(p){s.d.r(p)},Ye.unstable_batchedUpdates=function(p,y){return p(y)},Ye.useFormState=function(p,y,T){return d.H.useFormState(p,y,T)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.0",Ye}var W_;function Cb(){if(W_)return Bd.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Bd.exports=Ib(),Bd.exports}var tv;function Nb(){if(tv)return bl;tv=1;var r=Rb(),t=Dm(),n=Cb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return p(h),e;if(f===o)return p(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,o=f;break}if(E===o){_=!0,o=h,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,o=h;break}if(E===o){_=!0,o=f,a=h;break}E=E.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),pt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),zt=Symbol.for("react.forward_ref"),Jt=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case ot:return"Profiler";case J:return"StrictMode";case Jt:return"Suspense";case Mt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case dt:return e.displayName||"Context";case pt:return(e._context.displayName||"Context")+".Consumer";case zt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case b:return i=e.displayName||null,i!==null?i:ie(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return ie(e(i))}catch{}}return null}var Ne=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},kt=[],Ht=-1;function O(e){return{current:e}}function Y(e){0>Ht||(e.current=kt[Ht],kt[Ht]=null,Ht--)}function nt(e,i){Ht++,kt[Ht]=e.current,e.current=i}var rt=O(null),yt=O(null),St=O(null),xt=O(null);function De(e,i){switch(nt(St,i),nt(yt,e),nt(rt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?g_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=g_(i),e=p_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),nt(rt,e)}function re(){Y(rt),Y(yt),Y(St)}function ls(e){e.memoizedState!==null&&nt(xt,e);var i=rt.current,a=p_(i,e.type);i!==a&&(nt(yt,e),nt(rt,a))}function na(e){yt.current===e&&(Y(rt),Y(yt)),xt.current===e&&(Y(xt),vl._currentValue=ht)}var ia,ra;function ri(e){if(ia===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ia=i&&i[1]||"",ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ia+e+ra}var vo=!1;function us(e,i){if(!e||vo)return"";vo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var z=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){z=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){z=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var C=_.split(`
`),U=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===U.length)for(o=C.length-1,h=U.length-1;1<=o&&0<=h&&C[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==U[h]){var H=`
`+C[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{vo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ri(a):""}function Eo(e,i){switch(e.tag){case 26:case 27:case 5:return ri(e.type);case 16:return ri("Lazy");case 13:return e.child!==i&&i!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return us(e.type,!1);case 11:return us(e.type.render,!1);case 1:return us(e.type,!0);case 31:return ri("Activity");default:return""}}function To(e){try{var i="",a=null;do i+=Eo(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,lr=r.unstable_cancelCallback,Ph=r.unstable_shouldYield,ru=r.unstable_requestPaint,We=r.unstable_now,cs=r.unstable_getCurrentPriorityLevel,Ao=r.unstable_ImmediatePriority,So=r.unstable_UserBlockingPriority,ur=r.unstable_NormalPriority,Uh=r.unstable_LowPriority,su=r.unstable_IdlePriority,au=r.log,ou=r.unstable_setDisableYieldValue,zn=null,ze=null;function Tn(e){if(typeof au=="function"&&ou(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(zn,e)}catch{}}var he=Math.clz32?Math.clz32:uu,lu=Math.log,sa=Math.LN2;function uu(e){return e>>>=0,e===0?32:31-(lu(e)/sa|0)|0}var si=256,hs=262144,ye=4194304;function ai(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oi(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ai(o):(_&=E,_!==0?h=ai(_):a||(a=E&~e,a!==0&&(h=ai(a))))):(E=o&~f,E!==0?h=ai(E):_!==0?h=ai(_):a||(a=o&~e,a!==0&&(h=ai(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function jn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function zh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cu(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function li(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function fs(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jh(e,i,a,o,h,f){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,U=e.hiddenUpdates;for(a=_&~a;0<a;){var H=31-he(a),K=1<<H;E[H]=0,C[H]=-1;var z=U[H];if(z!==null)for(U[H]=null,H=0;H<z.length;H++){var B=z[H];B!==null&&(B.lane&=-536870913)}a&=~K}o!==0&&ds(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~i))}function ds(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-he(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function bo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-he(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function wo(e,i){var a=i&-i;return a=(a&42)!==0?1:ms(a),(a&(e.suspendedLanes|i))!==0?0:a}function ms(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function hu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:z_(e.type))}function Bn(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var qn=Math.random().toString(36).slice(2),_e="__reactFiber$"+qn,xe="__reactProps$"+qn,ui="__reactContainer$"+qn,aa="__reactEvents$"+qn,Bh="__reactListeners$"+qn,fu="__reactHandles$"+qn,du="__reactResources$"+qn,ci="__reactMarker$"+qn;function oa(e){delete e[_e],delete e[xe],delete e[aa],delete e[Bh],delete e[fu]}function hi(e){var i=e[_e];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ui]||a[_e]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=S_(e);e!==null;){if(a=e[_e])return a;e=S_(e)}return i}e=a,a=e.parentNode}return null}function An(e){if(e=e[_e]||e[ui]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function fn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function fi(e){var i=e[du];return i||(i=e[du]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ve(e){e[ci]=!0}var Ro=new Set,Io={};function di(e,i){mi(e,i),mi(e+"Capture",i)}function mi(e,i){for(Io[e]=i,e=0;e<i.length;e++)Ro.add(i[e])}var Co=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Do={};function mu(e){return pe.call(Do,e)?!0:pe.call(No,e)?!1:Co.test(e)?Do[e]=!0:(No[e]=!0,!1)}function la(e,i,a){if(mu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function dn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ee(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Oo(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ft(e){if(!e._valueTracker){var i=cr(e)?"checked":"value";e._valueTracker=Oo(e,i,""+e[i])}}function gs(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=cr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ps=/[\n"\\]/g;function rn(e){return e.replace(ps,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ua(e,i,a,o,h,f,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Le(i)):e.value!==""+Le(i)&&(e.value=""+Le(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Mo(e,_,Le(i)):a!=null?Mo(e,_,Le(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Le(E):e.removeAttribute("name")}function gu(e,i,a,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Ft(e);return}a=a!=null?""+Le(a):"",i=i!=null?""+Le(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Ft(e)}function Mo(e,i,a){i==="number"&&gi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function hr(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function pu(e,i,a){if(i!=null&&(i=""+Le(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Le(a):""}function fr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(Ne(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Le(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Ft(e)}function sn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var yu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||yu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function xo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Vo(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Vo(e,f,i[f])}function ca(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(e){return dr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var Lo=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mr=null,pi=null;function ys(e){var i=An(e);if(i&&(e=i.stateNode)){var a=e[xe]||null;t:switch(e=i.stateNode,i.type){case"input":if(ua(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[xe]||null;if(!h)throw Error(s(90));ua(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&gs(o)}break t;case"textarea":pu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&hr(e,!!a.multiple,i,!1)}}}var fa=!1;function gr(e,i,a){if(fa)return e(i,a);fa=!0;try{var o=e(i);return o}finally{if(fa=!1,(mr!==null||pi!==null)&&(hc(),mr&&(i=mr,e=pi,pi=mr=null,ys(i),e)))for(i=0;i<e.length;i++)ys(e[i])}}function Fn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[xe]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_s=!1;if(bn)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){_s=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch{_s=!1}var yi=null,ko=null,vs=null;function Po(){if(vs)return vs;var e,i=ko,a=i.length,o,h="value"in yi?yi.value:yi.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(o=1;o<=_&&i[a-o]===h[f-o];o++);return vs=h.slice(e,1<o?1-o:void 0)}function Es(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ki(){return!0}function Gn(){return!1}function je(e){function i(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ki:Gn,this.isPropagationStopped=Gn,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=je(Pi),pr=w({},Pi,{view:0,detail:0}),Uo=je(pr),yr,da,vi,ma=w({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(yr=e.screenX-vi.screenX,da=e.screenY-vi.screenY):da=yr=0,vi=e),yr)},movementY:function(e){return"movementY"in e?e.movementY:da}}),zo=je(ma),Ts=w({},ma,{dataTransfer:0}),vu=je(Ts),Eu=w({},pr,{relatedTarget:0}),As=je(Eu),jo=w({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=je(jo),ga=w({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Au=je(ga),Su=w({},Pi,{data:0}),Ei=je(Su),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Ru[e])?!!i[e]:!1}function _r(){return Iu}var tn=w({},pr,{key:function(e){if(e.key){var i=bu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return e.type==="keypress"?Es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cu=je(tn),Nu=w({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=je(Nu),c=w({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),m=je(c),v=w({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=je(v),k=w({},ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=je(k),tt=w({},Pi,{newState:0,oldState:0}),Tt=je(tt),fe=[9,13,27,32],jt=bn&&"CompositionEvent"in window,se=null;bn&&"documentMode"in document&&(se=document.documentMode);var wn=bn&&"TextEvent"in window&&!se,Ti=bn&&(!jt||se&&8<se&&11>=se),Kn=" ",Qn=!1;function Ss(e,i){switch(e){case"keyup":return fe.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ya=!1;function KA(e,i){switch(e){case"compositionend":return pa(i);case"keypress":return i.which!==32?null:(Qn=!0,Kn);case"textInput":return e=i.data,e===Kn&&Qn?null:e;default:return null}}function QA(e,i){if(ya)return e==="compositionend"||!jt&&Ss(e,i)?(e=Po(),vs=ko=yi=null,ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var YA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!YA[e.type]:i==="textarea"}function Ig(e,i,a,o){mr?pi?pi.push(o):pi=[o]:mr=o,i=_c(i,"onChange"),0<i.length&&(a=new _i("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Bo=null,qo=null;function XA(e){u_(e,0)}function Du(e){var i=fn(e);if(gs(i))return e}function Cg(e,i){if(e==="change")return i}var Ng=!1;if(bn){var qh;if(bn){var Hh="oninput"in document;if(!Hh){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),Hh=typeof Dg.oninput=="function"}qh=Hh}else qh=!1;Ng=qh&&(!document.documentMode||9<document.documentMode)}function Og(){Bo&&(Bo.detachEvent("onpropertychange",Mg),qo=Bo=null)}function Mg(e){if(e.propertyName==="value"&&Du(qo)){var i=[];Ig(i,qo,e,Sn(e)),gr(XA,i)}}function $A(e,i,a){e==="focusin"?(Og(),Bo=i,qo=a,Bo.attachEvent("onpropertychange",Mg)):e==="focusout"&&Og()}function JA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Du(qo)}function ZA(e,i){if(e==="click")return Du(i)}function WA(e,i){if(e==="input"||e==="change")return Du(i)}function tS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var mn=typeof Object.is=="function"?Object.is:tS;function Ho(e,i){if(mn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!pe.call(i,h)||!mn(e[h],i[h]))return!1}return!0}function Vg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xg(e,i){var a=Vg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Vg(a)}}function Lg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Lg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function kg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=gi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=gi(e.document)}return i}function Fh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var eS=bn&&"documentMode"in document&&11>=document.documentMode,_a=null,Gh=null,Fo=null,Kh=!1;function Pg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kh||_a==null||_a!==gi(o)||(o=_a,"selectionStart"in o&&Fh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Fo&&Ho(Fo,o)||(Fo=o,o=_c(Gh,"onSelect"),0<o.length&&(i=new _i("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=_a)))}function bs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var va={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Qh={},Ug={};bn&&(Ug=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function ws(e){if(Qh[e])return Qh[e];if(!va[e])return e;var i=va[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ug)return Qh[e]=i[a];return e}var zg=ws("animationend"),jg=ws("animationiteration"),Bg=ws("animationstart"),nS=ws("transitionrun"),iS=ws("transitionstart"),rS=ws("transitioncancel"),qg=ws("transitionend"),Hg=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function Yn(e,i){Hg.set(e,i),di(i,[e])}var Ou=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],Ea=0,Xh=0;function Mu(){for(var e=Ea,i=Xh=Ea=0;i<e;){var a=Rn[i];Rn[i++]=null;var o=Rn[i];Rn[i++]=null;var h=Rn[i];Rn[i++]=null;var f=Rn[i];if(Rn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&Fg(a,h,f)}}function Vu(e,i,a,o){Rn[Ea++]=e,Rn[Ea++]=i,Rn[Ea++]=a,Rn[Ea++]=o,Xh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function $h(e,i,a,o){return Vu(e,i,a,o),xu(e)}function Rs(e,i){return Vu(e,null,null,i),xu(e)}function Fg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-he(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function xu(e){if(50<fl)throw fl=0,ad=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ta={};function sS(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,i,a,o){return new sS(e,i,a,o)}function Jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zi(e,i){var a=e.alternate;return a===null?(a=gn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Gg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Lu(e,i,a,o,h,f){var _=0;if(o=e,typeof e=="function")Jh(e)&&(_=1);else if(typeof e=="string")_=cb(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=gn(31,a,i,h),e.elementType=R,e.lanes=f,e;case W:return Is(a.children,h,f,i);case J:_=8,h|=24;break;case ot:return e=gn(12,a,i,h|2),e.elementType=ot,e.lanes=f,e;case Jt:return e=gn(13,a,i,h),e.elementType=Jt,e.lanes=f,e;case Mt:return e=gn(19,a,i,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:_=10;break t;case pt:_=9;break t;case zt:_=11;break t;case b:_=14;break t;case S:_=16,o=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=gn(_,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function Is(e,i,a,o){return e=gn(7,e,o,i),e.lanes=a,e}function Zh(e,i,a){return e=gn(6,e,null,i),e.lanes=a,e}function Kg(e){var i=gn(18,null,null,0);return i.stateNode=e,i}function Wh(e,i,a){return i=gn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Qg=new WeakMap;function In(e,i){if(typeof e=="object"&&e!==null){var a=Qg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:To(i)},Qg.set(e,i),i)}return{value:e,source:i,stack:To(i)}}var Aa=[],Sa=0,ku=null,Go=0,Cn=[],Nn=0,vr=null,Ai=1,Si="";function ji(e,i){Aa[Sa++]=Go,Aa[Sa++]=ku,ku=e,Go=i}function Yg(e,i,a){Cn[Nn++]=Ai,Cn[Nn++]=Si,Cn[Nn++]=vr,vr=e;var o=Ai;e=Si;var h=32-he(o)-1;o&=~(1<<h),a+=1;var f=32-he(i)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Ai=1<<32-he(i)+h|a<<h|o,Si=f+e}else Ai=1<<f|a<<h|o,Si=e}function tf(e){e.return!==null&&(ji(e,1),Yg(e,1,0))}function ef(e){for(;e===ku;)ku=Aa[--Sa],Aa[Sa]=null,Go=Aa[--Sa],Aa[Sa]=null;for(;e===vr;)vr=Cn[--Nn],Cn[Nn]=null,Si=Cn[--Nn],Cn[Nn]=null,Ai=Cn[--Nn],Cn[Nn]=null}function Xg(e,i){Cn[Nn++]=Ai,Cn[Nn++]=Si,Cn[Nn++]=vr,Ai=i.id,Si=i.overflow,vr=e}var Be=null,te=null,Vt=!1,Er=null,Dn=!1,nf=Error(s(519));function Tr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(In(i,e)),nf}function $g(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[_e]=e,i[xe]=o,a){case"dialog":Rt("cancel",i),Rt("close",i);break;case"iframe":case"object":case"embed":Rt("load",i);break;case"video":case"audio":for(a=0;a<ml.length;a++)Rt(ml[a],i);break;case"source":Rt("error",i);break;case"img":case"image":case"link":Rt("error",i),Rt("load",i);break;case"details":Rt("toggle",i);break;case"input":Rt("invalid",i),gu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",i);break;case"textarea":Rt("invalid",i),fr(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||d_(i.textContent,a)?(o.popover!=null&&(Rt("beforetoggle",i),Rt("toggle",i)),o.onScroll!=null&&Rt("scroll",i),o.onScrollEnd!=null&&Rt("scrollend",i),o.onClick!=null&&(i.onclick=Hn),i=!0):i=!1,i||Tr(e,!0)}function Jg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Be=Be.return}}function ba(e){if(e!==Be)return!1;if(!Vt)return Jg(e),Vt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Td(e.type,e.memoizedProps)),a=!a),a&&te&&Tr(e),Jg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=A_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=A_(e)}else i===27?(i=te,Lr(e.type)?(e=Rd,Rd=null,te=e):te=i):te=Be?Mn(e.stateNode.nextSibling):null;return!0}function Cs(){te=Be=null,Vt=!1}function rf(){var e=Er;return e!==null&&(un===null?un=e:un.push.apply(un,e),Er=null),e}function Ko(e){Er===null?Er=[e]:Er.push(e)}var sf=O(null),Ns=null,Bi=null;function Ar(e,i,a){nt(sf,i._currentValue),i._currentValue=a}function qi(e){e._currentValue=sf.current,Y(sf)}function af(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function of(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<i.length;C++)if(E.context===i[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),af(f.return,a,e),o||(_=null);break t}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),af(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function wa(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=h.type;mn(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===xt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(vl):e=[vl])}h=h.return}e!==null&&of(i,e,a,o),i.flags|=262144}function Pu(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ds(e){Ns=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Zg(Ns,e)}function Uu(e,i){return Ns===null&&Ds(e),Zg(e,i)}function Zg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Bi===null){if(e===null)throw Error(s(308));Bi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Bi=Bi.next=i;return a}var aS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},oS=r.unstable_scheduleCallback,lS=r.unstable_NormalPriority,Te={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new aS,data:new Map,refCount:0}}function Qo(e){e.refCount--,e.refCount===0&&oS(lS,function(){e.controller.abort()})}var Yo=null,uf=0,Ra=0,Ia=null;function uS(e,i){if(Yo===null){var a=Yo=[];uf=0,Ra=fd(),Ia={status:"pending",value:void 0,then:function(o){a.push(o)}}}return uf++,i.then(Wg,Wg),i}function Wg(){if(--uf===0&&Yo!==null){Ia!==null&&(Ia.status="fulfilled");var e=Yo;Yo=null,Ra=0,Ia=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function cS(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var tp=F.S;F.S=function(e,i){Py=We(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&uS(e,i),tp!==null&&tp(e,i)};var Os=O(null);function cf(){var e=Os.current;return e!==null?e:Zt.pooledCache}function zu(e,i){i===null?nt(Os,Os.current):nt(Os,i.pool)}function ep(){var e=cf();return e===null?null:{parent:Te._currentValue,pool:e}}var Ca=Error(s(460)),hf=Error(s(474)),ju=Error(s(542)),Bu={then:function(){}};function np(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ip(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Hn,Hn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,sp(e),e;default:if(typeof i.status=="string")i.then(Hn,Hn);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,sp(e),e}throw Vs=i,Ca}}function Ms(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Vs=a,Ca):a}}var Vs=null;function rp(){if(Vs===null)throw Error(s(459));var e=Vs;return Vs=null,e}function sp(e){if(e===Ca||e===ju)throw Error(s(483))}var Na=null,Xo=0;function qu(e){var i=Xo;return Xo+=1,Na===null&&(Na=[]),ip(Na,e,i)}function $o(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Hu(e,i){throw i.$$typeof===M?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function ap(e){function i(x,N){if(e){var P=x.deletions;P===null?(x.deletions=[N],x.flags|=16):P.push(N)}}function a(x,N){if(!e)return null;for(;N!==null;)i(x,N),N=N.sibling;return null}function o(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=zi(x,N),x.index=0,x.sibling=null,x}function f(x,N,P){return x.index=P,e?(P=x.alternate,P!==null?(P=P.index,P<N?(x.flags|=67108866,N):P):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function _(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,N,P,G){return N===null||N.tag!==6?(N=Zh(P,x.mode,G),N.return=x,N):(N=h(N,P),N.return=x,N)}function C(x,N,P,G){var ut=P.type;return ut===W?H(x,N,P.props.children,G,P.key):N!==null&&(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&Ms(ut)===N.type)?(N=h(N,P.props),$o(N,P),N.return=x,N):(N=Lu(P.type,P.key,P.props,null,x.mode,G),$o(N,P),N.return=x,N)}function U(x,N,P,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Wh(P,x.mode,G),N.return=x,N):(N=h(N,P.children||[]),N.return=x,N)}function H(x,N,P,G,ut){return N===null||N.tag!==7?(N=Is(P,x.mode,G,ut),N.return=x,N):(N=h(N,P),N.return=x,N)}function K(x,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Zh(""+N,x.mode,P),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case q:return P=Lu(N.type,N.key,N.props,null,x.mode,P),$o(P,N),P.return=x,P;case Z:return N=Wh(N,x.mode,P),N.return=x,N;case S:return N=Ms(N),K(x,N,P)}if(Ne(N)||L(N))return N=Is(N,x.mode,P,null),N.return=x,N;if(typeof N.then=="function")return K(x,qu(N),P);if(N.$$typeof===dt)return K(x,Uu(x,N),P);Hu(x,N)}return null}function z(x,N,P,G){var ut=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ut!==null?null:E(x,N,""+P,G);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case q:return P.key===ut?C(x,N,P,G):null;case Z:return P.key===ut?U(x,N,P,G):null;case S:return P=Ms(P),z(x,N,P,G)}if(Ne(P)||L(P))return ut!==null?null:H(x,N,P,G,null);if(typeof P.then=="function")return z(x,N,qu(P),G);if(P.$$typeof===dt)return z(x,N,Uu(x,P),G);Hu(x,P)}return null}function B(x,N,P,G,ut){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(P)||null,E(N,x,""+G,ut);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case q:return x=x.get(G.key===null?P:G.key)||null,C(N,x,G,ut);case Z:return x=x.get(G.key===null?P:G.key)||null,U(N,x,G,ut);case S:return G=Ms(G),B(x,N,P,G,ut)}if(Ne(G)||L(G))return x=x.get(P)||null,H(N,x,G,ut,null);if(typeof G.then=="function")return B(x,N,P,qu(G),ut);if(G.$$typeof===dt)return B(x,N,P,Uu(N,G),ut);Hu(N,G)}return null}function at(x,N,P,G){for(var ut=null,Pt=null,lt=N,bt=N=0,Ct=null;lt!==null&&bt<P.length;bt++){lt.index>bt?(Ct=lt,lt=null):Ct=lt.sibling;var Ut=z(x,lt,P[bt],G);if(Ut===null){lt===null&&(lt=Ct);break}e&&lt&&Ut.alternate===null&&i(x,lt),N=f(Ut,N,bt),Pt===null?ut=Ut:Pt.sibling=Ut,Pt=Ut,lt=Ct}if(bt===P.length)return a(x,lt),Vt&&ji(x,bt),ut;if(lt===null){for(;bt<P.length;bt++)lt=K(x,P[bt],G),lt!==null&&(N=f(lt,N,bt),Pt===null?ut=lt:Pt.sibling=lt,Pt=lt);return Vt&&ji(x,bt),ut}for(lt=o(lt);bt<P.length;bt++)Ct=B(lt,x,bt,P[bt],G),Ct!==null&&(e&&Ct.alternate!==null&&lt.delete(Ct.key===null?bt:Ct.key),N=f(Ct,N,bt),Pt===null?ut=Ct:Pt.sibling=Ct,Pt=Ct);return e&&lt.forEach(function(jr){return i(x,jr)}),Vt&&ji(x,bt),ut}function ft(x,N,P,G){if(P==null)throw Error(s(151));for(var ut=null,Pt=null,lt=N,bt=N=0,Ct=null,Ut=P.next();lt!==null&&!Ut.done;bt++,Ut=P.next()){lt.index>bt?(Ct=lt,lt=null):Ct=lt.sibling;var jr=z(x,lt,Ut.value,G);if(jr===null){lt===null&&(lt=Ct);break}e&&lt&&jr.alternate===null&&i(x,lt),N=f(jr,N,bt),Pt===null?ut=jr:Pt.sibling=jr,Pt=jr,lt=Ct}if(Ut.done)return a(x,lt),Vt&&ji(x,bt),ut;if(lt===null){for(;!Ut.done;bt++,Ut=P.next())Ut=K(x,Ut.value,G),Ut!==null&&(N=f(Ut,N,bt),Pt===null?ut=Ut:Pt.sibling=Ut,Pt=Ut);return Vt&&ji(x,bt),ut}for(lt=o(lt);!Ut.done;bt++,Ut=P.next())Ut=B(lt,x,bt,Ut.value,G),Ut!==null&&(e&&Ut.alternate!==null&&lt.delete(Ut.key===null?bt:Ut.key),N=f(Ut,N,bt),Pt===null?ut=Ut:Pt.sibling=Ut,Pt=Ut);return e&&lt.forEach(function(Tb){return i(x,Tb)}),Vt&&ji(x,bt),ut}function $t(x,N,P,G){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case q:t:{for(var ut=P.key;N!==null;){if(N.key===ut){if(ut=P.type,ut===W){if(N.tag===7){a(x,N.sibling),G=h(N,P.props.children),G.return=x,x=G;break t}}else if(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&Ms(ut)===N.type){a(x,N.sibling),G=h(N,P.props),$o(G,P),G.return=x,x=G;break t}a(x,N);break}else i(x,N);N=N.sibling}P.type===W?(G=Is(P.props.children,x.mode,G,P.key),G.return=x,x=G):(G=Lu(P.type,P.key,P.props,null,x.mode,G),$o(G,P),G.return=x,x=G)}return _(x);case Z:t:{for(ut=P.key;N!==null;){if(N.key===ut)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){a(x,N.sibling),G=h(N,P.children||[]),G.return=x,x=G;break t}else{a(x,N);break}else i(x,N);N=N.sibling}G=Wh(P,x.mode,G),G.return=x,x=G}return _(x);case S:return P=Ms(P),$t(x,N,P,G)}if(Ne(P))return at(x,N,P,G);if(L(P)){if(ut=L(P),typeof ut!="function")throw Error(s(150));return P=ut.call(P),ft(x,N,P,G)}if(typeof P.then=="function")return $t(x,N,qu(P),G);if(P.$$typeof===dt)return $t(x,N,Uu(x,P),G);Hu(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(a(x,N.sibling),G=h(N,P),G.return=x,x=G):(a(x,N),G=Zh(P,x.mode,G),G.return=x,x=G),_(x)):a(x,N)}return function(x,N,P,G){try{Xo=0;var ut=$t(x,N,P,G);return Na=null,ut}catch(lt){if(lt===Ca||lt===ju)throw lt;var Pt=gn(29,lt,null,x.mode);return Pt.lanes=G,Pt.return=x,Pt}finally{}}}var xs=ap(!0),op=ap(!1),Sr=!1;function ff(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function br(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=xu(e),Fg(e,null,a),i}return Vu(e,o,i,a),xu(e)}function Jo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,bo(e,a)}}function mf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var gf=!1;function Zo(){if(gf){var e=Ia;if(e!==null)throw e}}function Wo(e,i,a,o){gf=!1;var h=e.updateQueue;Sr=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,U=C.next;C.next=null,_===null?f=U:_.next=U,_=C;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==_&&(E===null?H.firstBaseUpdate=U:E.next=U,H.lastBaseUpdate=C))}if(f!==null){var K=h.baseState;_=0,H=U=C=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(It&z)===z:(o&z)===z){z!==0&&z===Ra&&(gf=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,ft=E;z=i;var $t=a;switch(ft.tag){case 1:if(at=ft.payload,typeof at=="function"){K=at.call($t,K,z);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ft.payload,z=typeof at=="function"?at.call($t,K,z):at,z==null)break t;K=w({},K,z);break t;case 2:Sr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(U=H=B,C=K):H=H.next=B,_|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);H===null&&(C=K),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Dr|=_,e.lanes=_,e.memoizedState=K}}function lp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function up(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)lp(a[e],i)}var Da=O(null),Fu=O(0);function cp(e,i){e=Ji,nt(Fu,e),nt(Da,i),Ji=e|i.baseLanes}function pf(){nt(Fu,Ji),nt(Da,Da.current)}function yf(){Ji=Fu.current,Y(Da),Y(Fu)}var pn=O(null),On=null;function Rr(e){var i=e.alternate;nt(de,de.current&1),nt(pn,e),On===null&&(i===null||Da.current!==null||i.memoizedState!==null)&&(On=e)}function _f(e){nt(de,de.current),nt(pn,e),On===null&&(On=e)}function hp(e){e.tag===22?(nt(de,de.current),nt(pn,e),On===null&&(On=e)):Ir()}function Ir(){nt(de,de.current),nt(pn,pn.current)}function yn(e){Y(pn),On===e&&(On=null),Y(de)}var de=O(0);function Gu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bd(a)||wd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Hi=0,At=null,Yt=null,Ae=null,Ku=!1,Oa=!1,Ls=!1,Qu=0,tl=0,Ma=null,hS=0;function ue(){throw Error(s(321))}function vf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!mn(e[a],i[a]))return!1;return!0}function Ef(e,i,a,o,h,f){return Hi=f,At=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?Yp:Lf,Ls=!1,f=a(o,h),Ls=!1,Oa&&(f=dp(i,a,o,h)),fp(e),f}function fp(e){F.H=il;var i=Yt!==null&&Yt.next!==null;if(Hi=0,Ae=Yt=At=null,Ku=!1,tl=0,Ma=null,i)throw Error(s(300));e===null||Se||(e=e.dependencies,e!==null&&Pu(e)&&(Se=!0))}function dp(e,i,a,o){At=e;var h=0;do{if(Oa&&(Ma=null),tl=0,Oa=!1,25<=h)throw Error(s(301));if(h+=1,Ae=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Xp,f=i(a,o)}while(Oa);return f}function fS(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?el(i):i,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(At.flags|=1024),i}function Tf(){var e=Qu!==0;return Qu=0,e}function Af(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Sf(e){if(Ku){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Ku=!1}Hi=0,Ae=Yt=At=null,Oa=!1,tl=Qu=0,Ma=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function me(){if(Yt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var i=Ae===null?At.memoizedState:Ae.next;if(i!==null)Ae=i,Yt=e;else{if(e===null)throw At.alternate===null?Error(s(467)):Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(e){var i=tl;return tl+=1,Ma===null&&(Ma=[]),e=ip(Ma,e,i),i=At,(Ae===null?i.memoizedState:Ae.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?Yp:Lf),e}function Xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return el(e);if(e.$$typeof===dt)return qe(e)}throw Error(s(438,String(e)))}function bf(e){var i=null,a=At.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Yu(),At.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=V;return i.index++,a}function Fi(e,i){return typeof i=="function"?i(e):i}function $u(e){var i=me();return wf(i,Yt,e)}function wf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=_=null,C=null,U=i,H=!1;do{var K=U.lane&-536870913;if(K!==U.lane?(It&K)===K:(Hi&K)===K){var z=U.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),K===Ra&&(H=!0);else if((Hi&z)===z){U=U.next,z===Ra&&(H=!0);continue}else K={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(E=C=K,_=f):C=C.next=K,At.lanes|=z,Dr|=z;K=U.action,Ls&&a(f,K),f=U.hasEagerState?U.eagerState:a(f,K)}else z={lane:K,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(E=C=z,_=f):C=C.next=z,At.lanes|=K,Dr|=K;U=U.next}while(U!==null&&U!==i);if(C===null?_=f:C.next=E,!mn(f,e.memoizedState)&&(Se=!0,H&&(a=Ia,a!==null)))throw a;e.memoizedState=f,e.baseState=_,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Rf(e){var i=me(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);mn(f,i.memoizedState)||(Se=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function mp(e,i,a){var o=At,h=me(),f=Vt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!mn((Yt||h).memoizedState,a);if(_&&(h.memoizedState=a,Se=!0),h=h.queue,Nf(yp.bind(null,o,h,e),[e]),h.getSnapshot!==i||_||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Va(9,{destroy:void 0},pp.bind(null,o,h,a,i),null),Zt===null)throw Error(s(349));f||(Hi&127)!==0||gp(o,i,a)}return a}function gp(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=At.updateQueue,i===null?(i=Yu(),At.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function pp(e,i,a,o){i.value=a,i.getSnapshot=o,_p(i)&&vp(e)}function yp(e,i,a){return a(function(){_p(i)&&vp(e)})}function _p(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!mn(e,a)}catch{return!0}}function vp(e){var i=Rs(e,2);i!==null&&cn(i,e,2)}function If(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),Ls){Tn(!0);try{a()}finally{Tn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:e},i}function Ep(e,i,a,o){return e.baseState=a,wf(e,Yt,typeof o=="function"?o:Fi)}function dS(e,i,a,o,h){if(Wu(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Tp(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Tp(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=F.T,_={};F.T=_;try{var E=a(h,o),C=F.S;C!==null&&C(_,E),Ap(e,i,E)}catch(U){Cf(e,i,U)}finally{f!==null&&_.types!==null&&(f.types=_.types),F.T=f}}else try{f=a(h,o),Ap(e,i,f)}catch(U){Cf(e,i,U)}}function Ap(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Sp(e,i,o)},function(o){return Cf(e,i,o)}):Sp(e,i,a)}function Sp(e,i,a){i.status="fulfilled",i.value=a,bp(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Tp(e,a)))}function Cf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,bp(i),i=i.next;while(i!==o)}e.action=null}function bp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function wp(e,i){return i}function Rp(e,i){if(Vt){var a=Zt.formState;if(a!==null){t:{var o=At;if(Vt){if(te){e:{for(var h=te,f=Dn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=Mn(h.nextSibling),o=h.data==="F!";break t}}Tr(o)}o=!1}o&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wp,lastRenderedState:i},a.queue=o,a=Gp.bind(null,At,o),o.dispatch=a,o=If(!1),f=xf.bind(null,At,!1,o.queue),o=en(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=dS.bind(null,At,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Ip(e){var i=me();return Cp(i,Yt,e)}function Cp(e,i,a){if(i=wf(e,i,wp)[0],e=$u(Fi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=el(i)}catch(_){throw _===Ca?ju:_}else o=i;i=me();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(At.flags|=2048,Va(9,{destroy:void 0},mS.bind(null,h,a),null)),[o,f,e]}function mS(e,i){e.action=i}function Np(e){var i=me(),a=Yt;if(a!==null)return Cp(i,a,e);me(),i=i.memoizedState,a=me();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Va(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=At.updateQueue,i===null&&(i=Yu(),At.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Dp(){return me().memoizedState}function Ju(e,i,a,o){var h=en();At.flags|=e,h.memoizedState=Va(1|i,{destroy:void 0},a,o===void 0?null:o)}function Zu(e,i,a,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Yt!==null&&o!==null&&vf(o,Yt.memoizedState.deps)?h.memoizedState=Va(i,f,a,o):(At.flags|=e,h.memoizedState=Va(1|i,f,a,o))}function Op(e,i){Ju(8390656,8,e,i)}function Nf(e,i){Zu(2048,8,e,i)}function gS(e){At.flags|=4;var i=At.updateQueue;if(i===null)i=Yu(),At.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Mp(e){var i=me().memoizedState;return gS({ref:i,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Vp(e,i){return Zu(4,2,e,i)}function xp(e,i){return Zu(4,4,e,i)}function Lp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function kp(e,i,a){a=a!=null?a.concat([e]):null,Zu(4,4,Lp.bind(null,i,e),a)}function Df(){}function Pp(e,i){var a=me();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&vf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Up(e,i){var a=me();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&vf(i,o[1]))return o[0];if(o=e(),Ls){Tn(!0);try{e()}finally{Tn(!1)}}return a.memoizedState=[o,i],o}function Of(e,i,a){return a===void 0||(Hi&1073741824)!==0&&(It&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=zy(),At.lanes|=e,Dr|=e,a)}function zp(e,i,a,o){return mn(a,i)?a:Da.current!==null?(e=Of(e,a,o),mn(e,i)||(Se=!0),e):(Hi&42)===0||(Hi&1073741824)!==0&&(It&261930)===0?(Se=!0,e.memoizedState=a):(e=zy(),At.lanes|=e,Dr|=e,i)}function jp(e,i,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var _=F.T,E={};F.T=E,xf(e,!1,i,a);try{var C=h(),U=F.S;if(U!==null&&U(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=cS(C,o);nl(e,i,H,En(e))}else nl(e,i,o,En(e))}catch(K){nl(e,i,{then:function(){},status:"rejected",reason:K},En())}finally{et.p=f,_!==null&&E.types!==null&&(_.types=E.types),F.T=_}}function pS(){}function Mf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=Bp(e).queue;jp(e,h,i,ht,a===null?pS:function(){return qp(e),a(o)})}function Bp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:ht},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function qp(e){var i=Bp(e);i.next===null&&(i=e.alternate.memoizedState),nl(e,i.next.queue,{},En())}function Vf(){return qe(vl)}function Hp(){return me().memoizedState}function Fp(){return me().memoizedState}function yS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();e=br(a);var o=wr(i,e,a);o!==null&&(cn(o,i,a),Jo(o,i,a)),i={cache:lf()},e.payload=i;return}i=i.return}}function _S(e,i,a){var o=En();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Wu(e)?Kp(i,a):(a=$h(e,i,a,o),a!==null&&(cn(a,e,o),Qp(a,i,o)))}function Gp(e,i,a){var o=En();nl(e,i,a,o)}function nl(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wu(e))Kp(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,E=f(_,a);if(h.hasEagerState=!0,h.eagerState=E,mn(E,_))return Vu(e,i,h,0),Zt===null&&Mu(),!1}catch{}finally{}if(a=$h(e,i,h,o),a!==null)return cn(a,e,o),Qp(a,i,o),!0}return!1}function xf(e,i,a,o){if(o={lane:2,revertLane:fd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Wu(e)){if(i)throw Error(s(479))}else i=$h(e,a,o,2),i!==null&&cn(i,e,2)}function Wu(e){var i=e.alternate;return e===At||i!==null&&i===At}function Kp(e,i){Oa=Ku=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Qp(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,bo(e,a)}}var il={readContext:qe,use:Xu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};il.useEffectEvent=ue;var Yp={readContext:qe,use:Xu,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:qe,useEffect:Op,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Ju(4194308,4,Lp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Ju(4194308,4,e,i)},useInsertionEffect:function(e,i){Ju(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var o=e();if(Ls){Tn(!0);try{e()}finally{Tn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=en();if(a!==void 0){var h=a(i);if(Ls){Tn(!0);try{a(i)}finally{Tn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=_S.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=If(e);var i=e.queue,a=Gp.bind(null,At,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Df,useDeferredValue:function(e,i){var a=en();return Of(a,e,i)},useTransition:function(){var e=If(!1);return e=jp.bind(null,At,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=At,h=en();if(Vt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Zt===null)throw Error(s(349));(It&127)!==0||gp(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Op(yp.bind(null,o,f,e),[e]),o.flags|=2048,Va(9,{destroy:void 0},pp.bind(null,o,f,a,i),null),a},useId:function(){var e=en(),i=Zt.identifierPrefix;if(Vt){var a=Si,o=Ai;a=(o&~(1<<32-he(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Qu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=hS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Vf,useFormState:Rp,useActionState:Rp,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=xf.bind(null,At,!0,a),a.dispatch=i,[e,i]},useMemoCache:bf,useCacheRefresh:function(){return en().memoizedState=yS.bind(null,At)},useEffectEvent:function(e){var i=en(),a={impl:e};return i.memoizedState=a,function(){if((Bt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Lf={readContext:qe,use:Xu,useCallback:Pp,useContext:qe,useEffect:Nf,useImperativeHandle:kp,useInsertionEffect:Vp,useLayoutEffect:xp,useMemo:Up,useReducer:$u,useRef:Dp,useState:function(){return $u(Fi)},useDebugValue:Df,useDeferredValue:function(e,i){var a=me();return zp(a,Yt.memoizedState,e,i)},useTransition:function(){var e=$u(Fi)[0],i=me().memoizedState;return[typeof e=="boolean"?e:el(e),i]},useSyncExternalStore:mp,useId:Hp,useHostTransitionStatus:Vf,useFormState:Ip,useActionState:Ip,useOptimistic:function(e,i){var a=me();return Ep(a,Yt,e,i)},useMemoCache:bf,useCacheRefresh:Fp};Lf.useEffectEvent=Mp;var Xp={readContext:qe,use:Xu,useCallback:Pp,useContext:qe,useEffect:Nf,useImperativeHandle:kp,useInsertionEffect:Vp,useLayoutEffect:xp,useMemo:Up,useReducer:Rf,useRef:Dp,useState:function(){return Rf(Fi)},useDebugValue:Df,useDeferredValue:function(e,i){var a=me();return Yt===null?Of(a,e,i):zp(a,Yt.memoizedState,e,i)},useTransition:function(){var e=Rf(Fi)[0],i=me().memoizedState;return[typeof e=="boolean"?e:el(e),i]},useSyncExternalStore:mp,useId:Hp,useHostTransitionStatus:Vf,useFormState:Np,useActionState:Np,useOptimistic:function(e,i){var a=me();return Yt!==null?Ep(a,Yt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:bf,useCacheRefresh:Fp};Xp.useEffectEvent=Mp;function kf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:w({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Pf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=En(),h=br(o);h.payload=i,a!=null&&(h.callback=a),i=wr(e,h,o),i!==null&&(cn(i,e,o),Jo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=En(),h=br(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=wr(e,h,o),i!==null&&(cn(i,e,o),Jo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=En(),o=br(a);o.tag=2,i!=null&&(o.callback=i),i=wr(e,o,a),i!==null&&(cn(i,e,a),Jo(i,e,a))}};function $p(e,i,a,o,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):i.prototype&&i.prototype.isPureReactComponent?!Ho(a,o)||!Ho(h,f):!0}function Jp(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Pf.enqueueReplaceState(i,i.state,null)}function ks(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=w({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Zp(e){Ou(e)}function Wp(e){console.error(e)}function ty(e){Ou(e)}function tc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function ey(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(e,i,a){return a=br(a),a.tag=3,a.payload={element:null},a.callback=function(){tc(e,i)},a}function ny(e){return e=br(e),e.tag=3,e}function iy(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ey(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){ey(i,a,o),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function vS(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&wa(i,a,h,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return On===null?fc():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Bu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),ud(e,o,h)),!1;case 22:return a.flags|=65536,o===Bu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),ud(e,o,h)),!1}throw Error(s(435,a.tag))}return ud(e,o,h),fc(),!1}if(Vt)return i=pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==nf&&(e=Error(s(422),{cause:o}),Ko(In(e,a)))):(o!==nf&&(i=Error(s(423),{cause:o}),Ko(In(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=In(o,a),h=Uf(e.stateNode,o,h),mf(e,h),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:o});if(f=In(f,a),hl===null?hl=[f]:hl.push(f),ce!==4&&(ce=2),i===null)return!0;o=In(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Uf(a.stateNode,o,e),mf(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Or===null||!Or.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ny(h),iy(h,e,a,o),mf(a,h),!1}a=a.return}while(a!==null);return!1}var zf=Error(s(461)),Se=!1;function He(e,i,a,o){i.child=e===null?op(i,null,a,o):xs(i,e.child,a,o)}function ry(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return Ds(i),o=Ef(e,i,a,_,f,h),E=Tf(),e!==null&&!Se?(Af(e,i,h),Gi(e,i,h)):(Vt&&E&&tf(i),i.flags|=1,He(e,i,o,h),i.child)}function sy(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Jh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,ay(e,i,f,o,h)):(e=Lu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!Qf(e,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ho,a(_,o)&&e.ref===i.ref)return Gi(e,i,h)}return i.flags|=1,e=zi(f,o),e.ref=i.ref,e.return=i,i.child=e}function ay(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Ho(f,o)&&e.ref===i.ref)if(Se=!1,i.pendingProps=o=f,Qf(e,h))(e.flags&131072)!==0&&(Se=!0);else return i.lanes=e.lanes,Gi(e,i,h)}return jf(e,i,a,o,h)}function oy(e,i,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return ly(e,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&zu(i,f!==null?f.cachePool:null),f!==null?cp(i,f):pf(),hp(i);else return o=i.lanes=536870912,ly(e,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(zu(i,f.cachePool),cp(i,f),Ir(),i.memoizedState=null):(e!==null&&zu(i,null),pf(),Ir());return He(e,i,h,a),i.child}function rl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function ly(e,i,a,o,h){var f=cf();return f=f===null?null:{parent:Te._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&zu(i,null),pf(),hp(i),e!==null&&wa(e,i,o,!0),i.childLanes=h,null}function ec(e,i){return i=ic({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function uy(e,i,a){return xs(i,e.child,null,a),e=ec(i,i.pendingProps),e.flags|=2,yn(i),i.memoizedState=null,e}function ES(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=ec(i,o),i.lanes=536870912,rl(null,e);if(_f(i),(e=te)?(e=T_(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Kg(e),a.return=i,i.child=a,Be=i,te=null)):e=null,e===null)throw Tr(i);return i.lanes=536870912,null}return ec(i,o)}var f=e.memoizedState;if(f!==null){var _=f.dehydrated;if(_f(i),h)if(i.flags&256)i.flags&=-257,i=uy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Se||wa(e,i,a,!1),h=(a&e.childLanes)!==0,Se||h){if(o=Zt,o!==null&&(_=wo(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Rs(e,_),cn(o,e,_),zf;fc(),i=uy(e,i,a)}else e=f.treeContext,te=Mn(_.nextSibling),Be=i,Vt=!0,Er=null,Dn=!1,e!==null&&Xg(i,e),i=ec(i,o),i.flags|=4096;return i}return e=zi(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function nc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function jf(e,i,a,o,h){return Ds(i),a=Ef(e,i,a,o,void 0,h),o=Tf(),e!==null&&!Se?(Af(e,i,h),Gi(e,i,h)):(Vt&&o&&tf(i),i.flags|=1,He(e,i,a,h),i.child)}function cy(e,i,a,o,h,f){return Ds(i),i.updateQueue=null,a=dp(i,o,a,h),fp(e),o=Tf(),e!==null&&!Se?(Af(e,i,f),Gi(e,i,f)):(Vt&&o&&tf(i),i.flags|=1,He(e,i,a,f),i.child)}function hy(e,i,a,o,h){if(Ds(i),i.stateNode===null){var f=Ta,_=a.contextType;typeof _=="object"&&_!==null&&(f=qe(_)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Pf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},ff(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?qe(_):Ta,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(kf(i,a,_,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Pf.enqueueReplaceState(f,f.state,null),Wo(i,o,f,h),Zo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,C=ks(a,E);f.props=C;var U=f.context,H=a.contextType;_=Ta,typeof H=="object"&&H!==null&&(_=qe(H));var K=a.getDerivedStateFromProps;H=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==_)&&Jp(i,f,o,_),Sr=!1;var z=i.memoizedState;f.state=z,Wo(i,o,f,h),Zo(),U=i.memoizedState,E||z!==U||Sr?(typeof K=="function"&&(kf(i,a,K,o),U=i.memoizedState),(C=Sr||$p(i,a,C,o,z,U,_))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=U),f.props=o,f.state=U,f.context=_,o=C):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,df(e,i),_=i.memoizedProps,H=ks(a,_),f.props=H,K=i.pendingProps,z=f.context,U=a.contextType,C=Ta,typeof U=="object"&&U!==null&&(C=qe(U)),E=a.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==K||z!==C)&&Jp(i,f,o,C),Sr=!1,z=i.memoizedState,f.state=z,Wo(i,o,f,h),Zo();var B=i.memoizedState;_!==K||z!==B||Sr||e!==null&&e.dependencies!==null&&Pu(e.dependencies)?(typeof E=="function"&&(kf(i,a,E,o),B=i.memoizedState),(H=Sr||$p(i,a,H,o,z,B,C)||e!==null&&e.dependencies!==null&&Pu(e.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,C)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),f.props=o,f.state=B,f.context=C,o=H):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,nc(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=xs(i,e.child,null,h),i.child=xs(i,null,a,h)):He(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Gi(e,i,h),e}function fy(e,i,a,o){return Cs(),i.flags|=256,He(e,i,a,o),i.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(e){return{baseLanes:e,cachePool:ep()}}function Hf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=vn),e}function dy(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Vt){if(h?Rr(i):Ir(),(e=te)?(e=T_(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Kg(e),a.return=i,i.child=a,Be=i,te=null)):e=null,e===null)throw Tr(i);return wd(e)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ir(),h=i.mode,E=ic({mode:"hidden",children:E},h),o=Is(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=qf(a),o.childLanes=Hf(e,_,a),i.memoizedState=Bf,rl(null,o)):(Rr(i),Ff(i,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)i.flags&256?(Rr(i),i.flags&=-257,i=Gf(e,i,a)):i.memoizedState!==null?(Ir(),i.child=e.child,i.flags|=128,i=null):(Ir(),E=o.fallback,h=i.mode,o=ic({mode:"visible",children:o.children},h),E=Is(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,xs(i,e.child,null,a),o=i.child,o.memoizedState=qf(a),o.childLanes=Hf(e,_,a),i.memoizedState=Bf,i=rl(null,o));else if(Rr(i),wd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var U=_.dgst;_=U,o=Error(s(419)),o.stack="",o.digest=_,Ko({value:o,source:null,stack:null}),i=Gf(e,i,a)}else if(Se||wa(e,i,a,!1),_=(a&e.childLanes)!==0,Se||_){if(_=Zt,_!==null&&(o=wo(_,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Rs(e,o),cn(_,e,o),zf;bd(E)||fc(),i=Gf(e,i,a)}else bd(E)?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,te=Mn(E.nextSibling),Be=i,Vt=!0,Er=null,Dn=!1,e!==null&&Xg(i,e),i=Ff(i,o.children),i.flags|=4096);return i}return h?(Ir(),E=o.fallback,h=i.mode,C=e.child,U=C.sibling,o=zi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,U!==null?E=zi(U,E):(E=Is(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,rl(null,o),o=i.child,E=e.child.memoizedState,E===null?E=qf(a):(h=E.cachePool,h!==null?(C=Te._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=ep(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Hf(e,_,a),i.memoizedState=Bf,rl(e.child,o)):(Rr(i),a=e.child,e=a.sibling,a=zi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Ff(e,i){return i=ic({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ic(e,i){return e=gn(22,e,null,i),e.lanes=0,e}function Gf(e,i,a){return xs(i,e.child,null,a),e=Ff(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function my(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),af(e.return,i,a)}function Kf(e,i,a,o,h,f){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function gy(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=de.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,nt(de,_),He(e,i,o,a),o=Vt?Go:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&my(e,a,i);else if(e.tag===19)my(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Gu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Kf(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Gu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Kf(i,!0,a,null,f,o);break;case"together":Kf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Gi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Dr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(wa(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=zi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=zi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Qf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Pu(e)))}function TS(e,i,a){switch(i.tag){case 3:De(i,i.stateNode.containerInfo),Ar(i,Te,e.memoizedState.cache),Cs();break;case 27:case 5:ls(i);break;case 4:De(i,i.stateNode.containerInfo);break;case 10:Ar(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,_f(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Rr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?dy(e,i,a):(Rr(i),e=Gi(e,i,a),e!==null?e.sibling:null);Rr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(wa(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return gy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(de,de.current),o)break;return null;case 22:return i.lanes=0,oy(e,i,a,i.pendingProps);case 24:Ar(i,Te,e.memoizedState.cache)}return Gi(e,i,a)}function py(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Se=!0;else{if(!Qf(e,a)&&(i.flags&128)===0)return Se=!1,TS(e,i,a);Se=(e.flags&131072)!==0}else Se=!1,Vt&&(i.flags&1048576)!==0&&Yg(i,Go,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=Ms(i.elementType),i.type=e,typeof e=="function")Jh(e)?(o=ks(e,o),i.tag=1,i=hy(null,i,e,o,a)):(i.tag=0,i=jf(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===zt){i.tag=11,i=ry(null,i,e,o,a);break t}else if(h===b){i.tag=14,i=sy(null,i,e,o,a);break t}}throw i=ie(e)||e,Error(s(306,i,""))}}return i;case 0:return jf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=ks(o,i.pendingProps),hy(e,i,o,h,a);case 3:t:{if(De(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,df(e,i),Wo(i,o,null,a);var _=i.memoizedState;if(o=_.cache,Ar(i,Te,o),o!==f.cache&&of(i,[Te],a,!0),Zo(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=fy(e,i,o,a);break t}else if(o!==h){h=In(Error(s(424)),i),Ko(h),i=fy(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(te=Mn(e.firstChild),Be=i,Vt=!0,Er=null,Dn=!0,a=op(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Cs(),o===h){i=Gi(e,i,a);break t}He(e,i,o,a)}i=i.child}return i;case 26:return nc(e,i),e===null?(a=I_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Vt||(a=i.type,e=i.pendingProps,o=vc(St.current).createElement(a),o[_e]=i,o[xe]=e,Fe(o,a,e),ve(o),i.stateNode=o):i.memoizedState=I_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ls(i),e===null&&Vt&&(o=i.stateNode=b_(i.type,i.pendingProps,St.current),Be=i,Dn=!0,h=te,Lr(i.type)?(Rd=h,te=Mn(o.firstChild)):te=h),He(e,i,i.pendingProps.children,a),nc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Vt&&((h=o=te)&&(o=JS(o,i.type,i.pendingProps,Dn),o!==null?(i.stateNode=o,Be=i,te=Mn(o.firstChild),Dn=!1,h=!0):h=!1),h||Tr(i)),ls(i),h=i.type,f=i.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,Td(h,f)?o=null:_!==null&&Td(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Ef(e,i,fS,null,null,a),vl._currentValue=h),nc(e,i),He(e,i,o,a),i.child;case 6:return e===null&&Vt&&((e=a=te)&&(a=ZS(a,i.pendingProps,Dn),a!==null?(i.stateNode=a,Be=i,te=null,e=!0):e=!1),e||Tr(i)),null;case 13:return dy(e,i,a);case 4:return De(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=xs(i,null,o,a):He(e,i,o,a),i.child;case 11:return ry(e,i,i.type,i.pendingProps,a);case 7:return He(e,i,i.pendingProps,a),i.child;case 8:return He(e,i,i.pendingProps.children,a),i.child;case 12:return He(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Ar(i,i.type,o.value),He(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Ds(i),h=qe(h),o=o(h),i.flags|=1,He(e,i,o,a),i.child;case 14:return sy(e,i,i.type,i.pendingProps,a);case 15:return ay(e,i,i.type,i.pendingProps,a);case 19:return gy(e,i,a);case 31:return ES(e,i,a);case 22:return oy(e,i,a,i.pendingProps);case 24:return Ds(i),o=qe(Te),e===null?(h=cf(),h===null&&(h=Zt,f=lf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},ff(i),Ar(i,Te,h)):((e.lanes&a)!==0&&(df(e,i),Wo(i,null,null,a),Zo()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ar(i,Te,o)):(o=f.cache,Ar(i,Te,o),o!==h.cache&&of(i,[Te],a,!0))),He(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ki(e){e.flags|=4}function Yf(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Hy())e.flags|=8192;else throw Vs=Bu,hf}else e.flags&=-16777217}function yy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!M_(i))if(Hy())e.flags|=8192;else throw Vs=Bu,hf}function rc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?cu():536870912,e.lanes|=i,Pa|=i)}function sl(e,i){if(!Vt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function AS(e,i,a){var o=i.pendingProps;switch(ef(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(i),null;case 1:return ee(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),qi(Te),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ba(i)?Ki(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,rf())),ee(i),null;case 26:var h=i.type,f=i.memoizedState;return e===null?(Ki(i),f!==null?(ee(i),yy(i,f)):(ee(i),Yf(i,h,null,o,a))):f?f!==e.memoizedState?(Ki(i),ee(i),yy(i,f)):(ee(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Ki(i),ee(i),Yf(i,h,e,o,a)),null;case 27:if(na(i),a=St.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Ki(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ee(i),null}e=rt.current,ba(i)?$g(i):(e=b_(h,o,a),i.stateNode=e,Ki(i))}return ee(i),null;case 5:if(na(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Ki(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ee(i),null}if(f=rt.current,ba(i))$g(i);else{var _=vc(St.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[_e]=i,f[xe]=o;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Ki(i)}}return ee(i),Yf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Ki(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=St.current,ba(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||d_(e.nodeValue,a)),e||Tr(i,!0)}else e=vc(e).createTextNode(o),e[_e]=i,i.stateNode=e}return ee(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=ba(i),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[_e]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ee(i),e=!1}else a=rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(yn(i),i):(yn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ee(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ba(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[_e]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ee(i),h=!1}else h=rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(yn(i),i):(yn(i),null)}return yn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),rc(i,i.updateQueue),ee(i),null);case 4:return re(),e===null&&pd(i.stateNode.containerInfo),ee(i),null;case 10:return qi(i.type),ee(i),null;case 19:if(Y(de),o=i.memoizedState,o===null)return ee(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)sl(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Gu(e),f!==null){for(i.flags|=128,sl(o,!1),e=f.updateQueue,i.updateQueue=e,rc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Gg(a,e),a=a.sibling;return nt(de,de.current&1|2),Vt&&ji(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&We()>uc&&(i.flags|=128,h=!0,sl(o,!1),i.lanes=4194304)}else{if(!h)if(e=Gu(f),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,rc(i,e),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return ee(i),null}else 2*We()-o.renderingStartTime>uc&&a!==536870912&&(i.flags|=128,h=!0,sl(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,a=de.current,nt(de,h?a&1|2:a&1),Vt&&ji(i,o.treeForkCount),e):(ee(i),null);case 22:case 23:return yn(i),yf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ee(i),i.subtreeFlags&6&&(i.flags|=8192)):ee(i),a=i.updateQueue,a!==null&&rc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&Y(Os),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),qi(Te),ee(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function SS(e,i){switch(ef(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return qi(Te),re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return na(i),null;case 31:if(i.memoizedState!==null){if(yn(i),i.alternate===null)throw Error(s(340));Cs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(yn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Cs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Y(de),null;case 4:return re(),null;case 10:return qi(i.type),null;case 22:case 23:return yn(i),yf(),e!==null&&Y(Os),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return qi(Te),null;case 25:return null;default:return null}}function _y(e,i){switch(ef(i),i.tag){case 3:qi(Te),re();break;case 26:case 27:case 5:na(i);break;case 4:re();break;case 31:i.memoizedState!==null&&yn(i);break;case 13:yn(i);break;case 19:Y(de);break;case 10:qi(i.type);break;case 22:case 23:yn(i),yf(),e!==null&&Y(Os);break;case 24:qi(Te)}}function al(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(E){Kt(i,i.return,E)}}function Cr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=i;var C=a,U=E;try{U()}catch(H){Kt(h,C,H)}}}o=o.next}while(o!==f)}}catch(H){Kt(i,i.return,H)}}function vy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{up(i,a)}catch(o){Kt(e,e.return,o)}}}function Ey(e,i,a){a.props=ks(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Kt(e,i,o)}}function ol(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Kt(e,i,h)}}function bi(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Kt(e,i,h)}else a.current=null}function Ty(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Kt(e,e.return,h)}}function Xf(e,i,a){try{var o=e.stateNode;GS(o,e.type,a,i),o[xe]=i}catch(h){Kt(e,e.return,h)}}function Ay(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Lr(e.type)||e.tag===4}function $f(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Lr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Hn));else if(o!==4&&(o===27&&Lr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Jf(e,i,a),e=e.sibling;e!==null;)Jf(e,i,a),e=e.sibling}function sc(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Lr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(sc(e,i,a),e=e.sibling;e!==null;)sc(e,i,a),e=e.sibling}function Sy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Fe(i,o,a),i[_e]=e,i[xe]=a}catch(f){Kt(e,e.return,f)}}var Qi=!1,be=!1,Zf=!1,by=typeof WeakSet=="function"?WeakSet:Set,ke=null;function bS(e,i){if(e=e.containerInfo,vd=Rc,e=kg(e),Fh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var _=0,E=-1,C=-1,U=0,H=0,K=e,z=null;e:for(;;){for(var B;K!==a||h!==0&&K.nodeType!==3||(E=_+h),K!==f||o!==0&&K.nodeType!==3||(C=_+o),K.nodeType===3&&(_+=K.nodeValue.length),(B=K.firstChild)!==null;)z=K,K=B;for(;;){if(K===e)break e;if(z===a&&++U===h&&(E=_),z===f&&++H===o&&(C=_),(B=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=B}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ed={focusedElem:e,selectionRange:a},Rc=!1,ke=i;ke!==null;)if(i=ke,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ke=e;else for(;ke!==null;){switch(i=ke,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var at=ks(a.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Kt(a,a.return,ft)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Sd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,ke=e;break}ke=i.return}}function wy(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(e,a),o&4&&al(5,a);break;case 1:if(Xi(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Kt(a,a.return,_)}else{var h=ks(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Kt(a,a.return,_)}}o&64&&vy(a),o&512&&ol(a,a.return);break;case 3:if(Xi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{up(e,i)}catch(_){Kt(a,a.return,_)}}break;case 27:i===null&&o&4&&Sy(a);case 26:case 5:Xi(e,a),i===null&&o&4&&Ty(a),o&512&&ol(a,a.return);break;case 12:Xi(e,a);break;case 31:Xi(e,a),o&4&&Cy(e,a);break;case 13:Xi(e,a),o&4&&Ny(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=VS.bind(null,a),WS(e,a))));break;case 22:if(o=a.memoizedState!==null||Qi,!o){i=i!==null&&i.memoizedState!==null||be,h=Qi;var f=be;Qi=o,(be=i)&&!f?$i(e,a,(a.subtreeFlags&8772)!==0):Xi(e,a),Qi=h,be=f}break;case 30:break;default:Xi(e,a)}}function Ry(e){var i=e.alternate;i!==null&&(e.alternate=null,Ry(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&oa(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,an=!1;function Yi(e,i,a){for(a=a.child;a!==null;)Iy(e,i,a),a=a.sibling}function Iy(e,i,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:be||bi(a,i),Yi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:be||bi(a,i);var o=ae,h=an;Lr(a.type)&&(ae=a.stateNode,an=!1),Yi(e,i,a),pl(a.stateNode),ae=o,an=h;break;case 5:be||bi(a,i);case 6:if(o=ae,h=an,ae=null,Yi(e,i,a),ae=o,an=h,ae!==null)if(an)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(f){Kt(a,i,f)}else try{ae.removeChild(a.stateNode)}catch(f){Kt(a,i,f)}break;case 18:ae!==null&&(an?(e=ae,v_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ga(e)):v_(ae,a.stateNode));break;case 4:o=ae,h=an,ae=a.stateNode.containerInfo,an=!0,Yi(e,i,a),ae=o,an=h;break;case 0:case 11:case 14:case 15:Cr(2,a,i),be||Cr(4,a,i),Yi(e,i,a);break;case 1:be||(bi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ey(a,i,o)),Yi(e,i,a);break;case 21:Yi(e,i,a);break;case 22:be=(o=be)||a.memoizedState!==null,Yi(e,i,a),be=o;break;default:Yi(e,i,a)}}function Cy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ga(e)}catch(a){Kt(i,i.return,a)}}}function Ny(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ga(e)}catch(a){Kt(i,i.return,a)}}function wS(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new by),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new by),i;default:throw Error(s(435,e.tag))}}function ac(e,i){var a=wS(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=xS.bind(null,e,o);o.then(h,h)}})}function on(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,_=i,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(Lr(E.type)){ae=E.stateNode,an=!1;break t}break;case 5:ae=E.stateNode,an=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(ae===null)throw Error(s(160));Iy(f,_,h),ae=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Dy(i,e),i=i.sibling}var Xn=null;function Dy(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(i,e),ln(e),o&4&&(Cr(3,e,e.return),al(3,e),Cr(5,e,e.return));break;case 1:on(i,e),ln(e),o&512&&(be||a===null||bi(a,a.return)),o&64&&Qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Xn;if(on(i,e),ln(e),o&512&&(be||a===null||bi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ci]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,a),f[_e]=e,ve(f),o=f;break t;case"link":var _=D_("link","href",h).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;case"meta":if(_=D_("meta","content",h).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else O_(h,e.type,e.stateNode);else e.stateNode=N_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?O_(h,e.type,e.stateNode):N_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Xf(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(i,e),ln(e),o&512&&(be||a===null||bi(a,a.return)),a!==null&&o&4&&Xf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(i,e),ln(e),o&512&&(be||a===null||bi(a,a.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(at){Kt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Xf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Zf=!0);break;case 6:if(on(i,e),ln(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(at){Kt(e,e.return,at)}}break;case 3:if(Ac=null,h=Xn,Xn=Ec(i.containerInfo),on(i,e),Xn=h,ln(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ga(i.containerInfo)}catch(at){Kt(e,e.return,at)}Zf&&(Zf=!1,Oy(e));break;case 4:o=Xn,Xn=Ec(e.stateNode.containerInfo),on(i,e),ln(e),Xn=o;break;case 12:on(i,e),ln(e);break;case 31:on(i,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ac(e,o)));break;case 13:on(i,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(lc=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ac(e,o)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,U=Qi,H=be;if(Qi=U||h,be=H||C,on(i,e),be=H,Qi=U,ln(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Qi||be||Ps(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(f=C.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=C.stateNode;var K=C.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(at){Kt(C,C.return,at)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(at){Kt(C,C.return,at)}}}else if(i.tag===18){if(a===null){C=i;try{var B=C.stateNode;h?E_(B,!0):E_(C.stateNode,!1)}catch(at){Kt(C,C.return,at)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ac(e,a))));break;case 19:on(i,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ac(e,o)));break;case 30:break;case 21:break;default:on(i,e),ln(e)}}function ln(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Ay(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=$f(e);sc(e,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(sn(_,""),a.flags&=-33);var E=$f(e);sc(e,E,_);break;case 3:case 4:var C=a.stateNode.containerInfo,U=$f(e);Jf(e,U,C);break;default:throw Error(s(161))}}catch(H){Kt(e,e.return,H)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Oy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Oy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Xi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)wy(e,i.alternate,i),i=i.sibling}function Ps(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Cr(4,i,i.return),Ps(i);break;case 1:bi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ey(i,i.return,a),Ps(i);break;case 27:pl(i.stateNode);case 26:case 5:bi(i,i.return),Ps(i);break;case 22:i.memoizedState===null&&Ps(i);break;case 30:Ps(i);break;default:Ps(i)}e=e.sibling}}function $i(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:$i(h,f,a),al(4,f);break;case 1:if($i(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Kt(o,o.return,U)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)lp(C[h],E)}catch(U){Kt(o,o.return,U)}}a&&_&64&&vy(f),ol(f,f.return);break;case 27:Sy(f);case 26:case 5:$i(h,f,a),a&&o===null&&_&4&&Ty(f),ol(f,f.return);break;case 12:$i(h,f,a);break;case 31:$i(h,f,a),a&&_&4&&Cy(h,f);break;case 13:$i(h,f,a),a&&_&4&&Ny(h,f);break;case 22:f.memoizedState===null&&$i(h,f,a),ol(f,f.return);break;case 30:break;default:$i(h,f,a)}i=i.sibling}}function Wf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Qo(a))}function td(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Qo(e))}function $n(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)My(e,i,a,o),i=i.sibling}function My(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:$n(e,i,a,o),h&2048&&al(9,i);break;case 1:$n(e,i,a,o);break;case 3:$n(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Qo(e)));break;case 12:if(h&2048){$n(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Kt(i,i.return,C)}}else $n(e,i,a,o);break;case 31:$n(e,i,a,o);break;case 13:$n(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?$n(e,i,a,o):ll(e,i):f._visibility&2?$n(e,i,a,o):(f._visibility|=2,xa(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Wf(_,i);break;case 24:$n(e,i,a,o),h&2048&&td(i.alternate,i);break;default:$n(e,i,a,o)}}function xa(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,_=i,E=a,C=o,U=_.flags;switch(_.tag){case 0:case 11:case 15:xa(f,_,E,C,h),al(8,_);break;case 23:break;case 22:var H=_.stateNode;_.memoizedState!==null?H._visibility&2?xa(f,_,E,C,h):ll(f,_):(H._visibility|=2,xa(f,_,E,C,h)),h&&U&2048&&Wf(_.alternate,_);break;case 24:xa(f,_,E,C,h),h&&U&2048&&td(_.alternate,_);break;default:xa(f,_,E,C,h)}i=i.sibling}}function ll(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:ll(a,o),h&2048&&Wf(o.alternate,o);break;case 24:ll(a,o),h&2048&&td(o.alternate,o);break;default:ll(a,o)}i=i.sibling}}var ul=8192;function La(e,i,a){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)Vy(e,i,a),e=e.sibling}function Vy(e,i,a){switch(e.tag){case 26:La(e,i,a),e.flags&ul&&e.memoizedState!==null&&hb(a,Xn,e.memoizedState,e.memoizedProps);break;case 5:La(e,i,a);break;case 3:case 4:var o=Xn;Xn=Ec(e.stateNode.containerInfo),La(e,i,a),Xn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ul,ul=16777216,La(e,i,a),ul=o):La(e,i,a));break;default:La(e,i,a)}}function xy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function cl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ke=o,ky(o,e)}xy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ly(e),e=e.sibling}function Ly(e){switch(e.tag){case 0:case 11:case 15:cl(e),e.flags&2048&&Cr(9,e,e.return);break;case 3:cl(e);break;case 12:cl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,oc(e)):cl(e);break;default:cl(e)}}function oc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ke=o,ky(o,e)}xy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Cr(8,i,i.return),oc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,oc(i));break;default:oc(i)}e=e.sibling}}function ky(e,i){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:Cr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Qo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ke=o;else t:for(a=e;ke!==null;){o=ke;var h=o.sibling,f=o.return;if(Ry(o),o===a){ke=null;break t}if(h!==null){h.return=f,ke=h;break t}ke=f}}}var RS={getCacheForType:function(e){var i=qe(Te),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return qe(Te).controller.signal}},IS=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Zt=null,wt=null,It=0,Gt=0,_n=null,Nr=!1,ka=!1,ed=!1,Ji=0,ce=0,Dr=0,Us=0,nd=0,vn=0,Pa=0,hl=null,un=null,id=!1,lc=0,Py=0,uc=1/0,cc=null,Or=null,Me=0,Mr=null,Ua=null,Zi=0,rd=0,sd=null,Uy=null,fl=0,ad=null;function En(){return(Bt&2)!==0&&It!==0?It&-It:F.T!==null?fd():hu()}function zy(){if(vn===0)if((It&536870912)===0||Vt){var e=hs;hs<<=1,(hs&3932160)===0&&(hs=262144),vn=e}else vn=536870912;return e=pn.current,e!==null&&(e.flags|=32),vn}function cn(e,i,a){(e===Zt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(za(e,0),Vr(e,It,vn,!1)),fs(e,a),((Bt&2)===0||e!==Zt)&&(e===Zt&&((Bt&2)===0&&(Us|=a),ce===4&&Vr(e,It,vn,!1)),wi(e))}function jy(e,i,a){if((Bt&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||jn(e,i),h=o?DS(e,i):ld(e,i,!0),f=o;do{if(h===0){ka&&!o&&Vr(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!CS(a)){h=ld(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var E=e;h=hl;var C=E.current.memoizedState.isDehydrated;if(C&&(za(E,_).flags|=256),_=ld(E,_,!1),_!==2){if(ed&&!C){E.errorRecoveryDisabledLanes|=f,Us|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){za(e,0),Vr(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Vr(o,i,vn,!Nr);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=lc+300-We(),10<h)){if(Vr(o,i,vn,!Nr),oi(o,0,!0)!==0)break t;Zi=i,o.timeoutHandle=y_(By.bind(null,o,a,un,cc,id,i,vn,Us,Pa,Nr,f,"Throttled",-0,0),h);break t}By(o,a,un,cc,id,i,vn,Us,Pa,Nr,f,null,-0,0)}}break}while(!0);wi(e)}function By(e,i,a,o,h,f,_,E,C,U,H,K,z,B){if(e.timeoutHandle=-1,K=i.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Vy(i,f,K);var at=(f&62914560)===f?lc-We():(f&4194048)===f?Py-We():0;if(at=fb(K,at),at!==null){Zi=f,e.cancelPendingCommit=at(Xy.bind(null,e,i,f,a,o,h,_,E,C,H,K,null,z,B)),Vr(e,f,_,!U);return}}Xy(e,i,f,a,o,h,_,E,C)}function CS(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vr(e,i,a,o){i&=~nd,i&=~Us,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-he(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&ds(e,a,i)}function hc(){return(Bt&6)===0?(dl(0),!1):!0}function od(){if(wt!==null){if(Gt===0)var e=wt.return;else e=wt,Bi=Ns=null,Sf(e),Na=null,Xo=0,e=wt;for(;e!==null;)_y(e.alternate,e),e=e.return;wt=null}}function za(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,YS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Zi=0,od(),Zt=e,wt=a=zi(e.current,null),It=i,Gt=0,_n=null,Nr=!1,ka=jn(e,i),ed=!1,Pa=vn=nd=Us=Dr=ce=0,un=hl=null,id=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-he(o),f=1<<h;i|=e[h],o&=~f}return Ji=i,Mu(),a}function qy(e,i){At=null,F.H=il,i===Ca||i===ju?(i=rp(),Gt=3):i===hf?(i=rp(),Gt=4):Gt=i===zf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_n=i,wt===null&&(ce=1,tc(e,In(i,e.current)))}function Hy(){var e=pn.current;return e===null?!0:(It&4194048)===It?On===null:(It&62914560)===It||(It&536870912)!==0?e===On:!1}function Fy(){var e=F.H;return F.H=il,e===null?il:e}function Gy(){var e=F.A;return F.A=RS,e}function fc(){ce=4,Nr||(It&4194048)!==It&&pn.current!==null||(ka=!0),(Dr&134217727)===0&&(Us&134217727)===0||Zt===null||Vr(Zt,It,vn,!1)}function ld(e,i,a){var o=Bt;Bt|=2;var h=Fy(),f=Gy();(Zt!==e||It!==i)&&(cc=null,za(e,i)),i=!1;var _=ce;t:do try{if(Gt!==0&&wt!==null){var E=wt,C=_n;switch(Gt){case 8:od(),_=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(i=!0);var U=Gt;if(Gt=0,_n=null,ja(e,E,C,U),a&&ka){_=0;break t}break;default:U=Gt,Gt=0,_n=null,ja(e,E,C,U)}}NS(),_=ce;break}catch(H){qy(e,H)}while(!0);return i&&e.shellSuspendCounter++,Bi=Ns=null,Bt=o,F.H=h,F.A=f,wt===null&&(Zt=null,It=0,Mu()),_}function NS(){for(;wt!==null;)Ky(wt)}function DS(e,i){var a=Bt;Bt|=2;var o=Fy(),h=Gy();Zt!==e||It!==i?(cc=null,uc=We()+500,za(e,i)):ka=jn(e,i);t:do try{if(Gt!==0&&wt!==null){i=wt;var f=_n;e:switch(Gt){case 1:Gt=0,_n=null,ja(e,i,f,1);break;case 2:case 9:if(np(f)){Gt=0,_n=null,Qy(i);break}i=function(){Gt!==2&&Gt!==9||Zt!==e||(Gt=7),wi(e)},f.then(i,i);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:np(f)?(Gt=0,_n=null,Qy(i)):(Gt=0,_n=null,ja(e,i,f,7));break;case 5:var _=null;switch(wt.tag){case 26:_=wt.memoizedState;case 5:case 27:var E=wt;if(_?M_(_):E.stateNode.complete){Gt=0,_n=null;var C=E.sibling;if(C!==null)wt=C;else{var U=E.return;U!==null?(wt=U,dc(U)):wt=null}break e}}Gt=0,_n=null,ja(e,i,f,5);break;case 6:Gt=0,_n=null,ja(e,i,f,6);break;case 8:od(),ce=6;break t;default:throw Error(s(462))}}OS();break}catch(H){qy(e,H)}while(!0);return Bi=Ns=null,F.H=o,F.A=h,Bt=a,wt!==null?0:(Zt=null,It=0,Mu(),ce)}function OS(){for(;wt!==null&&!Ph();)Ky(wt)}function Ky(e){var i=py(e.alternate,e,Ji);e.memoizedProps=e.pendingProps,i===null?dc(e):wt=i}function Qy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=cy(a,i,i.pendingProps,i.type,void 0,It);break;case 11:i=cy(a,i,i.pendingProps,i.type.render,i.ref,It);break;case 5:Sf(i);default:_y(a,i),i=wt=Gg(i,Ji),i=py(a,i,Ji)}e.memoizedProps=e.pendingProps,i===null?dc(e):wt=i}function ja(e,i,a,o){Bi=Ns=null,Sf(i),Na=null,Xo=0;var h=i.return;try{if(vS(e,h,i,a,It)){ce=1,tc(e,In(a,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;ce=1,tc(e,In(a,e.current)),wt=null;return}i.flags&32768?(Vt||o===1?e=!0:ka||(It&536870912)!==0?e=!1:(Nr=e=!0,(o===2||o===9||o===3||o===6)&&(o=pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Yy(i,e)):dc(i)}function dc(e){var i=e;do{if((i.flags&32768)!==0){Yy(i,Nr);return}e=i.return;var a=AS(i.alternate,i,Ji);if(a!==null){wt=a;return}if(i=i.sibling,i!==null){wt=i;return}wt=i=e}while(i!==null);ce===0&&(ce=5)}function Yy(e,i){do{var a=SS(e.alternate,e);if(a!==null){a.flags&=32767,wt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){wt=e;return}wt=e=a}while(e!==null);ce=6,wt=null}function Xy(e,i,a,o,h,f,_,E,C){e.cancelPendingCommit=null;do mc();while(Me!==0);if((Bt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Xh,jh(e,a,f,_,E,C),e===Zt&&(wt=Zt=null,It=0),Ua=i,Mr=e,Zi=a,rd=f,sd=h,Uy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,LS(ur,function(){return t_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=et.p,et.p=2,_=Bt,Bt|=4;try{bS(e,i,a)}finally{Bt=_,et.p=h,F.T=o}}Me=1,$y(),Jy(),Zy()}}function $y(){if(Me===1){Me=0;var e=Mr,i=Ua,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=et.p;et.p=2;var h=Bt;Bt|=4;try{Dy(i,e);var f=Ed,_=kg(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&Lg(E.ownerDocument.documentElement,E)){if(C!==null&&Fh(E)){var U=C.start,H=C.end;if(H===void 0&&(H=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(H,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var B=z.getSelection(),at=E.textContent.length,ft=Math.min(C.start,at),$t=C.end===void 0?ft:Math.min(C.end,at);!B.extend&&ft>$t&&(_=$t,$t=ft,ft=_);var x=xg(E,ft),N=xg(E,$t);if(x&&N&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var P=K.createRange();P.setStart(x.node,x.offset),B.removeAllRanges(),ft>$t?(B.addRange(P),B.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),B.addRange(P))}}}}for(K=[],B=E;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var G=K[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Rc=!!vd,Ed=vd=null}finally{Bt=h,et.p=o,F.T=a}}e.current=i,Me=2}}function Jy(){if(Me===2){Me=0;var e=Mr,i=Ua,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=et.p;et.p=2;var h=Bt;Bt|=4;try{wy(e,i.alternate,i)}finally{Bt=h,et.p=o,F.T=a}}Me=3}}function Zy(){if(Me===4||Me===3){Me=0,ru();var e=Mr,i=Ua,a=Zi,o=Uy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Me=5:(Me=0,Ua=Mr=null,Wy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Or=null),Li(a),i=i.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(zn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=F.T,h=et.p,et.p=2,F.T=null;try{for(var f=e.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{F.T=i,et.p=h}}(Zi&3)!==0&&mc(),wi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ad?fl++:(fl=0,ad=e):fl=0,dl(0)}}function Wy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Qo(i)))}function mc(){return $y(),Jy(),Zy(),t_()}function t_(){if(Me!==5)return!1;var e=Mr,i=rd;rd=0;var a=Li(Zi),o=F.T,h=et.p;try{et.p=32>a?32:a,F.T=null,a=sd,sd=null;var f=Mr,_=Zi;if(Me=0,Ua=Mr=null,Zi=0,(Bt&6)!==0)throw Error(s(331));var E=Bt;if(Bt|=4,Ly(f.current),My(f,f.current,_,a),Bt=E,dl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{et.p=h,F.T=o,Wy(e,i)}}function e_(e,i,a){i=In(a,i),i=Uf(e.stateNode,i,2),e=wr(e,i,2),e!==null&&(fs(e,2),wi(e))}function Kt(e,i,a){if(e.tag===3)e_(e,e,a);else for(;i!==null;){if(i.tag===3){e_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Or===null||!Or.has(o))){e=In(a,e),a=ny(2),o=wr(i,a,2),o!==null&&(iy(a,o,i,e),fs(o,2),wi(o));break}}i=i.return}}function ud(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new IS;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(ed=!0,h.add(a),e=MS.bind(null,e,i,a),i.then(e,e))}function MS(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Zt===e&&(It&a)===a&&(ce===4||ce===3&&(It&62914560)===It&&300>We()-lc?(Bt&2)===0&&za(e,0):nd|=a,Pa===It&&(Pa=0)),wi(e)}function n_(e,i){i===0&&(i=cu()),e=Rs(e,i),e!==null&&(fs(e,i),wi(e))}function VS(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),n_(e,a)}function xS(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),n_(e,a)}function LS(e,i){return Oe(e,i)}var gc=null,Ba=null,cd=!1,pc=!1,hd=!1,xr=0;function wi(e){e!==Ba&&e.next===null&&(Ba===null?gc=Ba=e:Ba=Ba.next=e),pc=!0,cd||(cd=!0,PS())}function dl(e,i){if(!hd&&pc){hd=!0;do for(var a=!1,o=gc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,a_(o,f))}else f=It,f=oi(o,o===Zt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||jn(o,f)||(a=!0,a_(o,f));o=o.next}while(a);hd=!1}}function kS(){i_()}function i_(){pc=cd=!1;var e=0;xr!==0&&QS()&&(e=xr);for(var i=We(),a=null,o=gc;o!==null;){var h=o.next,f=r_(o,i);f===0?(o.next=null,a===null?gc=h:a.next=h,h===null&&(Ba=a)):(a=o,(e!==0||(f&3)!==0)&&(pc=!0)),o=h}Me!==0&&Me!==5||dl(e),xr!==0&&(xr=0)}function r_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-he(f),E=1<<_,C=h[_];C===-1?((E&a)===0||(E&o)!==0)&&(h[_]=zh(E,i)):C<=i&&(e.expiredLanes|=E),f&=~E}if(i=Zt,a=It,a=oi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&lr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||jn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&lr(o),Li(a)){case 2:case 8:a=So;break;case 32:a=ur;break;case 268435456:a=su;break;default:a=ur}return o=s_.bind(null,e),a=Oe(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&lr(o),e.callbackPriority=2,e.callbackNode=null,2}function s_(e,i){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(mc()&&e.callbackNode!==a)return null;var o=It;return o=oi(e,e===Zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(jy(e,o,i),r_(e,We()),e.callbackNode!=null&&e.callbackNode===a?s_.bind(null,e):null)}function a_(e,i){if(mc())return null;jy(e,i,!0)}function PS(){XS(function(){(Bt&6)!==0?Oe(Ao,kS):i_()})}function fd(){if(xr===0){var e=Ra;e===0&&(e=si,si<<=1,(si&261888)===0&&(si=256)),xr=e}return xr}function o_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ha(""+e)}function l_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function US(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=o_((h[xe]||null).action),_=o.submitter;_&&(i=(i=_[xe]||null)?o_(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var E=new _i("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(xr!==0){var C=_?l_(h,_):new FormData(h);Mf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=_?l_(h,_):new FormData(h),Mf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var dd=0;dd<Yh.length;dd++){var md=Yh[dd],zS=md.toLowerCase(),jS=md[0].toUpperCase()+md.slice(1);Yn(zS,"on"+jS)}Yn(zg,"onAnimationEnd"),Yn(jg,"onAnimationIteration"),Yn(Bg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(nS,"onTransitionRun"),Yn(iS,"onTransitionStart"),Yn(rS,"onTransitionCancel"),Yn(qg,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function u_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var _=o.length-1;0<=_;_--){var E=o[_],C=E.instance,U=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=U;try{f(h)}catch(H){Ou(H)}h.currentTarget=null,f=C}else for(_=0;_<o.length;_++){if(E=o[_],C=E.instance,U=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=U;try{f(h)}catch(H){Ou(H)}h.currentTarget=null,f=C}}}}function Rt(e,i){var a=i[aa];a===void 0&&(a=i[aa]=new Set);var o=e+"__bubble";a.has(o)||(c_(i,e,2,!1),a.add(o))}function gd(e,i,a){var o=0;i&&(o|=4),c_(a,e,o,i)}var yc="_reactListening"+Math.random().toString(36).slice(2);function pd(e){if(!e[yc]){e[yc]=!0,Ro.forEach(function(a){a!=="selectionchange"&&(BS.has(a)||gd(a,!1,e),gd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[yc]||(i[yc]=!0,gd("selectionchange",!1,i))}}function c_(e,i,a,o){switch(z_(i)){case 2:var h=gb;break;case 8:h=pb;break;default:h=Od}a=h.bind(null,i,a,e),h=void 0,!_s||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function yd(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=hi(E),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){o=f=_;continue t}E=E.parentNode}}o=o.return}gr(function(){var U=f,H=Sn(a),K=[];t:{var z=Hg.get(e);if(z!==void 0){var B=_i,at=e;switch(e){case"keypress":if(Es(a)===0)break t;case"keydown":case"keyup":B=Cu;break;case"focusin":at="focus",B=As;break;case"focusout":at="blur",B=As;break;case"beforeblur":case"afterblur":B=As;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case zg:case jg:case Bg:B=Tu;break;case qg:B=A;break;case"scroll":case"scrollend":B=Uo;break;case"wheel":B=j;break;case"copy":case"cut":case"paste":B=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Ui;break;case"toggle":case"beforetoggle":B=Tt}var ft=(i&4)!==0,$t=!ft&&(e==="scroll"||e==="scrollend"),x=ft?z!==null?z+"Capture":null:z;ft=[];for(var N=U,P;N!==null;){var G=N;if(P=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||P===null||x===null||(G=Fn(N,x),G!=null&&ft.push(gl(N,G,P))),$t)break;N=N.return}0<ft.length&&(z=new B(z,at,null,a,H),K.push({event:z,listeners:ft}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==Lo&&(at=a.relatedTarget||a.fromElement)&&(hi(at)||at[ui]))break t;if((B||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,B?(at=a.relatedTarget||a.toElement,B=U,at=at?hi(at):null,at!==null&&($t=u(at),ft=at.tag,at!==$t||ft!==5&&ft!==27&&ft!==6)&&(at=null)):(B=null,at=U),B!==at)){if(ft=zo,G="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Ui,G="onPointerLeave",x="onPointerEnter",N="pointer"),$t=B==null?z:fn(B),P=at==null?z:fn(at),z=new ft(G,N+"leave",B,a,H),z.target=$t,z.relatedTarget=P,G=null,hi(H)===U&&(ft=new ft(x,N+"enter",at,a,H),ft.target=P,ft.relatedTarget=$t,G=ft),$t=G,B&&at)e:{for(ft=qS,x=B,N=at,P=0,G=x;G;G=ft(G))P++;G=0;for(var ut=N;ut;ut=ft(ut))G++;for(;0<P-G;)x=ft(x),P--;for(;0<G-P;)N=ft(N),G--;for(;P--;){if(x===N||N!==null&&x===N.alternate){ft=x;break e}x=ft(x),N=ft(N)}ft=null}else ft=null;B!==null&&h_(K,z,B,ft,!1),at!==null&&$t!==null&&h_(K,$t,at,ft,!0)}}t:{if(z=U?fn(U):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var Pt=Cg;else if(Rg(z))if(Ng)Pt=WA;else{Pt=JA;var lt=$A}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&ca(U.elementType)&&(Pt=Cg):Pt=ZA;if(Pt&&(Pt=Pt(e,U))){Ig(K,Pt,a,H);break t}lt&&lt(e,z,U),e==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&Mo(z,"number",z.value)}switch(lt=U?fn(U):window,e){case"focusin":(Rg(lt)||lt.contentEditable==="true")&&(_a=lt,Gh=U,Fo=null);break;case"focusout":Fo=Gh=_a=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Pg(K,a,H);break;case"selectionchange":if(eS)break;case"keydown":case"keyup":Pg(K,a,H)}var bt;if(jt)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else ya?Ss(e,a)&&(Ct="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(Ti&&a.locale!=="ko"&&(ya||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&ya&&(bt=Po()):(yi=H,ko="value"in yi?yi.value:yi.textContent,ya=!0)),lt=_c(U,Ct),0<lt.length&&(Ct=new Ei(Ct,e,null,a,H),K.push({event:Ct,listeners:lt}),bt?Ct.data=bt:(bt=pa(a),bt!==null&&(Ct.data=bt)))),(bt=wn?KA(e,a):QA(e,a))&&(Ct=_c(U,"onBeforeInput"),0<Ct.length&&(lt=new Ei("onBeforeInput","beforeinput",null,a,H),K.push({event:lt,listeners:Ct}),lt.data=bt)),US(K,e,U,a,H)}u_(K,i)})}function gl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function _c(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Fn(e,a),h!=null&&o.unshift(gl(e,h,f)),h=Fn(e,i),h!=null&&o.push(gl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function qS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function h_(e,i,a,o,h){for(var f=i._reactName,_=[];a!==null&&a!==o;){var E=a,C=E.alternate,U=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||U===null||(C=U,h?(U=Fn(a,f),U!=null&&_.unshift(gl(a,U,C))):h||(U=Fn(a,f),U!=null&&_.push(gl(a,U,C)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var HS=/\r\n?/g,FS=/\u0000|\uFFFD/g;function f_(e){return(typeof e=="string"?e:""+e).replace(HS,`
`).replace(FS,"")}function d_(e,i){return i=f_(i),f_(e)===i}function Xt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&sn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,a,o);break;case"style":xo(e,o,f);break;case"data":if(i!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ha(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Xt(e,i,"name",h.name,h,null),Xt(e,i,"formEncType",h.formEncType,h,null),Xt(e,i,"formMethod",h.formMethod,h,null),Xt(e,i,"formTarget",h.formTarget,h,null)):(Xt(e,i,"encType",h.encType,h,null),Xt(e,i,"method",h.method,h,null),Xt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ha(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ha(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),la(e,"popover",o);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":la(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_u.get(a)||a,la(e,a,o))}}function _d(e,i,a,o,h,f){switch(a){case"style":xo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[xe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):la(e,a,o)}}}function Fe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,f,_,a,null)}}h&&Xt(e,i,"srcSet",a.srcSet,a,null),o&&Xt(e,i,"src",a.src,a,null);return;case"input":Rt("invalid",e);var E=f=_=h=null,C=null,U=null;for(o in a)if(a.hasOwnProperty(o)){var H=a[o];if(H!=null)switch(o){case"name":h=H;break;case"type":_=H;break;case"checked":C=H;break;case"defaultChecked":U=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Xt(e,i,o,H,a,null)}}gu(e,f,E,C,U,_,h,!1);return;case"select":Rt("invalid",e),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:Xt(e,i,h,E,a,null)}i=f,a=_,e.multiple=!!o,i!=null?hr(e,!!o,i,!1):a!=null&&hr(e,!!o,a,!0);return;case"textarea":Rt("invalid",e),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xt(e,i,_,E,a,null)}fr(e,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(e,i,C,o,a,null)}return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<ml.length;o++)Rt(ml[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(o=a[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,U,o,a,null)}return;default:if(ca(i)){for(H in a)a.hasOwnProperty(H)&&(o=a[H],o!==void 0&&_d(e,i,H,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Xt(e,i,E,o,a,null))}function GS(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,C=null,U=null,H=null;for(B in a){var K=a[B];if(a.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":C=K;default:o.hasOwnProperty(B)||Xt(e,i,B,null,o,K)}}for(var z in o){var B=o[z];if(K=a[z],o.hasOwnProperty(z)&&(B!=null||K!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":U=B;break;case"defaultChecked":H=B;break;case"value":_=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==K&&Xt(e,i,z,B,o,K)}}ua(e,_,E,C,U,H,f,h);return;case"select":B=_=E=z=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":B=C;default:o.hasOwnProperty(f)||Xt(e,i,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==C&&Xt(e,i,h,f,o,C)}i=E,a=_,o=B,z!=null?hr(e,!!a,z,!1):!!o!=!!a&&(i!=null?hr(e,!!a,i,!0):hr(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,i,E,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Xt(e,i,_,h,o,f)}pu(e,z,B);return;case"option":for(var at in a)if(z=a[at],a.hasOwnProperty(at)&&z!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Xt(e,i,at,null,o,z)}for(C in o)if(z=o[C],B=a[C],o.hasOwnProperty(C)&&z!==B&&(z!=null||B!=null))switch(C){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Xt(e,i,C,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)z=a[ft],a.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft)&&Xt(e,i,ft,null,o,z);for(U in o)if(z=o[U],B=a[U],o.hasOwnProperty(U)&&z!==B&&(z!=null||B!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Xt(e,i,U,z,o,B)}return;default:if(ca(i)){for(var $t in a)z=a[$t],a.hasOwnProperty($t)&&z!==void 0&&!o.hasOwnProperty($t)&&_d(e,i,$t,void 0,o,z);for(H in o)z=o[H],B=a[H],!o.hasOwnProperty(H)||z===B||z===void 0&&B===void 0||_d(e,i,H,z,o,B);return}}for(var x in a)z=a[x],a.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Xt(e,i,x,null,o,z);for(K in o)z=o[K],B=a[K],!o.hasOwnProperty(K)||z===B||z==null&&B==null||Xt(e,i,K,z,o,B)}function m_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,E=h.duration;if(f&&E&&m_(_)){for(_=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],U=C.startTime;if(U>E)break;var H=C.transferSize,K=C.initiatorType;H&&m_(K)&&(C=C.responseEnd,_+=H*(C<E?1:(E-U)/(C-U)))}if(--o,i+=8*(f+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vd=null,Ed=null;function vc(e){return e.nodeType===9?e:e.ownerDocument}function g_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Td(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ad=null;function QS(){var e=window.event;return e&&e.type==="popstate"?e===Ad?!1:(Ad=e,!0):(Ad=null,!1)}var y_=typeof setTimeout=="function"?setTimeout:void 0,YS=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,XS=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(e){return __.resolve(null).then(e).catch($S)}:y_;function $S(e){setTimeout(function(){throw e})}function Lr(e){return e==="head"}function v_(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ga(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")pl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,pl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,E=f.nodeName;f[ci]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&pl(e.ownerDocument.body);a=h}while(a);Ga(i)}function E_(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Sd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sd(a),oa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function JS(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ci])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function ZS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Mn(e.nextSibling),e===null))return null;return e}function T_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Mn(e.nextSibling),e===null))return null;return e}function bd(e){return e.data==="$?"||e.data==="$~"}function wd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function WS(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Rd=null;function A_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Mn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function S_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function b_(e,i,a){switch(i=vc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function pl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);oa(e)}var Vn=new Map,w_=new Set;function Ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wi=et.d;et.d={f:tb,r:eb,D:nb,C:ib,L:rb,m:sb,X:ob,S:ab,M:lb};function tb(){var e=Wi.f(),i=hc();return e||i}function eb(e){var i=An(e);i!==null&&i.tag===5&&i.type==="form"?qp(i):Wi.r(e)}var qa=typeof document>"u"?null:document;function R_(e,i,a){var o=qa;if(o&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),w_.has(h)||(w_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Fe(i,"link",e),ve(i),o.head.appendChild(i)))}}function nb(e){Wi.D(e),R_("dns-prefetch",e,null)}function ib(e,i){Wi.C(e,i),R_("preconnect",e,i)}function rb(e,i,a){Wi.L(e,i,a);var o=qa;if(o&&e&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(i){case"style":f=Ha(e);break;case"script":f=Fa(e)}Vn.has(f)||(e=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Vn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(yl(f))||i==="script"&&o.querySelector(_l(f))||(i=o.createElement("link"),Fe(i,"link",e),ve(i),o.head.appendChild(i)))}}function sb(e,i){Wi.m(e,i);var a=qa;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fa(e)}if(!Vn.has(f)&&(e=w({rel:"modulepreload",href:e},i),Vn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_l(f)))return}o=a.createElement("link"),Fe(o,"link",e),ve(o),a.head.appendChild(o)}}}function ab(e,i,a){Wi.S(e,i,a);var o=qa;if(o&&e){var h=fi(o).hoistableStyles,f=Ha(e);i=i||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(yl(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Vn.get(f))&&Id(e,a);var C=_=o.createElement("link");ve(C),Fe(C,"link",e),C._p=new Promise(function(U,H){C.onload=U,C.onerror=H}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Tc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function ob(e,i){Wi.X(e,i);var a=qa;if(a&&e){var o=fi(a).hoistableScripts,h=Fa(e),f=o.get(h);f||(f=a.querySelector(_l(h)),f||(e=w({src:e,async:!0},i),(i=Vn.get(h))&&Cd(e,i),f=a.createElement("script"),ve(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function lb(e,i){Wi.M(e,i);var a=qa;if(a&&e){var o=fi(a).hoistableScripts,h=Fa(e),f=o.get(h);f||(f=a.querySelector(_l(h)),f||(e=w({src:e,async:!0,type:"module"},i),(i=Vn.get(h))&&Cd(e,i),f=a.createElement("script"),ve(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function I_(e,i,a,o){var h=(h=St.current)?Ec(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ha(a.href),a=fi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ha(a.href);var f=fi(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(yl(e)))&&!f._p&&(_.instance=f,_.state.loading=5),Vn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(e,a),f||ub(h,e,a,_.state))),i&&o===null)throw Error(s(528,""));return _}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fa(a),a=fi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ha(e){return'href="'+rn(e)+'"'}function yl(e){return'link[rel="stylesheet"]['+e+"]"}function C_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function ub(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Fe(i,"link",a),ve(i),e.head.appendChild(i))}function Fa(e){return'[src="'+rn(e)+'"]'}function _l(e){return"script[async]"+e}function N_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return i.instance=o,ve(o),o;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),Fe(o,"style",h),Tc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Ha(a.href);var f=e.querySelector(yl(h));if(f)return i.state.loading|=4,i.instance=f,ve(f),f;o=C_(a),(h=Vn.get(h))&&Id(o,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var _=f;return _._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Fe(f,"link",o),i.state.loading|=4,Tc(f,a.precedence,e),i.instance=f;case"script":return f=Fa(a.src),(h=e.querySelector(_l(f)))?(i.instance=h,ve(h),h):(o=a,(h=Vn.get(f))&&(o=w({},a),Cd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),Fe(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Tc(o,a.precedence,e));return i.instance}function Tc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Id(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Cd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Ac=null;function D_(e,i,a){if(Ac===null){var o=new Map,h=Ac=new Map;h.set(a,o)}else h=Ac,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ci]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=e+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function O_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function cb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function M_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function hb(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ha(o.href),f=i.querySelector(yl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Sc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=f,ve(f);return}f=i.ownerDocument||i,o=C_(o),(h=Vn.get(h))&&Id(o,h),f=f.createElement("link"),ve(f);var _=f;_._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Fe(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Sc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Nd=0;function fb(e,i){return e.stylesheets&&e.count===0&&wc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&Nd===0&&(Nd=62500*KS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Nd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bc=null;function wc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bc=new Map,i.forEach(db,e),bc=null,Sc.call(e))}function db(e,i){if(!(i.state.loading&4)){var a=bc.get(e);if(a)var o=a.get(null);else{a=new Map,bc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=Sc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var vl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function mb(e,i,a,o,h,f,_,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function V_(e,i,a,o,h,f,_,E,C,U,H,K){return e=new mb(e,i,a,_,C,U,H,K,E),i=1,f===!0&&(i|=24),f=gn(3,null,null,i),e.current=f,f.stateNode=e,i=lf(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},ff(f),e}function x_(e){return e?(e=Ta,e):Ta}function L_(e,i,a,o,h,f){h=x_(h),o.context===null?o.context=h:o.pendingContext=h,o=br(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=wr(e,o,i),a!==null&&(cn(a,e,i),Jo(a,e,i))}function k_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Dd(e,i){k_(e,i),(e=e.alternate)&&k_(e,i)}function P_(e){if(e.tag===13||e.tag===31){var i=Rs(e,67108864);i!==null&&cn(i,e,67108864),Dd(e,67108864)}}function U_(e){if(e.tag===13||e.tag===31){var i=En();i=ms(i);var a=Rs(e,i);a!==null&&cn(a,e,i),Dd(e,i)}}var Rc=!0;function gb(e,i,a,o){var h=F.T;F.T=null;var f=et.p;try{et.p=2,Od(e,i,a,o)}finally{et.p=f,F.T=h}}function pb(e,i,a,o){var h=F.T;F.T=null;var f=et.p;try{et.p=8,Od(e,i,a,o)}finally{et.p=f,F.T=h}}function Od(e,i,a,o){if(Rc){var h=Md(o);if(h===null)yd(e,i,o,Ic,a),j_(e,o);else if(_b(h,e,i,a,o))o.stopPropagation();else if(j_(e,o),i&4&&-1<yb.indexOf(e)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=ai(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var C=1<<31-he(_);E.entanglements[1]|=C,_&=~C}wi(f),(Bt&6)===0&&(uc=We()+500,dl(0))}}break;case 31:case 13:E=Rs(f,2),E!==null&&cn(E,f,2),hc(),Dd(f,2)}if(f=Md(o),f===null&&yd(e,i,o,Ic,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else yd(e,i,o,null,a)}}function Md(e){return e=Sn(e),Vd(e)}var Ic=null;function Vd(e){if(Ic=null,e=hi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===31){if(e=g(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Ic=e,null}function z_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cs()){case Ao:return 2;case So:return 8;case ur:case Uh:return 32;case su:return 268435456;default:return 32}default:return 32}}var xd=!1,kr=null,Pr=null,Ur=null,El=new Map,Tl=new Map,zr=[],yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j_(e,i){switch(e){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":El.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(i.pointerId)}}function Al(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=An(i),i!==null&&P_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function _b(e,i,a,o,h){switch(i){case"focusin":return kr=Al(kr,e,i,a,o,h),!0;case"dragenter":return Pr=Al(Pr,e,i,a,o,h),!0;case"mouseover":return Ur=Al(Ur,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return El.set(f,Al(El.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Tl.set(f,Al(Tl.get(f)||null,e,i,a,o,h)),!0}return!1}function B_(e){var i=hi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,Bn(e.priority,function(){U_(a)});return}}else if(i===31){if(i=g(a),i!==null){e.blockedOn=i,Bn(e.priority,function(){U_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Md(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Lo=o,a.target.dispatchEvent(o),Lo=null}else return i=An(a),i!==null&&P_(i),e.blockedOn=a,!1;i.shift()}return!0}function q_(e,i,a){Cc(e)&&a.delete(i)}function vb(){xd=!1,kr!==null&&Cc(kr)&&(kr=null),Pr!==null&&Cc(Pr)&&(Pr=null),Ur!==null&&Cc(Ur)&&(Ur=null),El.forEach(q_),Tl.forEach(q_)}function Nc(e,i){e.blockedOn===i&&(e.blockedOn=null,xd||(xd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vb)))}var Dc=null;function H_(e){Dc!==e&&(Dc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Dc===e&&(Dc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(Vd(o||a)===null)continue;break}var f=An(a);f!==null&&(e.splice(i,3),i-=3,Mf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ga(e){function i(C){return Nc(C,e)}kr!==null&&Nc(kr,e),Pr!==null&&Nc(Pr,e),Ur!==null&&Nc(Ur,e),El.forEach(i),Tl.forEach(i);for(var a=0;a<zr.length;a++){var o=zr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)B_(a),a.blockedOn===null&&zr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[xe]||null;if(typeof f=="function")_||H_(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[xe]||null)E=_.formAction;else if(Vd(h)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),H_(a)}}}function F_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Ld(e){this._internalRoot=e}Oc.prototype.render=Ld.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=En();L_(a,o,e,i,null,null)},Oc.prototype.unmount=Ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;L_(e.current,2,null,e,null,null),hc(),i[ui]=null}};function Oc(e){this._internalRoot=e}Oc.prototype.unstable_scheduleHydration=function(e){if(e){var i=hu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<zr.length&&i!==0&&i<zr[a].priority;a++);zr.splice(a,0,e),a===0&&B_(e)}};var G_=t.version;if(G_!=="19.2.0")throw Error(s(527,G_,"19.2.0"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var Eb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{zn=Mc.inject(Eb),ze=Mc}catch{}}return bl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=Zp,f=Wp,_=ty;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=V_(e,1,!1,null,null,a,o,null,h,f,_,F_),e[ui]=i.current,pd(e),new Ld(i)},bl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=Zp,_=Wp,E=ty,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=V_(e,1,!0,i,a??null,o,h,C,f,_,E,F_),i.context=x_(null),a=i.current,o=En(),o=ms(o),h=br(o),h.callback=null,wr(a,h,o),a=o,i.current.lanes=a,fs(i,a),wi(i),e[ui]=i.current,pd(e),new Oc(i)},bl.version="19.2.0",bl}var ev;function Db(){if(ev)return Ud.exports;ev=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ud.exports=Nb(),Ud.exports}var Ob=Db();const Mb=()=>{};var nv={};const QE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},Vb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];t[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],d=r[n++],g=r[n++],p=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},YE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,y=p?r[l+2]:0,T=u>>2,w=(u&3)<<4|g>>4;let M=(g&15)<<2|y>>6,q=y&63;p||(q=64,d||(M=64)),s.push(n[T],n[w],n[M],n[q])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(QE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Vb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const w=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||g==null||y==null||w==null)throw new xb;const M=u<<2|g>>4;if(s.push(M),y!==64){const q=g<<4&240|y>>2;if(s.push(q),w!==64){const Z=y<<6&192|w;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class xb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lb=function(r){const t=QE(r);return YE.encodeByteArray(t,!0)},$c=function(r){return Lb(r).replace(/\./g,"")},XE=function(r){try{return YE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function kb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Pb=()=>kb().__FIREBASE_DEFAULTS__,Ub=()=>{if(typeof process>"u"||typeof nv>"u")return;const r=nv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},zb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&XE(r[1]);return t&&JSON.parse(t)},yh=()=>{try{return Mb()||Pb()||Ub()||zb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$E=r=>yh()?.emulatorHosts?.[r],jb=r=>{const t=$E(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},JE=()=>yh()?.config,ZE=r=>yh()?.[`_${r}`];class Bb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WE(r){return(await fetch(r,{credentials:"include"})).ok}function qb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[$c(JSON.stringify(n)),$c(JSON.stringify(d)),""].join(".")}const Ol={};function Hb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ol))Ol[t]?r.emulator.push(t):r.prod.push(t);return r}function Fb(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let iv=!1;function t0(r,t){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||Ol[r]===t||Ol[r]||iv)return;Ol[r]=t;function n(M){return`__firebase__banner__${M}`}const s="__firebase__banner",u=Hb().prod.length>0;function d(){const M=document.getElementById(s);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function p(M,q){M.setAttribute("width","24"),M.setAttribute("id",q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{iv=!0,d()},M}function T(M,q){M.setAttribute("id",q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=Fb(s),q=n("text"),Z=document.getElementById(q)||document.createElement("span"),W=n("learnmore"),J=document.getElementById(W)||document.createElement("a"),ot=n("preprendIcon"),pt=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const dt=M.element;g(dt),T(J,W);const zt=y();p(pt,ot),dt.append(pt,Z,J,zt),document.body.appendChild(dt)}u?(Z.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Kb(){const r=yh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Qb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e0(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Yb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xb(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function $b(){return!Kb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n0(){try{return typeof indexedDB=="object"}catch{return!1}}function i0(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}function Jb(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Zb="FirebaseError";class ii extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Zb,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$s.prototype.create)}}class $s{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?Wb(u,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ii(l,g,s)}}function Wb(r,t){return r.replace(t1,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const t1=/\{\$([^}]+)}/g;function e1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Fs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const u=r[l],d=t[l];if(rv(u)&&rv(d)){if(!Fs(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function rv(r){return r!==null&&typeof r=="object"}function Kl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function wl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function Rl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function n1(r,t){const n=new i1(r,t);return n.subscribe.bind(n)}class i1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");r1(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=qd),l.error===void 0&&(l.error=qd),l.complete===void 0&&(l.complete=qd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r1(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function qd(){}const s1=1e3,a1=2,o1=14400*1e3,l1=.5;function sv(r,t=s1,n=a1){const s=t*Math.pow(n,r),l=Math.round(l1*s*(Math.random()-.5)*2);return Math.min(o1,s+l)}function Ue(r){return r&&r._delegate?r._delegate:r}class ti{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const zs="[DEFAULT]";class u1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Bb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(h1(t))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(t=zs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zs){return this.instances.has(t)}getOptions(t=zs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&d.resolve(l)}return l}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&t(u,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:c1(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=zs){return this.component?this.component.multipleInstances?t:zs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c1(r){return r===zs?void 0:r}function h1(r){return r.instantiationMode==="EAGER"}class f1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new u1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const d1={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},m1=Nt.INFO,g1={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},p1=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=g1[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _h{constructor(t){this.name=t,this._logLevel=m1,this._logHandler=p1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?d1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const y1=(r,t)=>t.some(n=>r instanceof n);let av,ov;function _1(){return av||(av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v1(){return ov||(ov=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r0=new WeakMap,rm=new WeakMap,s0=new WeakMap,Hd=new WeakMap,Om=new WeakMap;function E1(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(Yr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&r0.set(n,r)}).catch(()=>{}),Om.set(t,r),t}function T1(r){if(rm.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});rm.set(r,t)}let sm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return rm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||s0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function A1(r){sm=r(sm)}function S1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Fd(this),t,...n);return s0.set(s,t.sort?t.sort():[t]),Yr(s)}:v1().includes(r)?function(...t){return r.apply(Fd(this),t),Yr(r0.get(this))}:function(...t){return Yr(r.apply(Fd(this),t))}}function b1(r){return typeof r=="function"?S1(r):(r instanceof IDBTransaction&&T1(r),y1(r,_1())?new Proxy(r,sm):r)}function Yr(r){if(r instanceof IDBRequest)return E1(r);if(Hd.has(r))return Hd.get(r);const t=b1(r);return t!==r&&(Hd.set(r,t),Om.set(t,r)),t}const Fd=r=>Om.get(r);function a0(r,t,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(r,t),g=Yr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Yr(d.result),p.oldVersion,p.newVersion,Yr(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const w1=["get","getKey","getAll","getAllKeys","count"],R1=["put","add","delete","clear"],Gd=new Map;function lv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Gd.get(t))return Gd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=R1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||w1.includes(n)))return;const u=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),l&&p.done]))[0]};return Gd.set(t,u),u}A1(r=>({...r,get:(t,n,s)=>lv(t,n)||r.get(t,n,s),has:(t,n)=>!!lv(t,n)||r.has(t,n)}));class I1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(C1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function C1(r){return r.getComponent()?.type==="VERSION"}const am="@firebase/app",uv="0.14.6";const rr=new _h("@firebase/app"),N1="@firebase/app-compat",D1="@firebase/analytics-compat",O1="@firebase/analytics",M1="@firebase/app-check-compat",V1="@firebase/app-check",x1="@firebase/auth",L1="@firebase/auth-compat",k1="@firebase/database",P1="@firebase/data-connect",U1="@firebase/database-compat",z1="@firebase/functions",j1="@firebase/functions-compat",B1="@firebase/installations",q1="@firebase/installations-compat",H1="@firebase/messaging",F1="@firebase/messaging-compat",G1="@firebase/performance",K1="@firebase/performance-compat",Q1="@firebase/remote-config",Y1="@firebase/remote-config-compat",X1="@firebase/storage",$1="@firebase/storage-compat",J1="@firebase/firestore",Z1="@firebase/ai",W1="@firebase/firestore-compat",tw="firebase",ew="12.6.0";const om="[DEFAULT]",nw={[am]:"fire-core",[N1]:"fire-core-compat",[O1]:"fire-analytics",[D1]:"fire-analytics-compat",[V1]:"fire-app-check",[M1]:"fire-app-check-compat",[x1]:"fire-auth",[L1]:"fire-auth-compat",[k1]:"fire-rtdb",[P1]:"fire-data-connect",[U1]:"fire-rtdb-compat",[z1]:"fire-fn",[j1]:"fire-fn-compat",[B1]:"fire-iid",[q1]:"fire-iid-compat",[H1]:"fire-fcm",[F1]:"fire-fcm-compat",[G1]:"fire-perf",[K1]:"fire-perf-compat",[Q1]:"fire-rc",[Y1]:"fire-rc-compat",[X1]:"fire-gcs",[$1]:"fire-gcs-compat",[J1]:"fire-fst",[W1]:"fire-fst-compat",[Z1]:"fire-vertex","fire-js":"fire-js",[tw]:"fire-js-all"};const Jc=new Map,iw=new Map,lm=new Map;function cv(r,t){try{r.container.addComponent(t)}catch(n){rr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Vi(r){const t=r.name;if(lm.has(t))return rr.debug(`There were multiple attempts to register component ${t}.`),!1;lm.set(t,r);for(const n of Jc.values())cv(n,r);for(const n of iw.values())cv(n,r);return!0}function Ql(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function xn(r){return r==null?!1:r.settings!==void 0}const rw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new $s("app","Firebase",rw);class sw{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}const ho=ew;function o0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:om,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Xr.create("bad-app-name",{appName:String(l)});if(n||(n=JE()),!n)throw Xr.create("no-options");const u=Jc.get(l);if(u){if(Fs(n,u.options)&&Fs(s,u.config))return u;throw Xr.create("duplicate-app",{appName:l})}const d=new f1(l);for(const p of lm.values())d.addComponent(p);const g=new sw(n,s,d);return Jc.set(l,g),g}function l0(r=om){const t=Jc.get(r);if(!t&&r===om&&JE())return o0();if(!t)throw Xr.create("no-app",{appName:r});return t}function Pn(r,t,n){let s=nw[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rr.warn(d.join(" "));return}Vi(new ti(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const aw="firebase-heartbeat-database",ow=1,Pl="firebase-heartbeat-store";let Kd=null;function u0(){return Kd||(Kd=a0(aw,ow,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Xr.create("idb-open",{originalErrorMessage:r.message})})),Kd}async function lw(r){try{const n=(await u0()).transaction(Pl),s=await n.objectStore(Pl).get(c0(r));return await n.done,s}catch(t){if(t instanceof ii)rr.warn(t.message);else{const n=Xr.create("idb-get",{originalErrorMessage:t?.message});rr.warn(n.message)}}}async function hv(r,t){try{const s=(await u0()).transaction(Pl,"readwrite");await s.objectStore(Pl).put(t,c0(r)),await s.done}catch(n){if(n instanceof ii)rr.warn(n.message);else{const s=Xr.create("idb-set",{originalErrorMessage:n?.message});rr.warn(s.message)}}}function c0(r){return`${r.name}!${r.options.appId}`}const uw=1024,cw=30;class hw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>cw){const l=mw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){rr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=fv(),{heartbeatsToSend:n,unsentEntries:s}=fw(this._heartbeatsCache.heartbeats),l=$c(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return rr.warn(t),""}}}function fv(){return new Date().toISOString().substring(0,10)}function fw(r,t=uw){const n=[];let s=r.slice();for(const l of r){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),dv(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),dv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class dw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n0()?i0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return hv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return hv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function dv(r){return $c(JSON.stringify({version:2,heartbeats:r})).length}function mw(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function gw(r){Vi(new ti("platform-logger",t=>new I1(t),"PRIVATE")),Vi(new ti("heartbeat",t=>new hw(t),"PRIVATE")),Pn(am,uv,r),Pn(am,uv,"esm2020"),Pn("fire-js","")}gw("");var pw="firebase",yw="12.6.0";Pn(pw,yw,"app");function h0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _w=h0,f0=new $s("auth","Firebase",h0());const Zc=new _h("@firebase/auth");function vw(r,...t){Zc.logLevel<=Nt.WARN&&Zc.warn(`Auth (${ho}): ${r}`,...t)}function zc(r,...t){Zc.logLevel<=Nt.ERROR&&Zc.error(`Auth (${ho}): ${r}`,...t)}function ei(r,...t){throw Mm(r,...t)}function Ii(r,...t){return Mm(r,...t)}function d0(r,t,n){const s={..._w(),[t]:n};return new $s("auth","Firebase",s).create(t,{appName:r.name})}function ir(r){return d0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return f0.create(r,...t)}function mt(r,t,...n){if(!r)throw Mm(t,...n)}function er(r){const t="INTERNAL ASSERTION FAILED: "+r;throw zc(t),new Error(t)}function sr(r,t){r||er(t)}function um(){return typeof self<"u"&&self.location?.href||""}function Ew(){return mv()==="http:"||mv()==="https:"}function mv(){return typeof self<"u"&&self.location?.protocol||null}function Tw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ew()||e0()||"connection"in navigator)?navigator.onLine:!0}function Aw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Yl{constructor(t,n){this.shortDelay=t,this.longDelay=n,sr(n>t,"Short delay should be less than long delay!"),this.isMobile=Gb()||Yb()}get(){return Tw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vm(r,t){sr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class m0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ww=new Yl(3e4,6e4);function as(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function os(r,t,n,s,l={}){return g0(r,l,async()=>{let u={},d={};s&&(t==="GET"?d=s:u={body:JSON.stringify(s)});const g=Kl({key:r.config.apiKey,...d}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:p,...u};return Qb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&co(r.emulatorConfig.host)&&(y.credentials="include"),m0.fetch()(await p0(r,r.config.apiHost,n,g),y)})}async function g0(r,t,n){r._canInitEmulator=!1;const s={...Sw,...t};try{const l=new Iw(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Vc(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Vc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw Vc(r,"user-disabled",d);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw d0(r,T,y);ei(r,T)}}catch(l){if(l instanceof ii)throw l;ei(r,"network-request-failed",{message:String(l)})}}async function Xl(r,t,n,s,l={}){const u=await os(r,t,n,s,l);return"mfaPendingCredential"in u&&ei(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function p0(r,t,n,s){const l=`${t}${n}?${s}`,u=r,d=u.config.emulator?Vm(r.config,l):`${r.config.apiScheme}://${l}`;return bw.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function Rw(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Iw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),ww.get())})}}function Vc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Ii(r,t,s);return l.customData._tokenResponse=n,l}function gv(r){return r!==void 0&&r.enterprise!==void 0}class Cw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Rw(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Nw(r,t){return os(r,"GET","/v2/recaptchaConfig",as(r,t))}async function Dw(r,t){return os(r,"POST","/v1/accounts:delete",t)}async function Wc(r,t){return os(r,"POST","/v1/accounts:lookup",t)}function Ml(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Ow(r,t=!1){const n=Ue(r),s=await n.getIdToken(t),l=xm(s);mt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:s,authTime:Ml(Qd(l.auth_time)),issuedAtTime:Ml(Qd(l.iat)),expirationTime:Ml(Qd(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Qd(r){return Number(r)*1e3}function xm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const l=XE(n);return l?JSON.parse(l):(zc("Failed to decode base64 JWT payload"),null)}catch(l){return zc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function pv(r){const t=xm(r);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ul(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ii&&Mw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Mw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Vw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function th(r){const t=r.auth,n=await r.getIdToken(),s=await Ul(r,Wc(t,{idToken:n}));mt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=l.providerUserInfo?.length?y0(l.providerUserInfo):[],d=Lw(r.providerData,u),g=r.isAnonymous,p=!(r.email&&l.passwordHash)&&!d?.length,y=g?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new cm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function xw(r){const t=Ue(r);await th(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Lw(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function y0(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function kw(r,t){const n=await g0(r,{},async()=>{const s=Kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=await p0(r,l,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&co(r.emulatorConfig.host)&&(p.credentials="include"),m0.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Pw(r,t){return os(r,"POST","/v2/accounts:revokeToken",as(r,t))}class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):pv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const n=pv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await kw(t,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,d=new Ja;return s&&(mt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(mt(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return er("not implemented")}}function Br(r,t){mt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new Vw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new cm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Ul(this,this.stsTokenManager.getToken(this.auth,t));return mt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Ow(this,t)}reload(){return xw(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await th(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(ir(this.auth));const t=await this.getIdToken();return await Ul(this,Dw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:q,providerData:Z,stsTokenManager:W}=n;mt(w&&W,t,"internal-error");const J=Ja.fromJSON(this.name,W);mt(typeof w=="string",t,"internal-error"),Br(s,t.name),Br(l,t.name),mt(typeof M=="boolean",t,"internal-error"),mt(typeof q=="boolean",t,"internal-error"),Br(u,t.name),Br(d,t.name),Br(g,t.name),Br(p,t.name),Br(y,t.name),Br(T,t.name);const ot=new Jn({uid:w,auth:t,email:l,emailVerified:M,displayName:s,isAnonymous:q,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:J,createdAt:y,lastLoginAt:T});return Z&&Array.isArray(Z)&&(ot.providerData=Z.map(pt=>({...pt}))),p&&(ot._redirectEventId=p),ot}static async _fromIdTokenResponse(t,n,s=!1){const l=new Ja;l.updateFromServerResponse(n);const u=new Jn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await th(u),u}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];mt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?y0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,g=new Ja;g.updateFromIdToken(s);const p=new Jn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new cm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const yv=new Map;function nr(r){sr(r instanceof Function,"Expected a class definition");let t=yv.get(r);return t?(sr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,yv.set(r,t),t)}class _0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}_0.type="NONE";const _v=_0;function jc(r,t,n){return`firebase:${r}:${t}:${n}`}class Za{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=jc(this.userKey,l.apiKey,u),this.fullPersistenceKey=jc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Wc(this.auth,{idToken:t}).catch(()=>{});return n?Jn._fromGetAccountInfoResponse(this.auth,n,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Za(nr(_v),t,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||nr(_v);const d=jc(s,t.config.apiKey,t.name);let g=null;for(const y of n)try{const T=await y._get(d);if(T){let w;if(typeof T=="string"){const M=await Wc(t,{idToken:T}).catch(()=>{});if(!M)break;w=await Jn._fromGetAccountInfoResponse(t,M,T)}else w=Jn._fromJSON(t,T);y!==u&&(g=w),u=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Za(u,t,s):(u=p[0],g&&await u._set(d,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new Za(u,t,s))}}function vv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(A0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(v0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(b0(t))return"Blackberry";if(w0(t))return"Webos";if(E0(t))return"Safari";if((t.includes("chrome/")||T0(t))&&!t.includes("edge/"))return"Chrome";if(S0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function v0(r=Ze()){return/firefox\//i.test(r)}function E0(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function T0(r=Ze()){return/crios\//i.test(r)}function A0(r=Ze()){return/iemobile/i.test(r)}function S0(r=Ze()){return/android/i.test(r)}function b0(r=Ze()){return/blackberry/i.test(r)}function w0(r=Ze()){return/webos/i.test(r)}function Lm(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Uw(r=Ze()){return Lm(r)&&!!window.navigator?.standalone}function zw(){return Xb()&&document.documentMode===10}function R0(r=Ze()){return Lm(r)||S0(r)||w0(r)||b0(r)||/windows phone/i.test(r)||A0(r)}function I0(r,t=[]){let n;switch(r){case"Browser":n=vv(Ze());break;case"Worker":n=`${vv(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ho}/${s}`}class jw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((d,g)=>{try{const p=t(u);d(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Bw(r,t={}){return os(r,"GET","/v2/passwordPolicy",as(r,t))}const qw=6;class Hw{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??qw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class Fw{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ev(this),this.idTokenSubscription=new Ev(this),this.beforeStateQueue=new jw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Wc(this,{idToken:t}),s=await Jn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(xn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(t);(!u||u===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await th(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Aw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(xn(this.app))return Promise.reject(ir(this));const n=t?Ue(t):null;return n&&mt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return xn(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Bw(this),n=new Hw(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $s("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Pw(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&nr(t)||this._popupRedirectResolver;mt(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{d=!0,p()}}else{const p=t.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=I0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&vw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Js(r){return Ue(r)}class Ev{constructor(t){this.auth=t,this.observer=null,this.addObserver=n1(n=>this.observer=n)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gw(r){vh=r}function C0(r){return vh.loadJS(r)}function Kw(){return vh.recaptchaEnterpriseScript}function Qw(){return vh.gapiScript}function Yw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Xw{constructor(){this.enterprise=new $w}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class $w{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const Jw="recaptcha-enterprise",N0="NO_RECAPTCHA";class Zw{constructor(t){this.type=Jw,this.auth=Js(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{Nw(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new Cw(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(p=>{g(p)})})}function l(u,d,g){const p=window.grecaptcha;gv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(y=>{d(y)}).catch(()=>{d(N0)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Xw().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(g=>{if(!n&&gv(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Kw();p.length!==0&&(p+=g),C0(p).then(()=>{l(g,u,d)}).catch(y=>{d(y)})}}).catch(g=>{d(g)})})}}async function Tv(r,t,n,s=!1,l=!1){const u=new Zw(r);let d;if(l)d=N0;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const g={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Av(r,t,n,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Tv(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Tv(r,t,n,n==="getOobCode");return s(r,d)}else return Promise.reject(u)})}function Ww(r,t){const n=Ql(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Fs(u,t??{}))return l;ei(l,"already-initialized")}return n.initialize({options:t})}function tR(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(nr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function eR(r,t,n){const s=Js(r);mt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,u=D0(t),{host:d,port:g}=nR(t),p=g===null?"":`:${g}`,y={url:`${u}//${d}${p}/`},T=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){mt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),mt(Fs(y,s.config.emulator)&&Fs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,co(d)?(WE(`${u}//${d}${p}`),t0("Auth",!0)):iR()}function D0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function nR(r){const t=D0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:Sv(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:Sv(d)}}}function Sv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function iR(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class km{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(t){return er("not implemented")}_linkToIdToken(t,n){return er("not implemented")}_getReauthenticationResolver(t){return er("not implemented")}}async function rR(r,t){return os(r,"POST","/v1/accounts:signUp",t)}async function sR(r,t){return Xl(r,"POST","/v1/accounts:signInWithPassword",as(r,t))}async function aR(r,t){return Xl(r,"POST","/v1/accounts:signInWithEmailLink",as(r,t))}async function oR(r,t){return Xl(r,"POST","/v1/accounts:signInWithEmailLink",as(r,t))}class zl extends km{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new zl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new zl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Av(t,n,"signInWithPassword",sR);case"emailLink":return aR(t,{email:this._email,oobCode:this._password});default:ei(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Av(t,s,"signUpPassword",rR);case"emailLink":return oR(t,{idToken:n,email:this._email,oobCode:this._password});default:ei(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Wa(r,t){return Xl(r,"POST","/v1/accounts:signInWithIdp",as(r,t))}const lR="http://localhost";class Gs extends km{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Gs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const d=new Gs(s,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return Wa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Wa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Wa(t,n)}buildRequest(){const t={requestUri:lR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Kl(n)}return t}}function uR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cR(r){const t=wl(Rl(r)).link,n=t?wl(Rl(t)).deep_link_id:null,s=wl(Rl(r)).deep_link_id;return(s?wl(Rl(s)).link:null)||s||n||t||r}class Pm{constructor(t){const n=wl(Rl(t)),s=n.apiKey??null,l=n.oobCode??null,u=uR(n.mode??null);mt(s&&l&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=cR(t);try{return new Pm(n)}catch{return null}}}class fo{constructor(){this.providerId=fo.PROVIDER_ID}static credential(t,n){return zl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Pm.parseLink(n);return mt(s,"argument-error"),zl._fromEmailAndCode(t,s.code,s.tenantId)}}fo.PROVIDER_ID="password";fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class O0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class $l extends O0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qr extends $l{constructor(){super("facebook.com")}static credential(t){return Gs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";class Hr extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Gs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Hr.credential(n,s)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";class Fr extends $l{constructor(){super("github.com")}static credential(t){return Gs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";class Gr extends $l{constructor(){super("twitter.com")}static credential(t,n){return Gs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Gr.credential(n,s)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";async function hR(r,t){return Xl(r,"POST","/v1/accounts:signUp",as(r,t))}class Wr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const u=await Jn._fromIdTokenResponse(t,s,l),d=bv(s);return new Wr({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=bv(s);return new Wr({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function bv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function wv(r){if(xn(r.app))return Promise.reject(ir(r));const t=Js(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Wr({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await hR(t,{returnSecureToken:!0}),s=await Wr._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(s.user),s}class eh extends ii{constructor(t,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new eh(t,n,s,l)}}function M0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(r,u,t,s):u})}async function fR(r,t,n=!1){const s=await Ul(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Wr._forOperation(r,"link",s)}async function dR(r,t,n=!1){const{auth:s}=r;if(xn(s.app))return Promise.reject(ir(s));const l="reauthenticate";try{const u=await Ul(r,M0(s,l,t,r),n);mt(u.idToken,s,"internal-error");const d=xm(u.idToken);mt(d,s,"internal-error");const{sub:g}=d;return mt(r.uid===g,s,"user-mismatch"),Wr._forOperation(r,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&ei(s,"user-mismatch"),u}}async function V0(r,t,n=!1){if(xn(r.app))return Promise.reject(ir(r));const s="signIn",l=await M0(r,s,t),u=await Wr._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}async function mR(r,t){return V0(Js(r),t)}async function gR(r){const t=Js(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function pR(r,t,n){return xn(r.app)?Promise.reject(ir(r)):mR(Ue(r),fo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&gR(r),s})}function yR(r,t,n,s){return Ue(r).onIdTokenChanged(t,n,s)}function _R(r,t,n){return Ue(r).beforeAuthStateChanged(t,n)}function vR(r,t,n,s){return Ue(r).onAuthStateChanged(t,n,s)}function ER(r){return Ue(r).signOut()}const nh="__sak";class x0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const TR=1e3,AR=10;class L0 extends x0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);zw()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,AR):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},TR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}L0.type="LOCAL";const SR=L0;class k0 extends x0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}k0.type="SESSION";const P0=k0;function bR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Eh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new Eh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async y=>y(n.origin,u)),p=await bR(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];function Um(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class wR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,p)=>{const y=Um("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(w){const M=w;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(M.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function RR(r){Ci().location.href=r}function U0(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function IR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CR(){return navigator?.serviceWorker?.controller||null}function NR(){return U0()?self:null}const z0="firebaseLocalStorageDb",DR=1,ih="firebaseLocalStorage",j0="fbase_key";class Jl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Th(r,t){return r.transaction([ih],t?"readwrite":"readonly").objectStore(ih)}function OR(){const r=indexedDB.deleteDatabase(z0);return new Jl(r).toPromise()}function hm(){const r=indexedDB.open(z0,DR);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ih,{keyPath:j0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ih)?t(s):(s.close(),await OR(),t(await hm()))})})}async function Rv(r,t,n){const s=Th(r,!0).put({[j0]:t,value:n});return new Jl(s).toPromise()}async function MR(r,t){const n=Th(r,!1).get(t),s=await new Jl(n).toPromise();return s===void 0?null:s.value}function Iv(r,t){const n=Th(r,!0).delete(t);return new Jl(n).toPromise()}const VR=800,xR=3;class B0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>xR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return U0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(NR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await IR(),!this.activeServiceWorker)return;this.sender=new wR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||CR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await hm();return await Rv(t,nh,"1"),await Iv(t,nh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Rv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>MR(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Iv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=Th(l,!1).getAll();return new Jl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B0.type="LOCAL";const LR=B0;new Yl(3e4,6e4);function kR(r,t){return t?nr(t):(mt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class zm extends km{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Wa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Wa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function PR(r){return V0(r.auth,new zm(r),r.bypassAuthState)}function UR(r){const{auth:t,user:n}=r;return mt(n,t,"internal-error"),dR(n,new zm(r),r.bypassAuthState)}async function zR(r){const{auth:t,user:n}=r;return mt(n,t,"internal-error"),fR(n,new zm(r),r.bypassAuthState)}class q0{constructor(t,n,s,l,u=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return PR;case"linkViaPopup":case"linkViaRedirect":return zR;case"reauthViaPopup":case"reauthViaRedirect":return UR;default:ei(this.auth,"internal-error")}}resolve(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jR=new Yl(2e3,1e4);class $a extends q0{constructor(t,n,s,l,u){super(t,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const t=Um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,jR.get())};t()}}$a.currentPopupAction=null;const BR="pendingRedirect",Bc=new Map;class qR extends q0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Bc.get(this.auth._key());if(!t){try{const s=await HR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Bc.set(this.auth._key(),t)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HR(r,t){const n=KR(t),s=GR(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function FR(r,t){Bc.set(r._key(),t)}function GR(r){return nr(r._redirectPersistence)}function KR(r){return jc(BR,r.config.apiKey,r.name)}async function QR(r,t,n=!1){if(xn(r.app))return Promise.reject(ir(r));const s=Js(r),l=kR(s,t),d=await new qR(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const YR=600*1e3;class XR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!$R(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!H0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ii(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=YR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cv(t))}saveEventToCache(t){this.cachedEventUids.add(Cv(t)),this.lastProcessedEventTime=Date.now()}}function Cv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function H0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function $R(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H0(r);default:return!1}}async function JR(r,t={}){return os(r,"GET","/v1/projects",t)}const ZR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WR=/^https?/;async function tI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await JR(r);for(const n of t)try{if(eI(n))return}catch{}ei(r,"unauthorized-domain")}function eI(r){const t=um(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!WR.test(n))return!1;if(ZR.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const nI=new Yl(3e4,6e4);function Nv(){const r=Ci().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function iI(r){return new Promise((t,n)=>{function s(){Nv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Nv(),n(Ii(r,"network-request-failed"))},timeout:nI.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)s();else{const l=Yw("iframefcb");return Ci()[l]=()=>{gapi.load?s():n(Ii(r,"network-request-failed"))},C0(`${Qw()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw qc=null,t})}let qc=null;function rI(r){return qc=qc||iI(r),qc}const sI=new Yl(5e3,15e3),aI="__/auth/iframe",oI="emulator/auth/iframe",lI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cI(r){const t=r.config;mt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Vm(t,oI):`https://${r.config.authDomain}/${aI}`,s={apiKey:t.apiKey,appName:r.name,v:ho},l=uI.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Kl(s).slice(1)}`}async function hI(r){const t=await rI(r),n=Ci().gapi;return mt(n,r,"internal-error"),t.open({where:document.body,url:cI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lI,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const d=Ii(r,"network-request-failed"),g=Ci().setTimeout(()=>{u(d)},sI.get());function p(){Ci().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{u(d)})}))}const fI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dI=500,mI=600,gI="_blank",pI="http://localhost";class Dv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yI(r,t,n,s=dI,l=mI){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p={...fI,width:s.toString(),height:l.toString(),top:u,left:d},y=Ze().toLowerCase();n&&(g=T0(y)?gI:n),v0(y)&&(t=t||pI,p.scrollbars="yes");const T=Object.entries(p).reduce((M,[q,Z])=>`${M}${q}=${Z},`,"");if(Uw(y)&&g!=="_self")return _I(t||"",g),new Dv(null);const w=window.open(t||"",g,T);mt(w,r,"popup-blocked");try{w.focus()}catch{}return new Dv(w)}function _I(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const vI="__/auth/handler",EI="emulator/auth/handler",TI=encodeURIComponent("fac");async function Ov(r,t,n,s,l,u){mt(r.config.authDomain,r,"auth-domain-config-required"),mt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ho,eventId:l};if(t instanceof O0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",e1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,w]of Object.entries({}))d[T]=w}if(t instanceof $l){const T=t.getScopes().filter(w=>w!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),y=p?`#${TI}=${encodeURIComponent(p)}`:"";return`${AI(r)}?${Kl(g).slice(1)}${y}`}function AI({config:r}){return r.emulator?Vm(r,EI):`https://${r.authDomain}/${vI}`}const Yd="webStorageSupport";class SI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P0,this._completeRedirectFn=QR,this._overrideRedirectResult=FR}async _openPopup(t,n,s,l){sr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Ov(t,n,s,um(),l);return yI(t,u,Um())}async _openRedirect(t,n,s,l){await this._originValidation(t);const u=await Ov(t,n,s,um(),l);return RR(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await hI(t),s=new XR(t);return n.register("authEvent",l=>(mt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Yd,{type:Yd},l=>{const u=l?.[0]?.[Yd];u!==void 0&&n(!!u),ei(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return R0()||E0()||Lm()}}const bI=SI;var Mv="@firebase/auth",Vv="1.11.1";class wI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function RI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function II(r){Vi(new ti("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I0(r)},y=new Fw(s,l,u,p);return tR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Vi(new ti("auth-internal",t=>{const n=Js(t.getProvider("auth").getImmediate());return(s=>new wI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pn(Mv,Vv,RI(r)),Pn(Mv,Vv,"esm2020")}const CI=300,NI=ZE("authIdTokenMaxAge")||CI;let xv=null;const DI=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>NI)return;const l=n?.token;xv!==l&&(xv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function OI(r=l0()){const t=Ql(r,"auth");if(t.isInitialized())return t.getImmediate();const n=Ww(r,{popupRedirectResolver:bI,persistence:[LR,SR,P0]}),s=ZE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=DI(u.toString());_R(n,d,()=>d(n.currentUser)),yR(n,g=>d(g))}}const l=$E("auth");return l&&eR(n,`http://${l}`),n}function MI(){return document.getElementsByTagName("head")?.[0]??document}Gw({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const u=Ii("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",MI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});II("Browser");var Lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $r,F0;(function(){var r;function t(b,S){function R(){}R.prototype=S.prototype,b.F=S.prototype,b.prototype=new R,b.prototype.constructor=b,b.D=function(V,D,L){for(var I=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)I[ie-2]=arguments[ie];return S.prototype[D].apply(V,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(b,S,R){R||(R=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;D<16;++D)V[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=b.g[0],R=b.g[1],D=b.g[2];let L=b.g[3],I;I=S+(L^R&(D^L))+V[0]+3614090360&4294967295,S=R+(I<<7&4294967295|I>>>25),I=L+(D^S&(R^D))+V[1]+3905402710&4294967295,L=S+(I<<12&4294967295|I>>>20),I=D+(R^L&(S^R))+V[2]+606105819&4294967295,D=L+(I<<17&4294967295|I>>>15),I=R+(S^D&(L^S))+V[3]+3250441966&4294967295,R=D+(I<<22&4294967295|I>>>10),I=S+(L^R&(D^L))+V[4]+4118548399&4294967295,S=R+(I<<7&4294967295|I>>>25),I=L+(D^S&(R^D))+V[5]+1200080426&4294967295,L=S+(I<<12&4294967295|I>>>20),I=D+(R^L&(S^R))+V[6]+2821735955&4294967295,D=L+(I<<17&4294967295|I>>>15),I=R+(S^D&(L^S))+V[7]+4249261313&4294967295,R=D+(I<<22&4294967295|I>>>10),I=S+(L^R&(D^L))+V[8]+1770035416&4294967295,S=R+(I<<7&4294967295|I>>>25),I=L+(D^S&(R^D))+V[9]+2336552879&4294967295,L=S+(I<<12&4294967295|I>>>20),I=D+(R^L&(S^R))+V[10]+4294925233&4294967295,D=L+(I<<17&4294967295|I>>>15),I=R+(S^D&(L^S))+V[11]+2304563134&4294967295,R=D+(I<<22&4294967295|I>>>10),I=S+(L^R&(D^L))+V[12]+1804603682&4294967295,S=R+(I<<7&4294967295|I>>>25),I=L+(D^S&(R^D))+V[13]+4254626195&4294967295,L=S+(I<<12&4294967295|I>>>20),I=D+(R^L&(S^R))+V[14]+2792965006&4294967295,D=L+(I<<17&4294967295|I>>>15),I=R+(S^D&(L^S))+V[15]+1236535329&4294967295,R=D+(I<<22&4294967295|I>>>10),I=S+(D^L&(R^D))+V[1]+4129170786&4294967295,S=R+(I<<5&4294967295|I>>>27),I=L+(R^D&(S^R))+V[6]+3225465664&4294967295,L=S+(I<<9&4294967295|I>>>23),I=D+(S^R&(L^S))+V[11]+643717713&4294967295,D=L+(I<<14&4294967295|I>>>18),I=R+(L^S&(D^L))+V[0]+3921069994&4294967295,R=D+(I<<20&4294967295|I>>>12),I=S+(D^L&(R^D))+V[5]+3593408605&4294967295,S=R+(I<<5&4294967295|I>>>27),I=L+(R^D&(S^R))+V[10]+38016083&4294967295,L=S+(I<<9&4294967295|I>>>23),I=D+(S^R&(L^S))+V[15]+3634488961&4294967295,D=L+(I<<14&4294967295|I>>>18),I=R+(L^S&(D^L))+V[4]+3889429448&4294967295,R=D+(I<<20&4294967295|I>>>12),I=S+(D^L&(R^D))+V[9]+568446438&4294967295,S=R+(I<<5&4294967295|I>>>27),I=L+(R^D&(S^R))+V[14]+3275163606&4294967295,L=S+(I<<9&4294967295|I>>>23),I=D+(S^R&(L^S))+V[3]+4107603335&4294967295,D=L+(I<<14&4294967295|I>>>18),I=R+(L^S&(D^L))+V[8]+1163531501&4294967295,R=D+(I<<20&4294967295|I>>>12),I=S+(D^L&(R^D))+V[13]+2850285829&4294967295,S=R+(I<<5&4294967295|I>>>27),I=L+(R^D&(S^R))+V[2]+4243563512&4294967295,L=S+(I<<9&4294967295|I>>>23),I=D+(S^R&(L^S))+V[7]+1735328473&4294967295,D=L+(I<<14&4294967295|I>>>18),I=R+(L^S&(D^L))+V[12]+2368359562&4294967295,R=D+(I<<20&4294967295|I>>>12),I=S+(R^D^L)+V[5]+4294588738&4294967295,S=R+(I<<4&4294967295|I>>>28),I=L+(S^R^D)+V[8]+2272392833&4294967295,L=S+(I<<11&4294967295|I>>>21),I=D+(L^S^R)+V[11]+1839030562&4294967295,D=L+(I<<16&4294967295|I>>>16),I=R+(D^L^S)+V[14]+4259657740&4294967295,R=D+(I<<23&4294967295|I>>>9),I=S+(R^D^L)+V[1]+2763975236&4294967295,S=R+(I<<4&4294967295|I>>>28),I=L+(S^R^D)+V[4]+1272893353&4294967295,L=S+(I<<11&4294967295|I>>>21),I=D+(L^S^R)+V[7]+4139469664&4294967295,D=L+(I<<16&4294967295|I>>>16),I=R+(D^L^S)+V[10]+3200236656&4294967295,R=D+(I<<23&4294967295|I>>>9),I=S+(R^D^L)+V[13]+681279174&4294967295,S=R+(I<<4&4294967295|I>>>28),I=L+(S^R^D)+V[0]+3936430074&4294967295,L=S+(I<<11&4294967295|I>>>21),I=D+(L^S^R)+V[3]+3572445317&4294967295,D=L+(I<<16&4294967295|I>>>16),I=R+(D^L^S)+V[6]+76029189&4294967295,R=D+(I<<23&4294967295|I>>>9),I=S+(R^D^L)+V[9]+3654602809&4294967295,S=R+(I<<4&4294967295|I>>>28),I=L+(S^R^D)+V[12]+3873151461&4294967295,L=S+(I<<11&4294967295|I>>>21),I=D+(L^S^R)+V[15]+530742520&4294967295,D=L+(I<<16&4294967295|I>>>16),I=R+(D^L^S)+V[2]+3299628645&4294967295,R=D+(I<<23&4294967295|I>>>9),I=S+(D^(R|~L))+V[0]+4096336452&4294967295,S=R+(I<<6&4294967295|I>>>26),I=L+(R^(S|~D))+V[7]+1126891415&4294967295,L=S+(I<<10&4294967295|I>>>22),I=D+(S^(L|~R))+V[14]+2878612391&4294967295,D=L+(I<<15&4294967295|I>>>17),I=R+(L^(D|~S))+V[5]+4237533241&4294967295,R=D+(I<<21&4294967295|I>>>11),I=S+(D^(R|~L))+V[12]+1700485571&4294967295,S=R+(I<<6&4294967295|I>>>26),I=L+(R^(S|~D))+V[3]+2399980690&4294967295,L=S+(I<<10&4294967295|I>>>22),I=D+(S^(L|~R))+V[10]+4293915773&4294967295,D=L+(I<<15&4294967295|I>>>17),I=R+(L^(D|~S))+V[1]+2240044497&4294967295,R=D+(I<<21&4294967295|I>>>11),I=S+(D^(R|~L))+V[8]+1873313359&4294967295,S=R+(I<<6&4294967295|I>>>26),I=L+(R^(S|~D))+V[15]+4264355552&4294967295,L=S+(I<<10&4294967295|I>>>22),I=D+(S^(L|~R))+V[6]+2734768916&4294967295,D=L+(I<<15&4294967295|I>>>17),I=R+(L^(D|~S))+V[13]+1309151649&4294967295,R=D+(I<<21&4294967295|I>>>11),I=S+(D^(R|~L))+V[4]+4149444226&4294967295,S=R+(I<<6&4294967295|I>>>26),I=L+(R^(S|~D))+V[11]+3174756917&4294967295,L=S+(I<<10&4294967295|I>>>22),I=D+(S^(L|~R))+V[2]+718787259&4294967295,D=L+(I<<15&4294967295|I>>>17),I=R+(L^(D|~S))+V[9]+3951481745&4294967295,b.g[0]=b.g[0]+S&4294967295,b.g[1]=b.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+L&4294967295}s.prototype.v=function(b,S){S===void 0&&(S=b.length);const R=S-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<S;){if(D==0)for(;L<=R;)l(this,b,L),L+=this.blockSize;if(typeof b=="string"){for(;L<S;)if(V[D++]=b.charCodeAt(L++),D==this.blockSize){l(this,V),D=0;break}}else for(;L<S;)if(V[D++]=b[L++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=S},s.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var S=1;S<b.length-8;++S)b[S]=0;S=this.o*8;for(var R=b.length-8;R<b.length;++R)b[R]=S&255,S/=256;for(this.v(b),b=Array(16),S=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)b[S++]=this.g[R]>>>V&255;return b};function u(b,S){var R=g;return Object.prototype.hasOwnProperty.call(R,b)?R[b]:R[b]=S(b)}function d(b,S){this.h=S;const R=[];let V=!0;for(let D=b.length-1;D>=0;D--){const L=b[D]|0;V&&L==S||(R[D]=L,V=!1)}this.g=R}var g={};function p(b){return-128<=b&&b<128?u(b,function(S){return new d([S|0],S<0?-1:0)}):new d([b|0],b<0?-1:0)}function y(b){if(isNaN(b)||!isFinite(b))return w;if(b<0)return J(y(-b));const S=[];let R=1;for(let V=0;b>=R;V++)S[V]=b/R|0,R*=4294967296;return new d(S,0)}function T(b,S){if(b.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(b.charAt(0)=="-")return J(T(b.substring(1),S));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(S,8));let V=w;for(let L=0;L<b.length;L+=8){var D=Math.min(8,b.length-L);const I=parseInt(b.substring(L,L+D),S);D<8?(D=y(Math.pow(S,D)),V=V.j(D).add(y(I))):(V=V.j(R),V=V.add(y(I)))}return V}var w=p(0),M=p(1),q=p(16777216);r=d.prototype,r.m=function(){if(W(this))return-J(this).m();let b=0,S=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);b+=(V>=0?V:4294967296+V)*S,S*=4294967296}return b},r.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(Z(this))return"0";if(W(this))return"-"+J(this).toString(b);const S=y(Math.pow(b,6));var R=this;let V="";for(;;){const D=zt(R,S).g;R=ot(R,D.j(S));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(b);if(R=D,Z(R))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function Z(b){if(b.h!=0)return!1;for(let S=0;S<b.g.length;S++)if(b.g[S]!=0)return!1;return!0}function W(b){return b.h==-1}r.l=function(b){return b=ot(this,b),W(b)?-1:Z(b)?0:1};function J(b){const S=b.g.length,R=[];for(let V=0;V<S;V++)R[V]=~b.g[V];return new d(R,~b.h).add(M)}r.abs=function(){return W(this)?J(this):this},r.add=function(b){const S=Math.max(this.g.length,b.g.length),R=[];let V=0;for(let D=0;D<=S;D++){let L=V+(this.i(D)&65535)+(b.i(D)&65535),I=(L>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);V=I>>>16,L&=65535,I&=65535,R[D]=I<<16|L}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ot(b,S){return b.add(J(S))}r.j=function(b){if(Z(this)||Z(b))return w;if(W(this))return W(b)?J(this).j(J(b)):J(J(this).j(b));if(W(b))return J(this.j(J(b)));if(this.l(q)<0&&b.l(q)<0)return y(this.m()*b.m());const S=this.g.length+b.g.length,R=[];for(var V=0;V<2*S;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<b.g.length;D++){const L=this.i(V)>>>16,I=this.i(V)&65535,ie=b.i(D)>>>16,Ne=b.i(D)&65535;R[2*V+2*D]+=I*Ne,pt(R,2*V+2*D),R[2*V+2*D+1]+=L*Ne,pt(R,2*V+2*D+1),R[2*V+2*D+1]+=I*ie,pt(R,2*V+2*D+1),R[2*V+2*D+2]+=L*ie,pt(R,2*V+2*D+2)}for(b=0;b<S;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=S;b<2*S;b++)R[b]=0;return new d(R,0)};function pt(b,S){for(;(b[S]&65535)!=b[S];)b[S+1]+=b[S]>>>16,b[S]&=65535,S++}function dt(b,S){this.g=b,this.h=S}function zt(b,S){if(Z(S))throw Error("division by zero");if(Z(b))return new dt(w,w);if(W(b))return S=zt(J(b),S),new dt(J(S.g),J(S.h));if(W(S))return S=zt(b,J(S)),new dt(J(S.g),S.h);if(b.g.length>30){if(W(b)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var R=M,V=S;V.l(b)<=0;)R=Jt(R),V=Jt(V);var D=Mt(R,1),L=Mt(V,1);for(V=Mt(V,2),R=Mt(R,2);!Z(V);){var I=L.add(V);I.l(b)<=0&&(D=D.add(R),L=I),V=Mt(V,1),R=Mt(R,1)}return S=ot(b,D.j(S)),new dt(D,S)}for(D=w;b.l(S)>=0;){for(R=Math.max(1,Math.floor(b.m()/S.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(R),I=L.j(S);W(I)||I.l(b)>0;)R-=V,L=y(R),I=L.j(S);Z(L)&&(L=M),D=D.add(L),b=ot(b,I)}return new dt(D,b)}r.B=function(b){return zt(this,b).h},r.and=function(b){const S=Math.max(this.g.length,b.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)&b.i(V);return new d(R,this.h&b.h)},r.or=function(b){const S=Math.max(this.g.length,b.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)|b.i(V);return new d(R,this.h|b.h)},r.xor=function(b){const S=Math.max(this.g.length,b.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)^b.i(V);return new d(R,this.h^b.h)};function Jt(b){const S=b.g.length+1,R=[];for(let V=0;V<S;V++)R[V]=b.i(V)<<1|b.i(V-1)>>>31;return new d(R,b.h)}function Mt(b,S){const R=S>>5;S%=32;const V=b.g.length-R,D=[];for(let L=0;L<V;L++)D[L]=S>0?b.i(L+R)>>>S|b.i(L+R+1)<<32-S:b.i(L+R);return new d(D,b.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,F0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,$r=d}).apply(typeof Lv<"u"?Lv:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var G0,Il,K0,Hc,fm,Q0,Y0,X0;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(c,m){if(m)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var k=c[A];if(!(k in v))break t;v=v[k]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var u=u||{},d=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function p(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=p,y.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function w(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,k,j){for(var tt=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)tt[Tt-2]=arguments[Tt];return m.prototype[k].apply(A,tt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function q(c){const m=c.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function Z(c,m){for(let A=1;A<arguments.length;A++){const k=arguments[A];var v=typeof k;if(v=v!="object"?v:k?Array.isArray(k)?"array":v:"null",v=="array"||v=="object"&&typeof k.length=="number"){v=c.length||0;const j=k.length||0;c.length=v+j;for(let tt=0;tt<j;tt++)c[v+tt]=k[tt]}else c.push(k)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(c){d.setTimeout(()=>{throw c},0)}function ot(){var c=b;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class pt{constructor(){this.h=this.g=null}add(m,v){const A=dt.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var dt=new W(()=>new zt,c=>c.reset());class zt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Jt,Mt=!1,b=new pt,S=()=>{const c=Promise.resolve(void 0);Jt=()=>{c.then(R)}};function R(){for(var c;c=ot();){try{c.h.call(c.g)}catch(v){J(v)}var m=dt;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Mt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function ie(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}w(ie,D),ie.prototype.init=function(c,m){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),F=0;function et(c,m,v,A,k){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=k,this.key=++F,this.da=this.fa=!1}function ht(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function kt(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function Ht(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function O(c){const m={};for(const v in c)m[v]=c[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(c,m){let v,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(v in A)c[v]=A[v];for(let j=0;j<Y.length;j++)v=Y[j],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function rt(c){this.src=c,this.g={},this.h=0}rt.prototype.add=function(c,m,v,A,k){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const tt=St(c,m,A,k);return tt>-1?(m=c[tt],v||(m.fa=!1)):(m=new et(m,this.src,j,!!A,k),m.fa=v,c.push(m)),m};function yt(c,m){const v=m.type;if(v in c.g){var A=c.g[v],k=Array.prototype.indexOf.call(A,m,void 0),j;(j=k>=0)&&Array.prototype.splice.call(A,k,1),j&&(ht(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function St(c,m,v,A){for(let k=0;k<c.length;++k){const j=c[k];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==A)return k}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),De={};function re(c,m,v,A,k){if(Array.isArray(m)){for(let j=0;j<m.length;j++)re(c,m[j],v,A,k);return null}return v=To(v),c&&c[Ne]?c.J(m,v,g(A)?!!A.capture:!1,k):ls(c,m,v,!1,A,k)}function ls(c,m,v,A,k,j){if(!m)throw Error("Invalid event type");const tt=g(k)?!!k.capture:!!k;let Tt=us(c);if(Tt||(c[xt]=Tt=new rt(c)),v=Tt.add(m,v,A,tt,j),v.proxy)return v;if(A=na(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(k=tt),k===void 0&&(k=!1),c.addEventListener(m.toString(),A,k);else if(c.attachEvent)c.attachEvent(ri(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function na(){function c(v){return m.call(c.src,c.listener,v)}const m=vo;return c}function ia(c,m,v,A,k){if(Array.isArray(m))for(var j=0;j<m.length;j++)ia(c,m[j],v,A,k);else A=g(A)?!!A.capture:!!A,v=To(v),c&&c[Ne]?(c=c.i,j=String(m).toString(),j in c.g&&(m=c.g[j],v=St(m,v,A,k),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[j],c.h--)))):c&&(c=us(c))&&(m=c.g[m.toString()],c=-1,m&&(c=St(m,v,A,k)),(v=c>-1?m[c]:null)&&ra(v))}function ra(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Ne])yt(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(ri(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=us(m))?(yt(v,c),v.h==0&&(v.src=null,m[xt]=null)):ht(c)}}}function ri(c){return c in De?De[c]:De[c]="on"+c}function vo(c,m){if(c.da)c=!0;else{m=new ie(m,this);const v=c.listener,A=c.ha||c.src;c.fa&&ra(c),c=v.call(A,m)}return c}function us(c){return c=c[xt],c instanceof rt?c:null}var Eo="__closure_events_fn_"+(Math.random()*1e9>>>0);function To(c){return typeof c=="function"?c:(c[Eo]||(c[Eo]=function(m){return c.handleEvent(m)}),c[Eo])}function pe(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}w(pe,V),pe.prototype[Ne]=!0,pe.prototype.removeEventListener=function(c,m,v,A){ia(this,c,m,v,A)};function Oe(c,m){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var k=m;m=new D(A,c),nt(m,k)}k=!0;let j,tt;if(v)for(tt=v.length-1;tt>=0;tt--)j=m.g=v[tt],k=lr(j,A,!0,m)&&k;if(j=m.g=c,k=lr(j,A,!0,m)&&k,k=lr(j,A,!1,m)&&k,v)for(tt=0;tt<v.length;tt++)j=m.g=v[tt],k=lr(j,A,!1,m)&&k}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let A=0;A<v.length;A++)ht(v[A]);delete c.g[m],c.h--}}this.G=null},pe.prototype.J=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},pe.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function lr(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let j=0;j<m.length;++j){const tt=m[j];if(tt&&!tt.da&&tt.capture==v){const Tt=tt.listener,fe=tt.ha||tt.src;tt.fa&&yt(c.i,tt),k=Tt.call(fe,A)!==!1&&k}}return k&&!A.defaultPrevented}function Ph(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function ru(c){c.g=Ph(()=>{c.g=null,c.i&&(c.i=!1,ru(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class We extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ru(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(c){V.call(this),this.h=c,this.g={}}w(cs,V);var Ao=[];function So(c){kt(c.g,function(m,v){this.g.hasOwnProperty(v)&&ra(m)},c),c.g={}}cs.prototype.N=function(){cs.Z.N.call(this),So(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=d.JSON.stringify,Uh=d.JSON.parse,su=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function au(){}function ou(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){D.call(this,"d")}w(ze,D);function Tn(){D.call(this,"c")}w(Tn,D);var he={},lu=null;function sa(){return lu=lu||new pe}he.Ia="serverreachability";function uu(c){D.call(this,he.Ia,c)}w(uu,D);function si(c){const m=sa();Oe(m,new uu(m))}he.STAT_EVENT="statevent";function hs(c,m){D.call(this,he.STAT_EVENT,c),this.stat=m}w(hs,D);function ye(c){const m=sa();Oe(m,new hs(m,c))}he.Ja="timingevent";function ai(c,m){D.call(this,he.Ja,c),this.size=m}w(ai,D);function oi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function zh(c,m,v,A,k,j){c.info(function(){if(c.g)if(j){var tt="",Tt=j.split("&");for(let jt=0;jt<Tt.length;jt++){var fe=Tt[jt].split("=");if(fe.length>1){const se=fe[0];fe=fe[1];const wn=se.split("_");tt=wn.length>=2&&wn[1]=="type"?tt+(se+"="+fe+"&"):tt+(se+"=redacted&")}}}else tt=null;else tt=j;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+m+`
`+v+`
`+tt})}function cu(c,m,v,A,k,j,tt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+m+`
`+v+`
`+j+" "+tt})}function li(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+jh(c,v)+(A?" "+A:"")})}function fs(c,m){c.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function jh(c,m){if(!c.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var v=j[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var k=A[0];if(k!="noop"&&k!="stop"&&k!="close")for(let tt=1;tt<A.length;tt++)A[tt]=""}}}}return ur(j)}catch{return m}}var ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wo;function ms(){}w(ms,au),ms.prototype.g=function(){return new XMLHttpRequest},wo=new ms;function Li(c){return encodeURIComponent(String(c))}function hu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Bn(c,m,v,A){this.j=c,this.i=m,this.l=v,this.S=A||1,this.V=new cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var _e={},xe={};function ui(c,m,v){c.M=1,c.A=gs(Ee(m)),c.u=v,c.R=!0,aa(c,null)}function aa(c,m){c.F=Date.now(),ci(c),c.B=Ee(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ca(v.i,"t",A),c.C=0,v=c.j.L,c.h=new qn,c.g=Ru(c.j,v?m:null,!c.u),c.P>0&&(c.O=new We(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,A=c.ba;var k="readystatechange";Array.isArray(k)||(k&&(Ao[0]=k.toString()),k=Ao);for(let j=0;j<k.length;j++){const tt=re(v,k[j],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),si(),zh(c.i,c.v,c.B,c.l,c.S,c.u)}Bn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Gn(c)==3?m.j():this.Y(c)},Bn.prototype.Y=function(c){try{if(c==this.g)t:{const Tt=Gn(this.g),fe=this.g.ya(),jt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||Tt!=4||fe==7||(fe==8||jt<=0?si(3):si(2)),hi(this);var m=this.g.ca();this.X=m;var v=Bh(this);if(this.o=m==200,cu(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,k=this.g;if((A=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var j=A;break e}}j=null}if(c=j)li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,c);else{this.o=!1,this.m=3,ye(12),fn(this),An(this);break t}}if(this.R){c=!0;let se;for(;!this.K&&this.C<v.length;)if(se=du(this,v),se==xe){Tt==4&&(this.m=4,ye(14),c=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(se==_e){this.m=4,ye(15),li(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else li(this.i,this.l,se,null),fi(this,se);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,ye(16),c=!1),this.o=this.o&&c,!c)li(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),An(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),jo(tt),tt.P=!0,ye(11))}}else li(this.i,this.l,v,null),fi(this,v);Tt==4&&fn(this),this.o&&!this.K&&(Tt==4?Au(this.j,this):(this.o=!1,ci(this)))}else Pi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),fn(this),An(this)}}}catch{}finally{}};function Bh(c){if(!fu(c))return c.g.la();const m=je(c.g);if(m==="")return"";let v="";const A=m.length,k=Gn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return fn(c),An(c),"";c.h.i=new d.TextDecoder}for(let j=0;j<A;j++)c.h.h=!0,v+=c.h.i.decode(m[j],{stream:!(k&&j==A-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function fu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function du(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?xe:(v=Number(m.substring(v,A)),isNaN(v)?_e:(A+=1,A+v>m.length?xe:(m=m.slice(A,A+v),c.C=A+v,m)))}Bn.prototype.cancel=function(){this.K=!0,fn(this)};function ci(c){c.T=Date.now()+c.H,oa(c,c.H)}function oa(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=oi(y(c.aa,c),m)}function hi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Bn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(fs(this.i,this.B),this.M!=2&&(si(),ye(17)),fn(this),this.m=2,An(this)):oa(this,this.T-c)};function An(c){c.j.I==0||c.K||Au(c.j,c)}function fn(c){hi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,So(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function fi(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||mi(v.h,c))){if(!c.L&&mi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ga(v),yr(v);else break t;As(v),ye(18)}}else v.xa=k[1],0<v.xa-v.K&&k[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(y(v.Va,v),6e3));di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((c.L||v.g==c)&&ga(v),!I(m))for(k=v.Ba.g.parse(m),m=0;m<k.length;m++){let jt=k[m];const se=jt[0];if(!(se<=v.K))if(v.K=se,jt=jt[1],v.I==2)if(jt[0]=="c"){v.M=jt[1],v.ba=jt[2];const wn=jt[3];wn!=null&&(v.ka=wn,v.j.info("VER="+v.ka));const Ti=jt[4];Ti!=null&&(v.za=Ti,v.j.info("SVER="+v.za));const Kn=jt[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(A=1.5*Kn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Qn=c.g;if(Qn){const Ss=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var j=A.h;j.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Co(j,j.h),j.h=null))}if(A.G){const pa=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;pa&&(A.wa=pa,Ft(A.J,A.G,pa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var tt=c;if(A.na=wu(A,A.L?A.ba:null,A.W),tt.L){No(A.h,tt);var Tt=tt,fe=A.O;fe&&(Tt.H=fe),Tt.D&&(hi(Tt),ci(Tt)),A.g=tt}else Eu(A);v.i.length>0&&vi(v)}else jt[0]!="stop"&&jt[0]!="close"||Ei(v,7);else v.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Ei(v,7):Uo(v):jt[0]!="noop"&&v.l&&v.l.qa(jt),v.A=0)}}si(4)}catch{}}var ve=class{constructor(c,m){this.g=c,this.map=m}};function Ro(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Io(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function di(c){return c.h?1:c.g?c.g.size:0}function mi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Co(c,m){c.g?c.g.add(m):c.h=m}function No(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Ro.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Do(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return q(c.i)}var mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let k,j=null;A>=0?(k=c[v].substring(0,A),j=c[v].substring(A+1)):k=c[v],m(k,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function dn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof dn?(this.l=c.l,Le(this,c.j),this.o=c.o,this.g=c.g,cr(this,c.u),this.h=c.h,Oo(this,_u(c.i)),this.m=c.m):c&&(m=String(c).match(mu))?(this.l=!1,Le(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),cr(this,m[4]),this.h=gi(m[5]||"",!0),Oo(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}dn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(ps(m,ua,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(ps(m,ua,!0),"@"),c.push(Li(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ps(v,v.charAt(0)=="/"?Mo:gu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ps(v,pu)),c.join("")},dn.prototype.resolve=function(c){const m=Ee(this);let v=!!c.j;v?Le(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var A=c.h;if(v)cr(m,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var k=m.h.lastIndexOf("/");k!=-1&&(A=m.h.slice(0,k+1)+A)}if(k=A,k==".."||k==".")A="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){A=k.lastIndexOf("/",0)==0,k=k.split("/");const j=[];for(let tt=0;tt<k.length;){const Tt=k[tt++];Tt=="."?A&&tt==k.length&&j.push(""):Tt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),A&&tt==k.length&&j.push("")):(j.push(Tt),A=!0)}A=j.join("/")}else A=k}return v?m.h=A:v=c.i.toString()!=="",v?Oo(m,_u(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Ee(c){return new dn(c)}function Le(c,m,v){c.j=v?gi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function cr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Oo(c,m,v){m instanceof fr?(c.i=m,ha(c.i,c.l)):(v||(m=ps(m,hr)),c.i=new fr(m,c.l))}function Ft(c,m,v){c.i.set(m,v)}function gs(c){return Ft(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ps(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ua=/[#\/\?@]/g,gu=/[#\?:]/g,Mo=/[#\?]/g,hr=/[#\?@]/g,pu=/#/g;function fr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&la(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=fr.prototype,r.add=function(c,m){sn(this),this.i=null,c=dr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function yu(c,m){sn(c),m=dr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Vo(c,m){return sn(c),m=dr(c,m),c.g.has(m)}r.forEach=function(c,m){sn(this),this.g.forEach(function(v,A){v.forEach(function(k){c.call(m,k,A,this)},this)},this)};function xo(c,m){sn(c);let v=[];if(typeof m=="string")Vo(c,m)&&(v=v.concat(c.g.get(dr(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}r.set=function(c,m){return sn(this),this.i=null,c=dr(this,c),Vo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=xo(this,c),c.length>0?String(c[0]):m):m};function ca(c,m,v){yu(c,m),v.length>0&&(c.i=null,c.g.set(dr(c,m),q(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const k=Li(v);v=xo(this,v);for(let j=0;j<v.length;j++){let tt=k;v[j]!==""&&(tt+="="+Li(v[j])),c.push(tt)}}return this.i=c.join("&")};function _u(c){const m=new fr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function dr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ha(c,m){m&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,A){const k=A.toLowerCase();A!=k&&(yu(this,A),ca(this,k,v))},c)),c.j=m}function Hn(c,m){const v=new jn;if(d.Image){const A=new Image;A.onload=T(Sn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Sn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Sn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Sn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function Lo(c,m){const v=new jn,A=new AbortController,k=setTimeout(()=>{A.abort(),Sn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(j=>{clearTimeout(k),j.ok?Sn(v,"TestPingServer: ok",!0,m):Sn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),Sn(v,"TestPingServer: error",!1,m)})}function Sn(c,m,v,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(v)}catch{}}function mr(){this.g=new su}function pi(c){this.i=c.Sb||null,this.h=c.ab||!1}w(pi,au),pi.prototype.g=function(){return new ys(this.i,this.h)};function ys(c,m){pe.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(ys,pe),r=ys.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Fn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function fa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?gr(this):Fn(this),this.readyState==3&&fa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,gr(this))},r.Na=function(c){this.g&&(this.response=c,gr(this))},r.ga=function(){this.g&&gr(this)};function gr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bn(c){let m="";return kt(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function _s(c,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=bn(v),typeof c=="string"?v!=null&&Li(v):Ft(c,m,v))}function Qt(c){pe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Qt,pe);var yi=/^https?$/i,ko=["POST","PUT"];r=Qt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wo.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(j){vs(this,j);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)v.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())v.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),k=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(ko,m,void 0)>=0)||A||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,tt]of v)this.g.setRequestHeader(j,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){vs(this,j)}};function vs(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Po(c),ki(c)}function Po(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Oe(this,"complete"),Oe(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Qt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Es(this):this.Xa())},r.Xa=function(){Es(this)};function Es(c){if(c.h&&typeof u<"u"){if(c.v&&Gn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Oe(c,"readystatechange"),Gn(c)==4){c.h=!1;try{const j=c.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=j===0){let tt=String(c.D).match(mu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),A=!yi.test(tt?tt.toLowerCase():"")}v=A}if(v)Oe(c,"complete"),Oe(c,"success");else{c.o=6;try{var k=Gn(c)>2?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.ca()+"]",Po(c)}}finally{ki(c)}}}}function ki(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Oe(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Uh(m)}};function je(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(c){const m={};c=(c.g&&Gn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=hu(c[A]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[k]||[];m[k]=j,j.push(v)}Ht(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function pr(c){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,c),this.Za=_i("retryDelaySeedMs",1e4,c),this.Ta=_i("forwardChannelMaxRetries",2,c),this.va=_i("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ro(c&&c.concurrentRequestLimit),this.Ba=new mr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=pr.prototype,r.ka=8,r.I=1,r.connect=function(c,m,v,A){ye(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=wu(this,null,this.W),vi(this)};function Uo(c){if(da(c),c.I==3){var m=c.V++,v=Ee(c.J);if(Ft(v,"SID",c.M),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),Ts(c,v),m=new Bn(c,c.j,m),m.M=2,m.A=gs(Ee(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ci(m)}bu(c)}function yr(c){c.g&&(jo(c),c.g.cancel(),c.g=null)}function da(c){yr(c),c.v&&(d.clearTimeout(c.v),c.v=null),ga(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function vi(c){if(!Io(c.h)&&!c.m){c.m=!0;var m=c.Ea;Jt||S(),Mt||(Jt(),Mt=!0),b.add(m,c),c.D=0}}function ma(c,m){return di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=oi(y(c.Ea,c,m),Su(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const k=new Bn(this,this.j,c);let j=this.o;if(this.U&&(j?(j=O(j),nt(j,this.U)):j=this.U),this.u!==null||this.R||(k.J=j,j=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=vu(this,k,m),v=Ee(this.J),Ft(v,"RID",c),Ft(v,"CVER",22),this.G&&Ft(v,"X-HTTP-Session-Id",this.G),Ts(this,v),j&&(this.R?m="headers="+Li(bn(j))+"&"+m:this.u&&_s(v,this.u,j)),Co(this.h,k),this.Ra&&Ft(v,"TYPE","init"),this.S?(Ft(v,"$req",m),Ft(v,"SID","null"),k.U=!0,ui(k,v,null)):ui(k,v,m),this.I=2}}else this.I==3&&(c?zo(this,c):this.i.length==0||Io(this.h)||zo(this))};function zo(c,m){var v;m?v=m.l:v=c.V++;const A=Ee(c.J);Ft(A,"SID",c.M),Ft(A,"RID",v),Ft(A,"AID",c.K),Ts(c,A),c.u&&c.o&&_s(A,c.u,c.o),v=new Bn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=vu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Co(c.h,v),ui(v,A,m)}function Ts(c,m){c.H&&kt(c.H,function(v,A){Ft(m,A,v)}),c.l&&kt({},function(v,A){Ft(m,A,v)})}function vu(c,m,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var k=c.i;let Tt=-1;for(;;){const fe=["count="+v];Tt==-1?v>0?(Tt=k[0].g,fe.push("ofs="+Tt)):Tt=0:fe.push("ofs="+Tt);let jt=!0;for(let se=0;se<v;se++){var j=k[se].g;const wn=k[se].map;if(j-=Tt,j<0)Tt=Math.max(0,k[se].g-100),jt=!1;else try{j="req"+j+"_"||"";try{var tt=wn instanceof Map?wn:Object.entries(wn);for(const[Ti,Kn]of tt){let Qn=Kn;g(Kn)&&(Qn=ur(Kn)),fe.push(j+Ti+"="+encodeURIComponent(Qn))}}catch(Ti){throw fe.push(j+"type="+encodeURIComponent("_badmap")),Ti}}catch{A&&A(wn)}}if(jt){tt=fe.join("&");break t}}tt=void 0}return c=c.i.splice(0,v),m.G=c,tt}function Eu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Jt||S(),Mt||(Jt(),Mt=!0),b.add(m,c),c.A=0}}function As(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=oi(y(c.Da,c),Su(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=oi(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),yr(this),Tu(this))};function jo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Tu(c){c.g=new Bn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Ee(c.na);Ft(m,"RID","rpc"),Ft(m,"SID",c.M),Ft(m,"AID",c.K),Ft(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ft(m,"TO",c.ia),Ft(m,"TYPE","xmlhttp"),Ts(c,m),c.u&&c.o&&_s(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=gs(Ee(m)),v.u=null,v.R=!0,aa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,yr(this),As(this),ye(19))};function ga(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Au(c,m){var v=null;if(c.g==m){ga(c),jo(c),c.g=null;var A=2}else if(mi(c.h,m))v=m.G,No(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var k=c.D;A=sa(),Oe(A,new ai(A,v)),vi(c)}else Eu(c);else if(k=m.m,k==3||k==0&&m.X>0||!(A==1&&ma(c,m)||A==2&&As(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),k){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function Su(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ei(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),A=c.Ua;const k=!A;A=new dn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(A,"https"),gs(A),k?Hn(A.toString(),v):Lo(A.toString(),v)}else ye(2);c.I=0,c.l&&c.l.pa(m),bu(c),da(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function bu(c){if(c.I=0,c.ja=[],c.l){const m=Do(c.h);(m.length!=0||c.i.length!=0)&&(Z(c.ja,m),Z(c.ja,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.oa()}}function wu(c,m,v){var A=v instanceof dn?Ee(v):new dn(v);if(A.g!="")m&&(A.g=m+"."+A.g),cr(A,A.u);else{var k=d.location;A=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const j=new dn(null);A&&Le(j,A),m&&(j.g=m),k&&cr(j,k),v&&(j.h=v),A=j}return v=c.G,m=c.wa,v&&m&&Ft(A,v,m),Ft(A,"VER",c.ka),Ts(c,A),A}function Ru(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Qt(new pi({ab:v})):new Qt(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}r=Iu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _r(){}_r.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){pe.call(this),this.g=new pr(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!I(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Ui(this)}w(tn,pe),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Uo(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ur(c),c=v);m.i.push(new ve(m.Ya++,c)),m.I==3&&vi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,tn.Z.N.call(this)};function Cu(c){ze.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}w(Cu,ze);function Nu(){Tn.call(this),this.status=1}w(Nu,Tn);function Ui(c){this.g=c}w(Ui,Iu),Ui.prototype.ra=function(){Oe(this.g,"a")},Ui.prototype.qa=function(c){Oe(this.g,new Cu(c))},Ui.prototype.pa=function(c){Oe(this.g,new Nu)},Ui.prototype.oa=function(){Oe(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,X0=function(){return new _r},Y0=function(){return sa()},Q0=he,fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,Hc=ds,bo.COMPLETE="complete",K0=bo,ou.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,Il=ou,Qt.prototype.listenOnce=Qt.prototype.K,Qt.prototype.getLastError=Qt.prototype.Ha,Qt.prototype.getLastErrorCode=Qt.prototype.ya,Qt.prototype.getStatus=Qt.prototype.ca,Qt.prototype.getResponseJson=Qt.prototype.La,Qt.prototype.getResponseText=Qt.prototype.la,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Fa,G0=Qt}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const kv="@firebase/firestore",Pv="4.9.2";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let mo="12.3.0";const Ks=new _h("@firebase/firestore");function Ka(){return Ks.logLevel}function it(r,...t){if(Ks.logLevel<=Nt.DEBUG){const n=t.map(jm);Ks.debug(`Firestore (${mo}): ${r}`,...n)}}function ar(r,...t){if(Ks.logLevel<=Nt.ERROR){const n=t.map(jm);Ks.error(`Firestore (${mo}): ${r}`,...n)}}function io(r,...t){if(Ks.logLevel<=Nt.WARN){const n=t.map(jm);Ks.warn(`Firestore (${mo}): ${r}`,...n)}}function jm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function gt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,$0(r,s,n)}function $0(r,t,n){let s=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ar(s),new Error(s)}function qt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||$0(t,l,s)}function Et(r,t){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ii{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class J0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class VI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n($e.UNAUTHENTICATED)))}shutdown(){}}class xI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class LI{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){qt(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qs)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new J0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class kI{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PI{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new kI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Uv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){qt(this.o===void 0,3512);const s=u=>{u.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const l=u=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Uv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Uv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=zI(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=t.charAt(l[u]%62))}return s}}function Dt(r,t){return r<t?-1:r>t?1:0}function dm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const l=r.charAt(s),u=t.charAt(s);if(l!==u)return Xd(l)===Xd(u)?Dt(l,u):Xd(l)?1:-1}return Dt(r.length,t.length)}const jI=55296,BI=57343;function Xd(r){const t=r.charCodeAt(0);return t>=jI&&t<=BI}function ro(r,t,n){return r.length===t.length&&r.every(((s,l)=>n(s,t[l])))}const zv="__name__";class Ri{constructor(t,n,s){n===void 0?n=0:n>t.length&&gt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&gt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const u=Ri.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return Dt(t.length,n.length)}static compareSegments(t,n){const s=Ri.isNumericId(t),l=Ri.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Ri.extractNumericId(t).compare(Ri.extractNumericId(n)):dm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $r.fromString(t.substring(4,t.length-2))}}class Wt extends Ri{construct(t,n,s){return new Wt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new st(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new Wt(n)}static emptyPath(){return new Wt([])}}const qI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Ri{construct(t,n,s){return new Ke(t,n,s)}static isValidIdentifier(t){return qI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zv}static keyField(){return new Ke([zv])}static fromServerFormat(t){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new st(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new st(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(u(),l++)}if(u(),d)throw new st(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(n)}static emptyPath(){return new Ke([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(Wt.fromString(t))}static fromName(t){return new ct(Wt.fromString(t).popFirst(5))}static empty(){return new ct(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Wt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new Wt(t.slice()))}}function Z0(r,t,n){if(!n)throw new st(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function HI(r,t,n,s){if(t===!0&&s===!0)throw new st(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function jv(r){if(!ct.isDocumentKey(r))throw new st(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Bv(r){if(ct.isDocumentKey(r))throw new st(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function W0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ah(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function Jr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new st(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ah(r);throw new st(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function Ie(r,t){const n={typeString:r};return t&&(n.value=t),n}function Zl(r,t){if(!W0(r))throw new st(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new st(X.INVALID_ARGUMENT,n);return!0}const qv=-62135596800,Hv=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Hv);return new ne(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<qv)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hv}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-qv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Ie("string",ne._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ne(0,0))}static max(){return new _t(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jl=-1;function FI(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(s===1e9?new ne(n+1,0):new ne(n,s));return new ts(l,ct.empty(),t)}function GI(r){return new ts(r.readTime,r.key,jl)}class ts{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new ts(_t.min(),ct.empty(),jl)}static max(){return new ts(_t.max(),ct.empty(),jl)}}function KI(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ct.comparator(r.documentKey,t.documentKey),n!==0?n:Dt(r.largestBatchId,t.largestBatchId))}const QI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function go(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==QI)throw r;it("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):$.reject(n)}static resolve(t){return new $(((n,s)=>{n(t)}))}static reject(t){return new $(((n,s)=>{s(t)}))}static waitFor(t){return new $(((n,s)=>{let l=0,u=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&n()}),(p=>s(p)))})),d=!0,u===l&&n()}))}static or(t){let n=$.resolve(!1);for(const s of t)n=n.next((l=>l?$.resolve(l):s()));return n}static forEach(t,n){const s=[];return t.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(t,n){return new $(((s,l)=>{const u=t.length,d=new Array(u);let g=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next((T=>{d[y]=T,++g,g===u&&s(d)}),(T=>l(T)))}}))}static doWhile(t,n){return new $(((s,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):s()};u()}))}}function XI(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function po(r){return r.name==="IndexedDbTransactionError"}class Sh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Sh.ce=-1;const qm=-1;function bh(r){return r==null}function rh(r){return r===0&&1/r==-1/0}function $I(r){return typeof r=="number"&&Number.isInteger(r)&&!rh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const tT="";function JI(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Fv(t)),t=ZI(r.get(n),t);return Fv(t)}function ZI(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case tT:n+="";break;default:n+=u}}return n}function Fv(r){return r+tT+""}function Gv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Zs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function eT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class le{constructor(t,n){this.comparator=t,this.root=n||Ge.EMPTY}insert(t,n){return new le(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lc(this.root,t,this.comparator,!0)}}class Lc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,n,s,l,u){this.key=t,this.value=n,this.color=s??Ge.RED,this.left=l??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,u){return new Ge(t??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const u=s(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,n,s,l,u){return this}insert(t,n,s){return new Ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kv(this.data.getIterator())}getIteratorFrom(t){return new Kv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ve(this.comparator);return n.data=t,n}}class Kv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new Zn([])}unionWith(t){let n=new Ve(Ke.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Zn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ro(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class nT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new nT("Invalid base64 string: "+u):u}})(t);return new Qe(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new Qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const WI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const n=WI.exec(r);if(qt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ns(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const iT="server_timestamp",rT="__type__",sT="__previous_value__",aT="__local_write_time__";function Hm(r){return(r?.mapValue?.fields||{})[rT]?.stringValue===iT}function wh(r){const t=r.mapValue.fields[sT];return Hm(t)?wh(t):t}function Bl(r){const t=es(r.mapValue.fields[aT].timestampValue);return new ne(t.seconds,t.nanos)}class tC{constructor(t,n,s,l,u,d,g,p,y,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=T}}const sh="(default)";class ql{constructor(t,n){this.projectId=t,this.database=n||sh}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===sh}isEqual(t){return t instanceof ql&&t.projectId===this.projectId&&t.database===this.database}}const oT="__type__",eC="__max__",kc={mapValue:{}},lT="__vector__",ah="value";function is(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hm(r)?4:iC(r)?9007199254740991:nC(r)?10:11:gt(28295,{value:r})}function xi(r,t){if(r===t)return!0;const n=is(r);if(n!==is(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Bl(r).isEqual(Bl(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=es(l.timestampValue),g=es(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,u){return ns(l.bytesValue).isEqual(ns(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,u){return ge(l.geoPointValue.latitude)===ge(u.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(u.geoPointValue.longitude)})(r,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return ge(l.integerValue)===ge(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=ge(l.doubleValue),g=ge(u.doubleValue);return d===g?rh(d)===rh(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return ro(r.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(Gv(d)!==Gv(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!xi(d[p],g[p])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function Hl(r,t){return(r.values||[]).find((n=>xi(n,t)))!==void 0}function so(r,t){if(r===t)return 0;const n=is(r),s=is(t);if(n!==s)return Dt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,t.booleanValue);case 2:return(function(u,d){const g=ge(u.integerValue||u.doubleValue),p=ge(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,t);case 3:return Qv(r.timestampValue,t.timestampValue);case 4:return Qv(Bl(r),Bl(t));case 5:return dm(r.stringValue,t.stringValue);case 6:return(function(u,d){const g=ns(u),p=ns(d);return g.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,d){const g=u.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const T=Dt(g[y],p[y]);if(T!==0)return T}return Dt(g.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,d){const g=Dt(ge(u.latitude),ge(d.latitude));return g!==0?g:Dt(ge(u.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Yv(r.arrayValue,t.arrayValue);case 10:return(function(u,d){const g=u.fields||{},p=d.fields||{},y=g[ah]?.arrayValue,T=p[ah]?.arrayValue,w=Dt(y?.values?.length||0,T?.values?.length||0);return w!==0?w:Yv(y,T)})(r.mapValue,t.mapValue);case 11:return(function(u,d){if(u===kc.mapValue&&d===kc.mapValue)return 0;if(u===kc.mapValue)return 1;if(d===kc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),y=d.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let w=0;w<p.length&&w<T.length;++w){const M=dm(p[w],T[w]);if(M!==0)return M;const q=so(g[p[w]],y[T[w]]);if(q!==0)return q}return Dt(p.length,T.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:n})}}function Qv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Dt(r,t);const n=es(r),s=es(t),l=Dt(n.seconds,s.seconds);return l!==0?l:Dt(n.nanos,s.nanos)}function Yv(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=so(n[l],s[l]);if(u)return u}return Dt(n.length,s.length)}function ao(r){return mm(r)}function mm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=es(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ns(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ct.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=mm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of s)u?u=!1:l+=",",l+=`${d}:${mm(n.fields[d])}`;return l+"}"})(r.mapValue):gt(61005,{value:r})}function Fc(r){switch(is(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=wh(r);return t?16+Fc(t):16;case 5:return 2*r.stringValue.length;case 6:return ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+Fc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Zs(s.fields,((u,d)=>{l+=u.length+Fc(d)})),l})(r.mapValue);default:throw gt(13486,{value:r})}}function Xv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function gm(r){return!!r&&"integerValue"in r}function Fm(r){return!!r&&"arrayValue"in r}function $v(r){return!!r&&"nullValue"in r}function Jv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gc(r){return!!r&&"mapValue"in r}function nC(r){return(r?.mapValue?.fields||{})[oT]?.stringValue===lT}function Vl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Zs(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Vl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Vl(r.arrayValue.values[n]);return t}return{...r}}function iC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===eC}class Ln{constructor(t){this.value=t}static empty(){return new Ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Gc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vl(n)}setAll(t){let n=Ke.emptyPath(),s={},l=[];t.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}d?s[g.lastSegment()]=Vl(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(t){const n=this.field(t.popLast());Gc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return xi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Gc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){Zs(n,((l,u)=>t[l]=u));for(const l of s)delete t[l]}clone(){return new Ln(Vl(this.value))}}function uT(r){const t=[];return Zs(r.fields,((n,s)=>{const l=new Ke([n]);if(Gc(s)){const u=uT(s.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new Zn(t)}class Je{constructor(t,n,s,l,u,d,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Je(t,0,_t.min(),_t.min(),_t.min(),Ln.empty(),0)}static newFoundDocument(t,n,s,l){return new Je(t,1,n,_t.min(),s,l,0)}static newNoDocument(t,n){return new Je(t,2,n,_t.min(),_t.min(),Ln.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,_t.min(),_t.min(),Ln.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oh{constructor(t,n){this.position=t,this.inclusive=n}}function Zv(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const u=t[l],d=r.position[l];if(u.field.isKeyField()?s=ct.comparator(ct.fromName(d.referenceValue),n.key):s=so(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Wv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!xi(r.position[n],t.position[n]))return!1;return!0}class lh{constructor(t,n="asc"){this.field=t,this.dir=n}}function rC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class cT{}class Re extends cT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new aC(t,n,s):n==="array-contains"?new uC(t,s):n==="in"?new cC(t,s):n==="not-in"?new hC(t,s):n==="array-contains-any"?new fC(t,s):new Re(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new oC(t,s):new lC(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(so(n,this.value)):n!==null&&is(this.value)===is(n)&&this.matchesComparison(so(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends cT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ni(t,n)}matches(t){return hT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hT(r){return r.op==="and"}function fT(r){return sC(r)&&hT(r)}function sC(r){for(const t of r.filters)if(t instanceof ni)return!1;return!0}function pm(r){if(r instanceof Re)return r.field.canonicalString()+r.op.toString()+ao(r.value);if(fT(r))return r.filters.map((t=>pm(t))).join(",");{const t=r.filters.map((n=>pm(n))).join(",");return`${r.op}(${t})`}}function dT(r,t){return r instanceof Re?(function(s,l){return l instanceof Re&&s.op===l.op&&s.field.isEqual(l.field)&&xi(s.value,l.value)})(r,t):r instanceof ni?(function(s,l){return l instanceof ni&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,d,g)=>u&&dT(d,l.filters[g])),!0):!1})(r,t):void gt(19439)}function mT(r){return r instanceof Re?(function(n){return`${n.field.canonicalString()} ${n.op} ${ao(n.value)}`})(r):r instanceof ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(mT).join(" ,")+"}"})(r):"Filter"}class aC extends Re{constructor(t,n,s){super(t,n,s),this.key=ct.fromName(s.referenceValue)}matches(t){const n=ct.comparator(t.key,this.key);return this.matchesComparison(n)}}class oC extends Re{constructor(t,n){super(t,"in",n),this.keys=gT("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class lC extends Re{constructor(t,n){super(t,"not-in",n),this.keys=gT("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function gT(r,t){return(t.arrayValue?.values||[]).map((n=>ct.fromName(n.referenceValue)))}class uC extends Re{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Fm(n)&&Hl(n.arrayValue,this.value)}}class cC extends Re{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Hl(this.value.arrayValue,n)}}class hC extends Re{constructor(t,n){super(t,"not-in",n)}matches(t){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hl(this.value.arrayValue,n)}}class fC extends Re{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Fm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Hl(this.value.arrayValue,s)))}}class dC{constructor(t,n=null,s=[],l=[],u=null,d=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function tE(r,t=null,n=[],s=[],l=null,u=null,d=null){return new dC(r,t,n,s,l,u,d)}function Gm(r){const t=Et(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>pm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),bh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>ao(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>ao(s))).join(",")),t.Te=n}return t.Te}function Km(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!rC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!dT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Wv(r.startAt,t.startAt)&&Wv(r.endAt,t.endAt)}function ym(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Wl{constructor(t,n=null,s=[],l=[],u=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mC(r,t,n,s,l,u,d,g){return new Wl(r,t,n,s,l,u,d,g)}function Qm(r){return new Wl(r)}function eE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function pT(r){return r.collectionGroup!==null}function xl(r){const t=Et(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ve(Ke.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new lh(u,s))})),n.has(Ke.keyField().canonicalString())||t.Ie.push(new lh(Ke.keyField(),s))}return t.Ie}function Ni(r){const t=Et(r);return t.Ee||(t.Ee=gC(t,xl(r))),t.Ee}function gC(r,t){if(r.limitType==="F")return tE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new lh(l.field,u)}));const n=r.endAt?new oh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new oh(r.startAt.position,r.startAt.inclusive):null;return tE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function _m(r,t){const n=r.filters.concat([t]);return new Wl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function vm(r,t,n){return new Wl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Rh(r,t){return Km(Ni(r),Ni(t))&&r.limitType===t.limitType}function yT(r){return`${Gm(Ni(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>mT(l))).join(", ")}]`),bh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>ao(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>ao(l))).join(",")),`Target(${s})`})(Ni(r))}; limitType=${r.limitType})`}function Ih(r,t){return t.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ct.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,l){for(const u of xl(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,g,p){const y=Zv(d,g,p);return d.inclusive?y<=0:y<0})(s.startAt,xl(s),l)||s.endAt&&!(function(d,g,p){const y=Zv(d,g,p);return d.inclusive?y>=0:y>0})(s.endAt,xl(s),l))})(r,t)}function pC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function _T(r){return(t,n)=>{let s=!1;for(const l of xl(r)){const u=yC(l,t,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function yC(r,t,n){const s=r.field.isKeyField()?ct.comparator(t.key,n.key):(function(u,d,g){const p=d.data.field(u),y=g.data.field(u);return p!==null&&y!==null?so(p,y):gt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:r.dir})}}class Ws{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Zs(this.inner,((n,s)=>{for(const[l,u]of s)t(l,u)}))}isEmpty(){return eT(this.inner)}size(){return this.innerSize}}const _C=new le(ct.comparator);function or(){return _C}const vT=new le(ct.comparator);function Cl(...r){let t=vT;for(const n of r)t=t.insert(n.key,n);return t}function ET(r){let t=vT;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function js(){return Ll()}function TT(){return Ll()}function Ll(){return new Ws((r=>r.toString()),((r,t)=>r.isEqual(t)))}const vC=new le(ct.comparator),EC=new Ve(ct.comparator);function Ot(...r){let t=EC;for(const n of r)t=t.add(n);return t}const TC=new Ve(Dt);function AC(){return TC}function Ym(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(t)?"-0":t}}function AT(r){return{integerValue:""+r}}function SC(r,t){return $I(t)?AT(t):Ym(r,t)}class Ch{constructor(){this._=void 0}}function bC(r,t,n){return r instanceof uh?(function(l,u){const d={fields:{[rT]:{stringValue:iT},[aT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Hm(u)&&(u=wh(u)),u&&(d.fields[sT]=u),{mapValue:d}})(n,t):r instanceof Fl?bT(r,t):r instanceof Gl?wT(r,t):(function(l,u){const d=ST(l,u),g=nE(d)+nE(l.Ae);return gm(d)&&gm(l.Ae)?AT(g):Ym(l.serializer,g)})(r,t)}function wC(r,t,n){return r instanceof Fl?bT(r,t):r instanceof Gl?wT(r,t):n}function ST(r,t){return r instanceof ch?(function(s){return gm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class uh extends Ch{}class Fl extends Ch{constructor(t){super(),this.elements=t}}function bT(r,t){const n=RT(t);for(const s of r.elements)n.some((l=>xi(l,s)))||n.push(s);return{arrayValue:{values:n}}}class Gl extends Ch{constructor(t){super(),this.elements=t}}function wT(r,t){let n=RT(t);for(const s of r.elements)n=n.filter((l=>!xi(l,s)));return{arrayValue:{values:n}}}class ch extends Ch{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function nE(r){return ge(r.integerValue||r.doubleValue)}function RT(r){return Fm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function RC(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof Fl&&l instanceof Fl||s instanceof Gl&&l instanceof Gl?ro(s.elements,l.elements,xi):s instanceof ch&&l instanceof ch?xi(s.Ae,l.Ae):s instanceof uh&&l instanceof uh})(r.transform,t.transform)}class IC{constructor(t,n){this.version=t,this.transformResults=n}}class Wn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Wn}static exists(t){return new Wn(void 0,t)}static updateTime(t){return new Wn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Kc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Nh{}function IT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Xm(r.key,Wn.none()):new tu(r.key,r.data,Wn.none());{const n=r.data,s=Ln.empty();let l=new Ve(Ke.comparator);for(let u of t.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),l=l.add(u)}return new ta(r.key,s,new Zn(l.toArray()),Wn.none())}}function CC(r,t,n){r instanceof tu?(function(l,u,d){const g=l.value.clone(),p=rE(l.fieldTransforms,u,d.transformResults);g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,n):r instanceof ta?(function(l,u,d){if(!Kc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=rE(l.fieldTransforms,u,d.transformResults),p=u.data;p.setAll(CT(l)),p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function kl(r,t,n,s){return r instanceof tu?(function(u,d,g,p){if(!Kc(u.precondition,d))return g;const y=u.value.clone(),T=sE(u.fieldTransforms,p,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof ta?(function(u,d,g,p){if(!Kc(u.precondition,d))return g;const y=sE(u.fieldTransforms,p,d),T=d.data;return T.setAll(CT(u)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(r,t,n,s):(function(u,d,g){return Kc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,n)}function NC(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),u=ST(s.transform,l||null);u!=null&&(n===null&&(n=Ln.empty()),n.set(s.field,u))}return n||null}function iE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&ro(s,l,((u,d)=>RC(u,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class tu extends Nh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ta extends Nh{constructor(t,n,s,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function CT(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function rE(r,t,n){const s=new Map;qt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const u=r[l],d=u.transform,g=t.data.field(u.field);s.set(u.field,wC(d,g,n[l]))}return s}function sE(r,t,n){const s=new Map;for(const l of r){const u=l.transform,d=n.data.field(l.field);s.set(l.field,bC(u,d,t))}return s}class Xm extends Nh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DC extends Nh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class OC{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&CC(u,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=kl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=kl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=TT();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=n.has(l.key)?null:g;const p=IT(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(_t.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&ro(this.mutations,t.mutations,((n,s)=>iE(n,s)))&&ro(this.baseMutations,t.baseMutations,((n,s)=>iE(n,s)))}}class $m{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return vC})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,s[d].version);return new $m(t,n,s,l)}}class MC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class VC{constructor(t,n){this.count=t,this.unchangedNames=n}}var we,Lt;function xC(r){switch(r){case X.OK:return gt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function NT(r){if(r===void 0)return ar("GRPC error has no .code"),X.UNKNOWN;switch(r){case we.OK:return X.OK;case we.CANCELLED:return X.CANCELLED;case we.UNKNOWN:return X.UNKNOWN;case we.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case we.INTERNAL:return X.INTERNAL;case we.UNAVAILABLE:return X.UNAVAILABLE;case we.UNAUTHENTICATED:return X.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case we.NOT_FOUND:return X.NOT_FOUND;case we.ALREADY_EXISTS:return X.ALREADY_EXISTS;case we.PERMISSION_DENIED:return X.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case we.ABORTED:return X.ABORTED;case we.OUT_OF_RANGE:return X.OUT_OF_RANGE;case we.UNIMPLEMENTED:return X.UNIMPLEMENTED;case we.DATA_LOSS:return X.DATA_LOSS;default:return gt(39323,{code:r})}}(Lt=we||(we={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function LC(){return new TextEncoder}const kC=new $r([4294967295,4294967295],0);function aE(r){const t=LC().encode(r),n=new F0;return n.update(t),new Uint8Array(n.digest())}function oE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new $r([n,s],0),new $r([l,u],0)]}class Jm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Nl(`Invalid padding: ${n}`);if(s<0)throw new Nl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=$r.fromNumber(this.ge)}ye(t,n,s){let l=t.add(n.multiply($r.fromNumber(s)));return l.compare(kC)===1&&(l=new $r([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=aE(t),[s,l]=oE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);if(!this.we(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new Jm(u,l,n);return s.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const n=aE(t),[s,l]=oE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);this.Se(d)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(t,n,s,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,eu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Dh(_t.min(),l,new le(Dt),or(),Ot())}}class eu{constructor(t,n,s,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new eu(s,n,Ot(),Ot(),Ot())}}class Qc{constructor(t,n,s,l){this.be=t,this.removedTargetIds=n,this.key=s,this.De=l}}class DT{constructor(t,n){this.targetId=t,this.Ce=n}}class OT{constructor(t,n,s=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class lE{constructor(){this.ve=0,this.Fe=uE(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),n=Ot(),s=Ot();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:gt(38017,{changeType:u})}})),new eu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=uE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class PC{constructor(t){this.Ge=t,this.ze=new Map,this.je=or(),this.Je=Pc(),this.He=Pc(),this.Ye=new le(Dt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,s=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(ym(u))if(s===0){const d=new ct(u.path);this.et(n,d,Je.newNoDocument(d,_t.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const g=this.ut(t),p=g?this.ct(g,t,d):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let d,g;try{d=ns(s).toUint8Array()}catch(p){if(p instanceof nT)return io("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Jm(d,l,u)}catch(p){return io(p instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&ym(g.target)){const p=new ct(g.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,Je.newNoDocument(p,t))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let s=Ot();this.He.forEach(((u,d)=>{let g=!0;d.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const l=new Dh(t,n,this.Ye,this.je,s);return this.je=or(),this.Je=Pc(),this.He=Pc(),this.Ye=new le(Dt),l}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new lE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ve(Dt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ve(Dt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||it("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new lE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Pc(){return new le(ct.comparator)}function uE(){return new le(ct.comparator)}const UC={asc:"ASCENDING",desc:"DESCENDING"},zC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jC={and:"AND",or:"OR"};class BC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Em(r,t){return r.useProto3Json||bh(t)?t:{value:t}}function hh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function MT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function qC(r,t){return hh(r,t.toTimestamp())}function Di(r){return qt(!!r,49232),_t.fromTimestamp((function(n){const s=es(n);return new ne(s.seconds,s.nanos)})(r))}function Zm(r,t){return Tm(r,t).canonicalString()}function Tm(r,t){const n=(function(l){return new Wt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function VT(r){const t=Wt.fromString(r);return qt(UT(t),10190,{key:t.toString()}),t}function Am(r,t){return Zm(r.databaseId,t.path)}function $d(r,t){const n=VT(t);if(n.get(1)!==r.databaseId.projectId)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ct(LT(n))}function xT(r,t){return Zm(r.databaseId,t)}function HC(r){const t=VT(r);return t.length===4?Wt.emptyPath():LT(t)}function Sm(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function LT(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function cE(r,t,n){return{name:Am(r,t),fields:n.value.mapValue.fields}}function FC(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(qt(T===void 0||typeof T=="string",58123),Qe.fromBase64String(T||"")):(qt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Qe.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const T=y.code===void 0?X.UNKNOWN:NT(y.code);return new st(T,y.message||"")})(d);n=new OT(s,l,u,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=$d(r,s.document.name),u=Di(s.document.updateTime),d=s.document.createTime?Di(s.document.createTime):_t.min(),g=new Ln({mapValue:{fields:s.document.fields}}),p=Je.newFoundDocument(l,u,d,g),y=s.targetIds||[],T=s.removedTargetIds||[];n=new Qc(y,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=$d(r,s.document),u=s.readTime?Di(s.readTime):_t.min(),d=Je.newNoDocument(l,u),g=s.removedTargetIds||[];n=new Qc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=$d(r,s.document),u=s.removedTargetIds||[];n=new Qc([],u,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,d=new VC(l,u),g=s.targetId;n=new DT(g,d)}}return n}function GC(r,t){let n;if(t instanceof tu)n={update:cE(r,t.key,t.value)};else if(t instanceof Xm)n={delete:Am(r,t.key)};else if(t instanceof ta)n={update:cE(r,t.key,t.data),updateMask:t2(t.fieldMask)};else{if(!(t instanceof DC))return gt(16599,{Vt:t.type});n={verify:Am(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,d){const g=d.transform;if(g instanceof uh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Gl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ch)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw gt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:qC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:gt(27497)})(r,t.precondition)),n}function KC(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map((n=>(function(l,u){let d=l.updateTime?Di(l.updateTime):Di(u);return d.isEqual(_t.min())&&(d=Di(u)),new IC(d,l.transformResults||[])})(n,t)))):[]}function QC(r,t){return{documents:[xT(r,t.path)]}}function YC(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=xT(r,l);const u=(function(y){if(y.length!==0)return PT(ni.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((T=>(function(M){return{field:Ya(M.field),direction:JC(M.dir)}})(T)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Em(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:l}}function XC(r){let t=HC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){qt(s===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=(function(w){const M=kT(w);return M instanceof ni&&fT(M)?M.getFilters():[M]})(n.where));let d=[];n.orderBy&&(d=(function(w){return w.map((M=>(function(Z){return new lh(Xa(Z.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(M)))})(n.orderBy));let g=null;n.limit&&(g=(function(w){let M;return M=typeof w=="object"?w.value:w,bh(M)?null:M})(n.limit));let p=null;n.startAt&&(p=(function(w){const M=!!w.before,q=w.values||[];return new oh(q,M)})(n.startAt));let y=null;return n.endAt&&(y=(function(w){const M=!w.before,q=w.values||[];return new oh(q,M)})(n.endAt)),mC(t,l,d,u,g,"F",p,y)}function $C(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function kT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Xa(n.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Xa(n.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Xa(n.unaryFilter.field);return Re.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Xa(n.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Re.create(Xa(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ni.create(n.compositeFilter.filters.map((s=>kT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(n.compositeFilter.op))})(r):gt(30097,{filter:r})}function JC(r){return UC[r]}function ZC(r){return zC[r]}function WC(r){return jC[r]}function Ya(r){return{fieldPath:r.canonicalString()}}function Xa(r){return Ke.fromServerFormat(r.fieldPath)}function PT(r){return r instanceof Re?(function(n){if(n.op==="=="){if(Jv(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NAN"}};if($v(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jv(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NAN"}};if($v(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(n.field),op:ZC(n.op),value:n.value}}})(r):r instanceof ni?(function(n){const s=n.getFilters().map((l=>PT(l)));return s.length===1?s[0]:{compositeFilter:{op:WC(n.op),filters:s}}})(r):gt(54877,{filter:r})}function t2(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function UT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Qr{constructor(t,n,s,l,u=_t.min(),d=_t.min(),g=Qe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class e2{constructor(t){this.yt=t}}function n2(r){const t=XC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?vm(t,t.limit,"L"):t}class i2{constructor(){this.Cn=new r2}addToCollectionParentIndex(t,n){return this.Cn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(ts.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(ts.min())}updateCollectionGroup(t,n,s){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class r2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Ve(Wt.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ve(Wt.comparator)).toArray()}}const hE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zT=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(zT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class oo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new oo(0)}static cr(){return new oo(-1)}}const fE="LruGarbageCollector",s2=1048576;function dE([r,t],[n,s]){const l=Dt(r,n);return l===0?Dt(t,s):l}class a2{constructor(t){this.Ir=t,this.buffer=new Ve(dE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();dE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class o2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(fE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){po(n)?it(fE,"Ignoring IndexedDB error during garbage collection: ",n):await go(n)}await this.Vr(3e5)}))}}class l2{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return $.resolve(Sh.ce);const s=new a2(n);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(hE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,l,u,d,g,p,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(s=w,g=Date.now(),this.removeTargets(t,s,n)))).next((w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((w=>(y=Date.now(),Ka()<=Nt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:w}))))}}function u2(r,t){return new l2(r,t)}class c2{constructor(){this.changes=new Ws((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class h2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class f2{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(s!==null&&kl(s.mutation,l,Zn.empty(),ne.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ot()){const l=js();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,s).next((u=>{let d=Cl();return u.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const s=js();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ot())))}populateOverlays(t,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(t,n,s,l){let u=or();const d=Ll(),g=(function(){return Ll()})();return n.forEach(((p,y)=>{const T=s.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof ta)?u=u.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),kl(T.mutation,y,T.mutation.getFieldMask(),ne.now())):d.set(y.key,Zn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((y,T)=>d.set(y,T))),n.forEach(((y,T)=>g.set(y,new h2(T,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,n){const s=Ll();let l=new le(((d,g)=>d-g)),u=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const g of d)g.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let T=s.get(p)||Zn.empty();T=g.applyToLocalView(y,T),s.set(p,T);const w=(l.get(g.batchId)||Ot()).add(p);l=l.insert(g.batchId,w)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,T=p.value,w=TT();T.forEach((M=>{if(!u.has(M)){const q=IT(n.get(M),s.get(M));q!==null&&w.set(M,q),u=u.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,w))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,l){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):pT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-u.size):$.resolve(js());let g=jl,p=u;return d.next((y=>$.forEach(y,((T,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),u.get(T)?$.resolve():this.remoteDocumentCache.getEntry(t,T).next((M=>{p=p.insert(T,M)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,p,y,Ot()))).next((T=>({batchId:g,changes:ET(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ct(n)).next((s=>{let l=Cl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const u=n.collectionGroup;let d=Cl();return this.indexManager.getCollectionParents(t,u).next((g=>$.forEach(g,(p=>{const y=(function(w,M){return new Wl(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next((T=>{T.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,l)))).next((d=>{u.forEach(((p,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Je.newInvalidDocument(T)))}));let g=Cl();return d.forEach(((p,y)=>{const T=u.get(p);T!==void 0&&kl(T.mutation,y,Zn.empty(),ne.now()),Ih(n,y)&&(g=g.insert(p,y))})),g}))}}class d2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Di(l.createTime)}})(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:n2(l.bundledQuery),readTime:Di(l.readTime)}})(n)),$.resolve()}}class m2{constructor(){this.overlays=new le(ct.comparator),this.qr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const s=js();return $.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((l,u)=>{this.St(t,n,u)})),$.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(t,n,s){const l=js(),u=n.length+1,d=new ct(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&l.set(p.getKey(),p)}return $.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let u=new le(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=js(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=js(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,T)=>g.set(y,T))),!(g.size()>=l)););return $.resolve(g)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new MC(n,s));let u=this.qr.get(n);u===void 0&&(u=Ot(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class g2{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}class Wm{constructor(){this.Qr=new Ve(Pe.$r),this.Ur=new Ve(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Pe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Pe(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new ct(new Wt([])),s=new Pe(n,t),l=new Pe(n,t+1),u=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new ct(new Wt([])),s=new Pe(n,t),l=new Pe(n,t+1);let u=Ot();return this.Ur.forEachInRange([s,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const n=new Pe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return ct.comparator(t.key,n.key)||Dt(t.Yr,n.Yr)}static Kr(t,n){return Dt(t.Yr,n.Yr)||ct.comparator(t.key,n.key)}}class p2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Pe.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new OC(u,n,s,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Pe(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ei(s),u=l<0?0:l;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?qm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Pe(n,0),l=new Pe(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(d=>{const g=this.Xr(d.Yr);u.push(g)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ve(Dt);return n.forEach((l=>{const u=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(g=>{s=s.add(g.Yr)}))})),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let u=s;ct.isDocumentKey(u)||(u=u.child(""));const d=new Pe(new ct(u),0);let g=new Ve(Dt);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(g=g.add(p.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(t){const n=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){qt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(n.mutations,(l=>{const u=new Pe(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Pe(n,0),l=this.Zr.firstAfterOrEqual(s);return $.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class y2{constructor(t){this.ri=t,this.docs=(function(){return new le(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let s=or();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():Je.newInvalidDocument(l))})),$.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let u=or();const d=n.path,g=new ct(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||KI(GI(T),s)<=0||(l.has(T.key)||Ih(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,n,s,l){gt(9500)}ii(t,n){return $.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new _2(this)}getSize(t){return $.resolve(this.size)}}class _2 extends c2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),$.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class v2{constructor(t){this.persistence=t,this.si=new Ws((n=>Gm(n)),Km),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Wm,this.targetCount=0,this.ai=oo.ur()}forEachTarget(t,n){return this.si.forEach(((s,l)=>n(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),$.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new oo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.Pr(n),$.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,s){let l=0;const u=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),$.waitFor(u).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return $.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),$.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return $.resolve(s)}containsKey(t,n){return $.resolve(this._i.containsKey(n))}}class jT{constructor(t,n){this.ui={},this.overlays={},this.ci=new Sh(0),this.li=!1,this.li=!0,this.hi=new g2,this.referenceDelegate=t(this),this.Pi=new v2(this),this.indexManager=new i2,this.remoteDocumentCache=(function(l){return new y2(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new e2(n),this.Ii=new d2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new m2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new p2(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){it("MemoryPersistence","Starting transaction:",t);const l=new E2(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,n){return $.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class E2 extends YI{constructor(t){super(),this.currentSequenceNumber=t}}class tg{constructor(t){this.persistence=t,this.Ri=new Wm,this.Vi=null}static mi(t){return new tg(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),$.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(s=>{const l=ct.fromPath(s);return this.gi(t,l).next((u=>{u||n.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class fh{constructor(t,n){this.persistence=t,this.pi=new Ws((s=>JI(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=u2(this,n)}static mi(t,n){return new fh(t,n)}Ei(){}di(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((l=>s+l))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return $.forEach(this.pi,((s,l)=>this.br(t,s,l).next((u=>u?$.resolve():n(l)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,n).next((g=>{g||(s++,u.removeEntry(d,_t.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Fc(t.data.value)),n}br(t,n,s){return $.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class eg{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=l}static As(t,n){let s=Ot(),l=Ot();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new eg(t,n.fromCache,s,l)}}class T2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class A2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $b()?8:XI(Ze())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,l){const u={result:null};return this.ys(t,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(t,n,l,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new T2;return this.Ss(t,n,d).next((g=>{if(u.result=g,this.Vs)return this.bs(t,n,d,g.size)}))})).next((()=>u.result))}bs(t,n,s,l){return s.documentReadCount<this.fs?(Ka()<=Nt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ka()<=Nt.DEBUG&&it("QueryEngine","Query:",Qa(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Ka()<=Nt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ni(n))):$.resolve())}ys(t,n){if(eE(n))return $.resolve(null);let s=Ni(n);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=vm(n,null,"F"),s=Ni(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const d=Ot(...u);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,s).next((p=>{const y=this.Ds(n,g);return this.Cs(n,y,d,p.readTime)?this.ys(t,vm(n,null,"F")):this.vs(t,y,n,p)}))))})))))}ws(t,n,s,l){return eE(n)||l.isEqual(_t.min())?$.resolve(null):this.ps.getDocuments(t,s).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,s,l)?$.resolve(null):(Ka()<=Nt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(n)),this.vs(t,d,n,FI(l,jl)).next((g=>g)))}))}Ds(t,n){let s=new Ve(_T(t));return n.forEach(((l,u)=>{Ih(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,n,s){return Ka()<=Nt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.ps.getDocumentsMatchingQuery(t,n,ts.min(),s)}vs(t,n,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const ng="LocalStore",S2=3e8;class b2{constructor(t,n,s,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new le(Dt),this.xs=new Ws((u=>Gm(u)),Km),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new f2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function w2(r,t,n,s){return new b2(r,t,n,s)}async function BT(r,t){const n=Et(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],g=[];let p=Ot();for(const y of l){d.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of u){g.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function R2(r,t){const n=Et(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,y,T){const w=y.batch,M=w.keys();let q=$.resolve();return M.forEach((Z=>{q=q.next((()=>T.getEntry(p,Z))).next((W=>{const J=y.docVersions.get(Z);qt(J!==null,48541),W.version.compareTo(J)<0&&(w.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),T.addEntry(W)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(p,w)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=Ot();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function qT(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function I2(r,t){const n=Et(r),s=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];t.targetChanges.forEach(((T,w)=>{const M=l.get(w);if(!M)return;g.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,w))));let q=M.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(w)!==null?q=q.withResumeToken(Qe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):T.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(T.resumeToken,s)),l=l.insert(w,q),(function(W,J,ot){return W.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=S2?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(M,q,T)&&g.push(n.Pi.updateTargetData(u,q))}));let p=or(),y=Ot();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),g.push(C2(u,d,t.documentUpdates).next((T=>{p=T.ks,y=T.qs}))),!s.isEqual(_t.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(T)}return $.waitFor(g).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=l,u)))}function C2(r,t,n){let s=Ot(),l=Ot();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let d=or();return n.forEach(((g,p)=>{const y=u.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(_t.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):it(ng,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)})),{ks:d,qs:l}}))}function N2(r,t){const n=Et(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=qm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function D2(r,t){const n=Et(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,t).next((u=>u?(l=u,$.resolve(l)):n.Pi.allocateTargetId(s).next((d=>(l=new Qr(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function bm(r,t,n){const s=Et(r),l=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!po(d))throw d;it(ng,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function mE(r,t,n){const s=Et(r);let l=_t.min(),u=Ot();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,y,T){const w=Et(p),M=w.xs.get(T);return M!==void 0?$.resolve(w.Ms.get(M)):w.Pi.getTargetData(y,T)})(s,d,Ni(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,n?l:_t.min(),n?u:Ot()))).next((g=>(O2(s,pC(t),g),{documents:g,Qs:u})))))}function O2(r,t,n){let s=r.Os.get(t)||_t.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class gE{constructor(){this.activeTargetIds=AC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class M2{constructor(){this.Mo=new gE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new gE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class V2{Oo(t){}shutdown(){}}const pE="ConnectivityMonitor";class yE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(pE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(pE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Uc=null;function wm(){return Uc===null?Uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uc++,"0x"+Uc.toString(16)}const Jd="RestConnection",x2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===sh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,n,s,l,u){const d=wm(),g=this.zo(t,n.toUriEncodedString());it(Jd,`Sending RPC '${t}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,u);const{host:y}=new URL(g),T=co(y);return this.Jo(t,g,p,s,T).then((w=>(it(Jd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw io(Jd,`RPC '${t}' ${d} failed with error: `,w,"url: ",g,"request:",s),w}))}Ho(t,n,s,l,u,d){return this.Go(t,n,s,l,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),s&&s.headers.forEach(((l,u)=>t[u]=l))}zo(t,n){const s=x2[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class k2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class P2 extends L2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,u){const d=wm();return new Promise(((g,p)=>{const y=new G0;y.setWithCredentials(!0),y.listenOnce(K0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Hc.NO_ERROR:const w=y.getResponseJson();it(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),g(w);break;case Hc.TIMEOUT:it(Xe,`RPC '${t}' ${d} timed out`),p(new st(X.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const M=y.getStatus();if(it(Xe,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const Z=q?.error;if(Z&&Z.status&&Z.message){const W=(function(ot){const pt=ot.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(pt)>=0?pt:X.UNKNOWN})(Z.status);p(new st(W,Z.message))}else p(new st(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new st(X.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{it(Xe,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);it(Xe,`RPC '${t}' ${d} sending request:`,l),y.send(n,"POST",T,s,15)}))}T_(t,n,s){const l=wm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=X0(),g=Y0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");it(Xe,`Creating RPC '${t}' stream ${l}: ${T}`,p);const w=d.createWebChannel(T,p);this.I_(w);let M=!1,q=!1;const Z=new k2({Yo:J=>{q?it(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(M||(it(Xe,`Opening RPC '${t}' stream ${l} transport.`),w.open(),M=!0),it(Xe,`RPC '${t}' stream ${l} sending:`,J),w.send(J))},Zo:()=>w.close()}),W=(J,ot,pt)=>{J.listen(ot,(dt=>{try{pt(dt)}catch(zt){setTimeout((()=>{throw zt}),0)}}))};return W(w,Il.EventType.OPEN,(()=>{q||(it(Xe,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),W(w,Il.EventType.CLOSE,(()=>{q||(q=!0,it(Xe,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(w))})),W(w,Il.EventType.ERROR,(J=>{q||(q=!0,io(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new st(X.UNAVAILABLE,"The operation could not be completed")))})),W(w,Il.EventType.MESSAGE,(J=>{if(!q){const ot=J.data[0];qt(!!ot,16349);const pt=ot,dt=pt?.error||pt[0]?.error;if(dt){it(Xe,`RPC '${t}' stream ${l} received error:`,dt);const zt=dt.status;let Jt=(function(S){const R=we[S];if(R!==void 0)return NT(R)})(zt),Mt=dt.message;Jt===void 0&&(Jt=X.INTERNAL,Mt="Unknown error status: "+zt+" with message "+dt.message),q=!0,Z.a_(new st(Jt,Mt)),w.close()}else it(Xe,`RPC '${t}' stream ${l} received:`,ot),Z.u_(ot)}})),W(g,Q0.STAT_EVENT,(J=>{J.stat===fm.PROXY?it(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===fm.NOPROXY&&it(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Zd(){return typeof document<"u"?document:null}function Oh(r){return new BC(r,!0)}class HT{constructor(t,n,s=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const _E="PersistentStream";class FT{constructor(t,n,s,l,u,d,g,p){this.Mi=t,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HT(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{t((()=>{const l=new st(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(_E,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(it(_E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class U2 extends FT{constructor(t,n,s,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=FC(this.serializer,t),s=(function(u){if(!("targetChange"in u))return _t.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Di(d.readTime):_t.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Sm(this.serializer),n.addTarget=(function(u,d){let g;const p=d.target;if(g=ym(p)?{documents:QC(u,p)}:{query:YC(u,p).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=MT(u,d.resumeToken);const y=Em(u,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=hh(u,d.snapshotVersion.toTimestamp());const y=Em(u,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const s=$C(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Sm(this.serializer),n.removeTarget=t,this.q_(n)}}class z2 extends FT{constructor(t,n,s,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=KC(t.writeResults,t.commitTime),s=Di(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Sm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>GC(this.serializer,s)))};this.q_(n)}}class j2{}class B2 extends j2{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(t,Tm(n,s),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new st(X.UNKNOWN,u.toString())}))}Ho(t,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,Tm(n,s),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class q2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ar(n),this.aa=!1):it("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qs="RemoteStore";class H2{constructor(t,n,s,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{ea(this)&&(it(Qs,"Restarting streams for network reachability change."),await(async function(p){const y=Et(p);y.Ea.add(4),await nu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Mh(y)})(this))}))})),this.Ra=new q2(s,l)}}async function Mh(r){if(ea(r))for(const t of r.da)await t(!0)}async function nu(r){for(const t of r.da)await t(!1)}function GT(r,t){const n=Et(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),ag(n)?sg(n):yo(n).O_()&&rg(n,t))}function ig(r,t){const n=Et(r),s=yo(n);n.Ia.delete(t),s.O_()&&KT(n,t),n.Ia.size===0&&(s.O_()?s.L_():ea(n)&&n.Ra.set("Unknown"))}function rg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}yo(r).Y_(t)}function KT(r,t){r.Va.Ue(t),yo(r).Z_(t)}function sg(r){r.Va=new PC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),yo(r).start(),r.Ra.ua()}function ag(r){return ea(r)&&!yo(r).x_()&&r.Ia.size>0}function ea(r){return Et(r).Ea.size===0}function QT(r){r.Va=void 0}async function F2(r){r.Ra.set("Online")}async function G2(r){r.Ia.forEach(((t,n)=>{rg(r,t)}))}async function K2(r,t){QT(r),ag(r)?(r.Ra.ha(t),sg(r)):r.Ra.set("Unknown")}async function Q2(r,t,n){if(r.Ra.set("Online"),t instanceof OT&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,t)}catch(s){it(Qs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await dh(r,s)}else if(t instanceof Qc?r.Va.Ze(t):t instanceof DT?r.Va.st(t):r.Va.tt(t),!n.isEqual(_t.min()))try{const s=await qT(r.localStore);n.compareTo(s)>=0&&await(function(u,d){const g=u.Va.Tt(d);return g.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,y)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(Qe.EMPTY_BYTE_STRING,T.snapshotVersion)),KT(u,p);const w=new Qr(T.target,p,y,T.sequenceNumber);rg(u,w)})),u.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(s){it(Qs,"Failed to raise snapshot:",s),await dh(r,s)}}async function dh(r,t,n){if(!po(t))throw t;r.Ea.add(1),await nu(r),r.Ra.set("Offline"),n||(n=()=>qT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(Qs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Mh(r)}))}function YT(r,t){return t().catch((n=>dh(r,n,t)))}async function Vh(r){const t=Et(r),n=rs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:qm;for(;Y2(t);)try{const l=await N2(t.localStore,s);if(l===null){t.Ta.length===0&&n.L_();break}s=l.batchId,X2(t,l)}catch(l){await dh(t,l)}XT(t)&&$T(t)}function Y2(r){return ea(r)&&r.Ta.length<10}function X2(r,t){r.Ta.push(t);const n=rs(r);n.O_()&&n.X_&&n.ea(t.mutations)}function XT(r){return ea(r)&&!rs(r).x_()&&r.Ta.length>0}function $T(r){rs(r).start()}async function $2(r){rs(r).ra()}async function J2(r){const t=rs(r);for(const n of r.Ta)t.ea(n.mutations)}async function Z2(r,t,n){const s=r.Ta.shift(),l=$m.from(s,t,n);await YT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Vh(r)}async function W2(r,t){t&&rs(r).X_&&await(async function(s,l){if((function(d){return xC(d)&&d!==X.ABORTED})(l.code)){const u=s.Ta.shift();rs(s).B_(),await YT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Vh(s)}})(r,t),XT(r)&&$T(r)}async function vE(r,t){const n=Et(r);n.asyncQueue.verifyOperationInProgress(),it(Qs,"RemoteStore received new credentials");const s=ea(n);n.Ea.add(3),await nu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Mh(n)}async function tN(r,t){const n=Et(r);t?(n.Ea.delete(2),await Mh(n)):t||(n.Ea.add(2),await nu(n),n.Ra.set("Unknown"))}function yo(r){return r.ma||(r.ma=(function(n,s,l){const u=Et(n);return u.sa(),new U2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:F2.bind(null,r),t_:G2.bind(null,r),r_:K2.bind(null,r),H_:Q2.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),ag(r)?sg(r):r.Ra.set("Unknown")):(await r.ma.stop(),QT(r))}))),r.ma}function rs(r){return r.fa||(r.fa=(function(n,s,l){const u=Et(n);return u.sa(),new z2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:$2.bind(null,r),r_:W2.bind(null,r),ta:J2.bind(null,r),na:Z2.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Vh(r)):(await r.fa.stop(),r.Ta.length>0&&(it(Qs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class og{constructor(t,n,s,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,u){const d=Date.now()+s,g=new og(t,n,d,l,u);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(r,t){if(ar("AsyncQueue",`${t}: ${r}`),po(r))return new st(X.UNAVAILABLE,`${t}: ${r}`);throw r}class to{static emptySet(t){return new to(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ct.comparator(n.key,s.key):(n,s)=>ct.comparator(n.key,s.key),this.keyedMap=Cl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof to)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new to;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class EE{constructor(){this.ga=new le(ct.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class lo{constructor(t,n,s,l,u,d,g,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,l,u){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new lo(t,n,to.emptySet(n),d,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class eN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class nN{constructor(){this.queries=TE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Et(n),u=l.queries;l.queries=TE(),u.forEach(((d,g)=>{for(const p of g.Sa)p.onError(s)}))})(this,new st(X.ABORTED,"Firestore shutting down"))}}function TE(){return new Ws((r=>yT(r)),Rh)}async function iN(r,t){const n=Et(r);let s=3;const l=t.query;let u=n.queries.get(l);u?!u.ba()&&t.Da()&&(s=2):(u=new eN,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=lg(d,`Initialization of query '${Qa(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&ug(n)}async function rN(r,t){const n=Et(r),s=t.query;let l=3;const u=n.queries.get(s);if(u){const d=u.Sa.indexOf(t);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function sN(r,t){const n=Et(r);let s=!1;for(const l of t){const u=l.query,d=n.queries.get(u);if(d){for(const g of d.Sa)g.Fa(l)&&(s=!0);d.wa=l}}s&&ug(n)}function aN(r,t,n){const s=Et(r),l=s.queries.get(t);if(l)for(const u of l.Sa)u.onError(n);s.queries.delete(t)}function ug(r){r.Ca.forEach((t=>{t.next()}))}var Rm,AE;(AE=Rm||(Rm={})).Ma="default",AE.Cache="cache";class oN{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new lo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Rm.Cache}}class JT{constructor(t){this.key=t}}class ZT{constructor(t){this.key=t}}class lN{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=_T(t),this.tu=new to(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new EE,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,w)=>{const M=l.get(T),q=Ih(this.query,w)?w:null,Z=!!M&&this.mutatedKeys.has(M.key),W=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let J=!1;M&&q?M.data.isEqual(q.data)?Z!==W&&(s.track({type:3,doc:q}),J=!0):this.su(M,q)||(s.track({type:2,doc:q}),J=!0,(p&&this.eu(q,p)>0||y&&this.eu(q,y)<0)&&(g=!0)):!M&&q?(s.track({type:0,doc:q}),J=!0):M&&!q&&(s.track({type:1,doc:M}),J=!0,(p||y)&&(g=!0)),J&&(q?(d=d.add(q),u=W?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:g,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,w)=>(function(q,Z){const W=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:J})}};return W(q)-W(Z)})(T.type,w.type)||this.eu(T.doc,w.doc))),this.ou(s),l=l??!1;const g=n&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,y=p!==this.Za;return this.Za=p,d.length!==0||y?{snapshot:new lo(this.query,t.tu,u,d,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new EE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new ZT(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new JT(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ot();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cg="SyncEngine";class uN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class cN{constructor(t){this.key=t,this.hu=!1}}class hN{constructor(t,n,s,l,u,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ws((g=>yT(g)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new le(ct.comparator),this.Au=new Map,this.Ru=new Wm,this.Vu={},this.mu=new Map,this.fu=oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fN(r,t,n=!0){const s=rA(r);let l;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await WT(s,t,n,!0),l}async function dN(r,t){const n=rA(r);await WT(n,t,!0,!1)}async function WT(r,t,n,s){const l=await D2(r.localStore,Ni(t)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await mN(r,t,u,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&GT(r.remoteStore,l),g}async function mN(r,t,n,s,l){r.pu=(w,M,q)=>(async function(W,J,ot,pt){let dt=J.view.ru(ot);dt.Cs&&(dt=await mE(W.localStore,J.query,!1).then((({documents:b})=>J.view.ru(b,dt))));const zt=pt&&pt.targetChanges.get(J.targetId),Jt=pt&&pt.targetMismatches.get(J.targetId)!=null,Mt=J.view.applyChanges(dt,W.isPrimaryClient,zt,Jt);return bE(W,J.targetId,Mt.au),Mt.snapshot})(r,w,M,q);const u=await mE(r.localStore,t,!0),d=new lN(t,u.Qs),g=d.ru(u.documents),p=eu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=d.applyChanges(g,r.isPrimaryClient,p);bE(r,n,y.au);const T=new uN(t,n,d);return r.Tu.set(t,T),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function gN(r,t,n){const s=Et(r),l=s.Tu.get(t),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((d=>!Rh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await bm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&ig(s.remoteStore,l.targetId),Im(s,l.targetId)})).catch(go)):(Im(s,l.targetId),await bm(s.localStore,l.targetId,!0))}async function pN(r,t){const n=Et(r),s=n.Tu.get(t),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ig(n.remoteStore,s.targetId))}async function yN(r,t,n){const s=bN(r);try{const l=await(function(d,g){const p=Et(d),y=ne.now(),T=g.reduce(((q,Z)=>q.add(Z.key)),Ot());let w,M;return p.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let Z=or(),W=Ot();return p.Ns.getEntries(q,T).next((J=>{Z=J,Z.forEach(((ot,pt)=>{pt.isValidDocument()||(W=W.add(ot))}))})).next((()=>p.localDocuments.getOverlayedDocuments(q,Z))).next((J=>{w=J;const ot=[];for(const pt of g){const dt=NC(pt,w.get(pt.key).overlayedDocument);dt!=null&&ot.push(new ta(pt.key,dt,uT(dt.value.mapValue),Wn.exists(!0)))}return p.mutationQueue.addMutationBatch(q,y,ot,g)})).next((J=>{M=J;const ot=J.applyToLocalDocumentSet(w,W);return p.documentOverlayCache.saveOverlays(q,J.batchId,ot)}))})).then((()=>({batchId:M.batchId,changes:ET(w)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,p){let y=d.Vu[d.currentUser.toKey()];y||(y=new le(Dt)),y=y.insert(g,p),d.Vu[d.currentUser.toKey()]=y})(s,l.batchId,n),await iu(s,l.changes),await Vh(s.remoteStore)}catch(l){const u=lg(l,"Failed to persist write");n.reject(u)}}async function tA(r,t){const n=Et(r);try{const s=await I2(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await iu(n,s,t)}catch(s){await go(s)}}function SE(r,t,n){const s=Et(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const p=Et(d);p.onlineState=g;let y=!1;p.queries.forEach(((T,w)=>{for(const M of w.Sa)M.va(g)&&(y=!0)})),y&&ug(p)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function _N(r,t,n){const s=Et(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Au.get(t),u=l&&l.key;if(u){let d=new le(ct.comparator);d=d.insert(u,Je.newNoDocument(u,_t.min()));const g=Ot().add(u),p=new Dh(_t.min(),new Map,new le(Dt),d,g);await tA(s,p),s.du=s.du.remove(u),s.Au.delete(t),hg(s)}else await bm(s.localStore,t,!1).then((()=>Im(s,t,n))).catch(go)}async function vN(r,t){const n=Et(r),s=t.batch.batchId;try{const l=await R2(n.localStore,t);nA(n,s,null),eA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await iu(n,l)}catch(l){await go(l)}}async function EN(r,t,n){const s=Et(r);try{const l=await(function(d,g){const p=Et(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return p.mutationQueue.lookupMutationBatch(y,g).next((w=>(qt(w!==null,37113),T=w.keys(),p.mutationQueue.removeMutationBatch(y,w)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>p.localDocuments.getDocuments(y,T)))}))})(s.localStore,t);nA(s,t,n),eA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await iu(s,l)}catch(l){await go(l)}}function eA(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function nA(r,t,n){const s=Et(r);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function Im(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||iA(r,s)}))}function iA(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(ig(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),hg(r))}function bE(r,t,n){for(const s of n)s instanceof JT?(r.Ru.addReference(s.key,t),TN(r,s)):s instanceof ZT?(it(cg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||iA(r,s.key)):gt(19791,{wu:s})}function TN(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(it(cg,"New document in limbo: "+n),r.Eu.add(s),hg(r))}function hg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new ct(Wt.fromString(t)),s=r.fu.next();r.Au.set(s,new cN(n)),r.du=r.du.insert(n,s),GT(r.remoteStore,new Qr(Ni(Qm(n.path)),s,"TargetPurposeLimboResolution",Sh.ce))}}async function iu(r,t,n){const s=Et(r),l=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,p)=>{d.push(s.pu(p,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){l.push(y);const T=eg.As(p.targetId,y);u.push(T)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(p,y){const T=Et(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(y,(M=>$.forEach(M.Es,(q=>T.persistence.referenceDelegate.addReference(w,M.targetId,q))).next((()=>$.forEach(M.ds,(q=>T.persistence.referenceDelegate.removeReference(w,M.targetId,q)))))))))}catch(w){if(!po(w))throw w;it(ng,"Failed to update sequence numbers: "+w)}for(const w of y){const M=w.targetId;if(!w.fromCache){const q=T.Ms.get(M),Z=q.snapshotVersion,W=q.withLastLimboFreeSnapshotVersion(Z);T.Ms=T.Ms.insert(M,W)}}})(s.localStore,u))}async function AN(r,t){const n=Et(r);if(!n.currentUser.isEqual(t)){it(cg,"User change. New user:",t.toKey());const s=await BT(n.localStore,t);n.currentUser=t,(function(u,d){u.mu.forEach((g=>{g.forEach((p=>{p.reject(new st(X.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await iu(n,s.Ls)}}function SN(r,t){const n=Et(r),s=n.Au.get(t);if(s&&s.hu)return Ot().add(s.key);{let l=Ot();const u=n.Iu.get(t);if(!u)return l;for(const d of u){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function rA(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=tA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_N.bind(null,t),t.Pu.H_=sN.bind(null,t.eventManager),t.Pu.yu=aN.bind(null,t.eventManager),t}function bN(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=EN.bind(null,t),t}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Oh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return w2(this.persistence,new A2,t.initialUser,this.serializer)}Cu(t){return new jT(tg.mi,this.serializer)}Du(t){return new M2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class wN extends mh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){qt(this.persistence.referenceDelegate instanceof fh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new o2(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new jT((s=>fh.mi(s,n)),this.serializer)}}class Cm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>SE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=AN.bind(null,this.syncEngine),await tN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new nN})()}createDatastore(t){const n=Oh(t.databaseInfo.databaseId),s=(function(u){return new P2(u)})(t.databaseInfo);return(function(u,d,g,p){return new B2(u,d,g,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,l,u,d,g){return new H2(s,l,u,d,g)})(this.localStore,this.datastore,t.asyncQueue,(n=>SE(this.syncEngine,n,0)),(function(){return yE.v()?new yE:new V2})())}createSyncEngine(t,n){return(function(l,u,d,g,p,y,T){const w=new hN(l,u,d,g,p,y);return T&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Et(n);it(Qs,"RemoteStore shutting down."),s.Ea.add(5),await nu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cm.provider={build:()=>new Cm};class RN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ar("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const ss="FirestoreClient";class IN{constructor(t,n,s,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{it(ss,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(it(ss,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=lg(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Wd(r,t){r.asyncQueue.verifyOperationInProgress(),it(ss,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await BT(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function wE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await CN(r);it(ss,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>vE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>vE(t.remoteStore,l))),r._onlineComponents=t}async function CN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(ss,"Using user provided OfflineComponentProvider");try{await Wd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;io("Error using user provided cache. Falling back to memory cache: "+n),await Wd(r,new mh)}}else it(ss,"Using default OfflineComponentProvider"),await Wd(r,new wN(void 0));return r._offlineComponents}async function sA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(ss,"Using user provided OnlineComponentProvider"),await wE(r,r._uninitializedComponentsProvider._online)):(it(ss,"Using default OnlineComponentProvider"),await wE(r,new Cm))),r._onlineComponents}function NN(r){return sA(r).then((t=>t.syncEngine))}async function RE(r){const t=await sA(r),n=t.eventManager;return n.onListen=fN.bind(null,t.syncEngine),n.onUnlisten=gN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=dN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=pN.bind(null,t.syncEngine),n}function aA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const IE=new Map;const oA="firestore.googleapis.com",CE=!0;class NE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oA,this.ssl=CE}else this.host=t.host,this.ssl=t.ssl??CE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=zT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<s2)throw new st(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}HI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aA(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new VI;switch(s.type){case"firstParty":return new PI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new st(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=IE.get(n);s&&(it("ComponentProvider","Removing Datastore"),IE.delete(n),s.terminate())})(this),Promise.resolve()}}function DN(r,t,n,s={}){r=Jr(r,xh);const l=co(t),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${n}`;l&&(WE(`https://${g}`),t0("Firestore",!0)),u.host!==oA&&u.host!==g&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:g,ssl:l,emulatorOptions:s};if(!Fs(p,d)&&(r._setSettings(p),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=$e.MOCK_USER;else{y=qb(s.mockUserToken,r._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new st(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new $e(w)}r._authCredentials=new xI(new J0(y,T))}}class _o{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new _o(this.firestore,t,this._query)}}class Ce{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ce(this.firestore,t,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Zl(n,Ce._jsonSchema))return new Ce(t,s||null,new ct(Wt.fromString(n.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:Ie("string",Ce._jsonSchemaVersion),referencePath:Ie("string")};class Zr extends _o{constructor(t,n,s){super(t,n,Qm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ce(this.firestore,null,new ct(t))}withConverter(t){return new Zr(this.firestore,t,this._path)}}function lA(r,t,...n){if(r=Ue(r),Z0("collection","path",t),r instanceof xh){const s=Wt.fromString(t,...n);return Bv(s),new Zr(r,null,s)}{if(!(r instanceof Ce||r instanceof Zr))throw new st(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...n));return Bv(s),new Zr(r.firestore,null,s)}}function Yc(r,t,...n){if(r=Ue(r),arguments.length===1&&(t=Bm.newId()),Z0("doc","path",t),r instanceof xh){const s=Wt.fromString(t,...n);return jv(s),new Ce(r,null,new ct(s))}{if(!(r instanceof Ce||r instanceof Zr))throw new st(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...n));return jv(s),new Ce(r.firestore,r instanceof Zr?r.converter:null,new ct(s))}}const DE="AsyncQueue";class OE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HT(this,"async_queue_retry"),this._c=()=>{const s=Zd();s&&it(DE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Zd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Zd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!po(t))throw t;it(DE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ar("INTERNAL UNHANDLED ERROR: ",ME(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=og.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:ME(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function ME(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function VE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class uo extends xh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new OE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new OE(t),this._firestoreClient=void 0,await t}}}function ON(r,t){const n=typeof r=="object"?r:l0(),s=typeof r=="string"?r:sh,l=Ql(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=jb("firestore");u&&DN(l,...u)}return l}function uA(r){if(r._terminated)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||MN(r),r._firestoreClient}function MN(r){const t=r._freezeSettings(),n=(function(l,u,d,g){return new tC(l,u,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,aA(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new IN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(r._componentsProvider))}class kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kn(Qe.fromBase64String(t))}catch(n){throw new st(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new kn(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zl(t,kn._jsonSchema))return kn.fromBase64String(t.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Ie("string",kn._jsonSchemaVersion),bytes:Ie("string")};class fg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new st(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class cA{constructor(t){this._methodName=t}}class Oi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new st(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new st(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(Zl(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Ie("string",Oi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Mi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zl(t,Mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Mi(t.vectorValues);throw new st(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Ie("string",Mi._jsonSchemaVersion),vectorValues:Ie("object")};const VN=/^__.*__$/;class xN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ta(t,this.data,this.fieldMask,n,this.fieldTransforms):new tu(t,this.data,n,this.fieldTransforms)}}function hA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:r})}}class dg{constructor(t,n,s,l,u,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new dg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return gh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(hA(this.Ac)&&VN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class LN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Oh(t)}Cc(t,n,s,l=!1){return new dg({Ac:t,methodName:n,Dc:s,path:Ke.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mg(r){const t=r._freezeSettings(),n=Oh(r._databaseId);return new LN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function fA(r,t,n,s,l,u={}){const d=r.Cc(u.merge||u.mergeFields?2:0,t,n,l);gA("Data must be an object, but it was:",d,s);const g=dA(s,d);let p,y;if(u.merge)p=new Zn(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const w of u.mergeFields){const M=PN(t,w,n);if(!d.contains(M))throw new st(X.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);zN(T,M)||T.push(M)}p=new Zn(T),y=d.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,y=d.fieldTransforms;return new xN(new Ln(g),p,y)}function kN(r,t,n,s=!1){return gg(n,r.Cc(s?4:3,t))}function gg(r,t){if(mA(r=Ue(r)))return gA("Unsupported field value:",t,r),dA(r,t);if(r instanceof cA)return(function(s,l){if(!hA(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let d=0;for(const g of s){let p=gg(g,l.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),d++}return{arrayValue:{values:u}}})(r,t)}return(function(s,l){if((s=Ue(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return SC(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ne.fromDate(s);return{timestampValue:hh(l.serializer,u)}}if(s instanceof ne){const u=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hh(l.serializer,u)}}if(s instanceof Oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof kn)return{bytesValue:MT(l.serializer,s._byteString)};if(s instanceof Ce){const u=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Mi)return(function(d,g){return{mapValue:{fields:{[oT]:{stringValue:lT},[ah]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Ym(g.serializer,y)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${Ah(s)}`)})(r,t)}function dA(r,t){const n={};return eT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zs(r,((s,l)=>{const u=gg(l,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function mA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof Oi||r instanceof kn||r instanceof Ce||r instanceof cA||r instanceof Mi)}function gA(r,t,n){if(!mA(n)||!W0(n)){const s=Ah(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function PN(r,t,n){if((t=Ue(t))instanceof fg)return t._internalPath;if(typeof t=="string")return pA(r,t);throw gh("Field path arguments must be of type string or ",r,!1,void 0,n)}const UN=new RegExp("[~\\*/\\[\\]]");function pA(r,t,n){if(t.search(UN)>=0)throw gh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new fg(...t.split("."))._internalPath}catch{throw gh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function gh(r,t,n,s,l){const u=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||d)&&(p+=" (found",u&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new st(X.INVALID_ARGUMENT,g+r+p)}function zN(r,t){return r.some((n=>n.isEqual(t)))}class yA{constructor(t,n,s,l,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(_A("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jN extends yA{data(){return super.data()}}function _A(r,t){return typeof t=="string"?pA(r,t):t instanceof fg?t._internalPath:t._delegate._internalPath}function BN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pg{}class qN extends pg{}function HN(r,t,...n){let s=[];t instanceof pg&&s.push(t),s=s.concat(n),(function(u){const d=u.filter((p=>p instanceof _g)).length,g=u.filter((p=>p instanceof yg)).length;if(d>1||d>0&&g>0)throw new st(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class yg extends qN{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new yg(t,n,s)}_apply(t){const n=this._parse(t);return vA(t._query,n),new _o(t.firestore,t.converter,_m(t._query,n))}_parse(t){const n=mg(t.firestore);return(function(u,d,g,p,y,T,w){let M;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new st(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){LE(w,T);const Z=[];for(const W of w)Z.push(xE(p,u,W));M={arrayValue:{values:Z}}}else M=xE(p,u,w)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||LE(w,T),M=kN(g,d,w,T==="in"||T==="not-in");return Re.create(y,T,M)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class _g extends pg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new _g(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const p of g)vA(d,p),d=_m(d,p)})(t._query,n),new _o(t.firestore,t.converter,_m(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function xE(r,t,n){if(typeof(n=Ue(n))=="string"){if(n==="")throw new st(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pT(t)&&n.indexOf("/")!==-1)throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Wt.fromString(n));if(!ct.isDocumentKey(s))throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Xv(r,new ct(s))}if(n instanceof Ce)return Xv(r,n._key);throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(n)}.`)}function LE(r,t){if(!Array.isArray(r)||r.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function vA(r,t){const n=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new st(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class FN{convertValue(t,n="none"){switch(is(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ns(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Zs(t,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[ah].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new Mi(n)}convertGeoPoint(t){return new Oi(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=wh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Bl(t));default:return null}}convertTimestamp(t){const n=es(t);return new ne(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Wt.fromString(t);qt(UT(s),9688,{name:t});const l=new ql(s.get(1),s.get(3)),u=new ct(s.popFirst(5));return l.isEqual(n)||ar(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function EA(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Dl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hs extends yA{constructor(t,n,s,l,u,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(_A("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Hs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hs._jsonSchema={type:Ie("string",Hs._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Xc extends Hs{data(t={}){return super.data(t)}}class eo{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Dl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Xc(this._firestore,this._userDataWriter,s.key,s,new Dl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const p=new Xc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new Xc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:GN(g.type),doc:p,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=eo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function GN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:Ie("string",eo._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class TA extends FN{constructor(t){super(),this.firestore=t}convertBytes(t){return new kn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,n)}}function kE(r,t,n){r=Jr(r,Ce);const s=Jr(r.firestore,uo),l=EA(r.converter,t);return vg(s,[fA(mg(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Wn.none())])}function KN(r){return vg(Jr(r.firestore,uo),[new Xm(r._key,Wn.none())])}function QN(r,t){const n=Jr(r.firestore,uo),s=Yc(r),l=EA(r.converter,t);return vg(n,[fA(mg(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Wn.exists(!1))]).then((()=>s))}function YN(r,...t){r=Ue(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||VE(t[s])||(n=t[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(VE(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let u,d,g;if(r instanceof Ce)d=Jr(r.firestore,uo),g=Qm(r._key.path),u={next:p=>{t[s]&&t[s](XN(d,r,p))},error:t[s+1],complete:t[s+2]};else{const p=Jr(r,_o);d=Jr(p.firestore,uo),g=p._query;const y=new TA(d);u={next:T=>{t[s]&&t[s](new eo(d,y,p,T))},error:t[s+1],complete:t[s+2]},BN(r._query)}return(function(y,T,w,M){const q=new RN(M),Z=new oN(T,q,w);return y.asyncQueue.enqueueAndForget((async()=>iN(await RE(y),Z))),()=>{q.Nu(),y.asyncQueue.enqueueAndForget((async()=>rN(await RE(y),Z)))}})(uA(d),g,l,u)}function vg(r,t){return(function(s,l){const u=new qs;return s.asyncQueue.enqueueAndForget((async()=>yN(await NN(s),l,u))),u.promise})(uA(r),t)}function XN(r,t,n){const s=n.docs.get(t._key),l=new TA(r);return new Hs(r,l,t._key,s,new Dl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){mo=l})(ho),Vi(new ti("firestore",((s,{instanceIdentifier:l,options:u})=>{const d=s.getProvider("app").getImmediate(),g=new uo(new LI(s.getProvider("auth-internal")),new UI(d,s.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new st(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(y.options.projectId,T)})(d,l),d);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Pn(kv,Pv,t),Pn(kv,Pv,"esm2020")})();const AA="@firebase/installations",Eg="0.6.19";const SA=1e4,bA=`w:${Eg}`,wA="FIS_v2",$N="https://firebaseinstallations.googleapis.com/v1",JN=3600*1e3,ZN="installations",WN="Installations";const tD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ys=new $s(ZN,WN,tD);function RA(r){return r instanceof ii&&r.code.includes("request-failed")}function IA({projectId:r}){return`${$N}/projects/${r}/installations`}function CA(r){return{token:r.token,requestStatus:2,expiresIn:nD(r.expiresIn),creationTime:Date.now()}}async function NA(r,t){const s=(await t.json()).error;return Ys.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function DA({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function eD(r,{refreshToken:t}){const n=DA(r);return n.append("Authorization",iD(t)),n}async function OA(r){const t=await r();return t.status>=500&&t.status<600?r():t}function nD(r){return Number(r.replace("s","000"))}function iD(r){return`${wA} ${r}`}async function rD({appConfig:r,heartbeatServiceProvider:t},{fid:n}){const s=IA(r),l=DA(r),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={fid:n,authVersion:wA,appId:r.appId,sdkVersion:bA},g={method:"POST",headers:l,body:JSON.stringify(d)},p=await OA(()=>fetch(s,g));if(p.ok){const y=await p.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:CA(y.authToken)}}else throw await NA("Create Installation",p)}function MA(r){return new Promise(t=>{setTimeout(t,r)})}function sD(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const aD=/^[cdef][\w-]{21}$/,Nm="";function oD(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=lD(r);return aD.test(n)?n:Nm}catch{return Nm}}function lD(r){return sD(r).substr(0,22)}function Lh(r){return`${r.appName}!${r.appId}`}const VA=new Map;function xA(r,t){const n=Lh(r);LA(n,t),uD(n,t)}function LA(r,t){const n=VA.get(r);if(n)for(const s of n)s(t)}function uD(r,t){const n=cD();n&&n.postMessage({key:r,fid:t}),hD()}let Bs=null;function cD(){return!Bs&&"BroadcastChannel"in self&&(Bs=new BroadcastChannel("[Firebase] FID Change"),Bs.onmessage=r=>{LA(r.data.key,r.data.fid)}),Bs}function hD(){VA.size===0&&Bs&&(Bs.close(),Bs=null)}const fD="firebase-installations-database",dD=1,Xs="firebase-installations-store";let tm=null;function Tg(){return tm||(tm=a0(fD,dD,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(Xs)}}})),tm}async function ph(r,t){const n=Lh(r),l=(await Tg()).transaction(Xs,"readwrite"),u=l.objectStore(Xs),d=await u.get(n);return await u.put(t,n),await l.done,(!d||d.fid!==t.fid)&&xA(r,t.fid),t}async function kA(r){const t=Lh(r),s=(await Tg()).transaction(Xs,"readwrite");await s.objectStore(Xs).delete(t),await s.done}async function kh(r,t){const n=Lh(r),l=(await Tg()).transaction(Xs,"readwrite"),u=l.objectStore(Xs),d=await u.get(n),g=t(d);return g===void 0?await u.delete(n):await u.put(g,n),await l.done,g&&(!d||d.fid!==g.fid)&&xA(r,g.fid),g}async function Ag(r){let t;const n=await kh(r.appConfig,s=>{const l=mD(s),u=gD(r,l);return t=u.registrationPromise,u.installationEntry});return n.fid===Nm?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function mD(r){const t=r||{fid:oD(),registrationStatus:0};return PA(t)}function gD(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Ys.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=pD(r,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:yD(r)}:{installationEntry:t}}async function pD(r,t){try{const n=await rD(r,t);return ph(r.appConfig,n)}catch(n){throw RA(n)&&n.customData.serverCode===409?await kA(r.appConfig):await ph(r.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function yD(r){let t=await PE(r.appConfig);for(;t.registrationStatus===1;)await MA(100),t=await PE(r.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Ag(r);return s||n}return t}function PE(r){return kh(r,t=>{if(!t)throw Ys.create("installation-not-found");return PA(t)})}function PA(r){return _D(r)?{fid:r.fid,registrationStatus:0}:r}function _D(r){return r.registrationStatus===1&&r.registrationTime+SA<Date.now()}async function vD({appConfig:r,heartbeatServiceProvider:t},n){const s=ED(r,n),l=eD(r,n),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={installation:{sdkVersion:bA,appId:r.appId}},g={method:"POST",headers:l,body:JSON.stringify(d)},p=await OA(()=>fetch(s,g));if(p.ok){const y=await p.json();return CA(y)}else throw await NA("Generate Auth Token",p)}function ED(r,{fid:t}){return`${IA(r)}/${t}/authTokens:generate`}async function Sg(r,t=!1){let n;const s=await kh(r.appConfig,u=>{if(!UA(u))throw Ys.create("not-registered");const d=u.authToken;if(!t&&SD(d))return u;if(d.requestStatus===1)return n=TD(r,t),u;{if(!navigator.onLine)throw Ys.create("app-offline");const g=wD(u);return n=AD(r,g),g}});return n?await n:s.authToken}async function TD(r,t){let n=await UE(r.appConfig);for(;n.authToken.requestStatus===1;)await MA(100),n=await UE(r.appConfig);const s=n.authToken;return s.requestStatus===0?Sg(r,t):s}function UE(r){return kh(r,t=>{if(!UA(t))throw Ys.create("not-registered");const n=t.authToken;return RD(n)?{...t,authToken:{requestStatus:0}}:t})}async function AD(r,t){try{const n=await vD(r,t),s={...t,authToken:n};return await ph(r.appConfig,s),n}catch(n){if(RA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await kA(r.appConfig);else{const s={...t,authToken:{requestStatus:0}};await ph(r.appConfig,s)}throw n}}function UA(r){return r!==void 0&&r.registrationStatus===2}function SD(r){return r.requestStatus===2&&!bD(r)}function bD(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+JN}function wD(r){const t={requestStatus:1,requestTime:Date.now()};return{...r,authToken:t}}function RD(r){return r.requestStatus===1&&r.requestTime+SA<Date.now()}async function ID(r){const t=r,{installationEntry:n,registrationPromise:s}=await Ag(t);return s?s.catch(console.error):Sg(t).catch(console.error),n.fid}async function CD(r,t=!1){const n=r;return await ND(n),(await Sg(n,t)).token}async function ND(r){const{registrationPromise:t}=await Ag(r);t&&await t}function DD(r){if(!r||!r.options)throw em("App Configuration");if(!r.name)throw em("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!r.options[n])throw em(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function em(r){return Ys.create("missing-app-config-values",{valueName:r})}const zA="installations",OD="installations-internal",MD=r=>{const t=r.getProvider("app").getImmediate(),n=DD(t),s=Ql(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},VD=r=>{const t=r.getProvider("app").getImmediate(),n=Ql(t,zA).getImmediate();return{getId:()=>ID(n),getToken:l=>CD(n,l)}};function xD(){Vi(new ti(zA,MD,"PUBLIC")),Vi(new ti(OD,VD,"PRIVATE"))}xD();Pn(AA,Eg);Pn(AA,Eg,"esm2020");const zE="analytics",LD="firebase_id",kD="origin",PD=60*1e3,UD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bg="https://www.googletagmanager.com/gtag/js";const nn=new _h("@firebase/analytics");const zD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Un=new $s("analytics","Analytics",zD);function jD(r){if(!r.startsWith(bg)){const t=Un.create("invalid-gtag-resource",{gtagURL:r});return nn.warn(t.message),""}return r}function jA(r){return Promise.all(r.map(t=>t.catch(n=>n)))}function BD(r,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,t)),n}function qD(r,t){const n=BD("firebase-js-sdk-policy",{createScriptURL:jD}),s=document.createElement("script"),l=`${bg}?l=${r}&id=${t}`;s.src=n?n?.createScriptURL(l):l,s.async=!0,document.head.appendChild(s)}function HD(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function FD(r,t,n,s,l,u){const d=s[l];try{if(d)await t[d];else{const p=(await jA(n)).find(y=>y.measurementId===l);p&&await t[p.appId]}}catch(g){nn.error(g)}r("config",l,u)}async function GD(r,t,n,s,l){try{let u=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const g=await jA(n);for(const p of d){const y=g.find(w=>w.measurementId===p),T=y&&t[y.appId];if(T)u.push(T);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),r("event",s,l||{})}catch(u){nn.error(u)}}function KD(r,t,n,s){async function l(u,...d){try{if(u==="event"){const[g,p]=d;await GD(r,t,n,g,p)}else if(u==="config"){const[g,p]=d;await FD(r,t,n,s,g,p)}else if(u==="consent"){const[g,p]=d;r("consent",g,p)}else if(u==="get"){const[g,p,y]=d;r("get",g,p,y)}else if(u==="set"){const[g]=d;r("set",g)}else r(u,...d)}catch(g){nn.error(g)}}return l}function QD(r,t,n,s,l){let u=function(...d){window[s].push(arguments)};return window[l]&&typeof window[l]=="function"&&(u=window[l]),window[l]=KD(u,r,t,n),{gtagCore:u,wrappedGtag:window[l]}}function YD(r){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(bg)&&n.src.includes(r))return n;return null}const XD=30,$D=1e3;class JD{constructor(t={},n=$D){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const BA=new JD;function ZD(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function WD(r){const{appId:t,apiKey:n}=r,s={method:"GET",headers:ZD(n)},l=UD.replace("{app-id}",t),u=await fetch(l,s);if(u.status!==200&&u.status!==304){let d="";try{const g=await u.json();g.error?.message&&(d=g.error.message)}catch{}throw Un.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}async function tO(r,t=BA,n){const{appId:s,apiKey:l,measurementId:u}=r.options;if(!s)throw Un.create("no-app-id");if(!l){if(u)return{measurementId:u,appId:s};throw Un.create("no-api-key")}const d=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new iO;return setTimeout(async()=>{g.abort()},PD),qA({appId:s,apiKey:l,measurementId:u},d,g,t)}async function qA(r,{throttleEndTimeMillis:t,backoffCount:n},s,l=BA){const{appId:u,measurementId:d}=r;try{await eO(s,t)}catch(g){if(d)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:d};throw g}try{const g=await WD(r);return l.deleteThrottleMetadata(u),g}catch(g){const p=g;if(!nO(p)){if(l.deleteThrottleMetadata(u),d)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:d};throw g}const y=Number(p?.customData?.httpStatus)===503?sv(n,l.intervalMillis,XD):sv(n,l.intervalMillis),T={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return l.setThrottleMetadata(u,T),nn.debug(`Calling attemptFetch again in ${y} millis`),qA(r,T,s,l)}}function eO(r,t){return new Promise((n,s)=>{const l=Math.max(t-Date.now(),0),u=setTimeout(n,l);r.addEventListener(()=>{clearTimeout(u),s(Un.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function nO(r){if(!(r instanceof ii)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class iO{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function rO(r,t,n,s,l){if(l&&l.global){r("event",n,s);return}else{const u=await t,d={...s,send_to:u};r("event",n,d)}}async function sO(r,t,n,s){if(s&&s.global){const l={};for(const u of Object.keys(n))l[`user_properties.${u}`]=n[u];return r("set",l),Promise.resolve()}else{const l=await t;r("config",l,{update:!0,user_properties:n})}}async function aO(){if(n0())try{await i0()}catch(r){return nn.warn(Un.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return nn.warn(Un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function oO(r,t,n,s,l,u,d){const g=tO(r);g.then(M=>{n[M.measurementId]=M.appId,r.options.measurementId&&M.measurementId!==r.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${M.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(M=>nn.error(M)),t.push(g);const p=aO().then(M=>{if(M)return s.getId()}),[y,T]=await Promise.all([g,p]);YD(u)||qD(u,y.measurementId),l("js",new Date);const w=d?.config??{};return w[kD]="firebase",w.update=!0,T!=null&&(w[LD]=T),l("config",y.measurementId,w),y.measurementId}class lO{constructor(t){this.app=t}_delete(){return delete no[this.app.options.appId],Promise.resolve()}}let no={},jE=[];const BE={};let nm="dataLayer",uO="gtag",qE,wg,HE=!1;function cO(){const r=[];if(e0()&&r.push("This is a browser extension environment."),Jb()||r.push("Cookies are not available."),r.length>0){const t=r.map((s,l)=>`(${l+1}) ${s}`).join(" "),n=Un.create("invalid-analytics-context",{errorInfo:t});nn.warn(n.message)}}function hO(r,t,n){cO();const s=r.options.appId;if(!s)throw Un.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Un.create("no-api-key");if(no[s]!=null)throw Un.create("already-exists",{id:s});if(!HE){HD(nm);const{wrappedGtag:u,gtagCore:d}=QD(no,jE,BE,nm,uO);wg=u,qE=d,HE=!0}return no[s]=oO(r,jE,BE,t,qE,nm,n),new lO(r)}function fO(r,t,n){r=Ue(r),sO(wg,no[r.app.options.appId],t,n).catch(s=>nn.error(s))}function dO(r,t,n,s){r=Ue(r),rO(wg,no[r.app.options.appId],t,n,s).catch(l=>nn.error(l))}const FE="@firebase/analytics",GE="0.10.19";function mO(){Vi(new ti(zE,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return hO(s,l,n)},"PUBLIC")),Vi(new ti("analytics-internal",r,"PRIVATE")),Pn(FE,GE),Pn(FE,GE,"esm2020");function r(t){try{const n=t.getProvider(zE).getImmediate();return{logEvent:(s,l,u)=>dO(n,s,l,u),setUserProperties:(s,l)=>fO(n,s,l)}}catch(n){throw Un.create("interop-component-reg-failed",{reason:n})}}}mO();const HA={apiKey:"AIzaSyAlkYbLP4jW1P-XRJtCvC6id8GlIxxY8m4",authDomain:"wangzhandaohang.firebaseapp.com",projectId:"wangzhandaohang",storageBucket:"wangzhandaohang.firebasestorage.app",messagingSenderId:"169263636408",appId:"1:169263636408:web:ee3608652b2872a539b94d",measurementId:"G-6JGHTS41NH"},FA=HA.appId,KE=HA,gO="6UiUdmPna4RJb2hNBoXhx3XCTFN2";let im,tr,Kr;KE.projectId?(im=o0(KE),tr=ON(im),Kr=OI(im)):console.error("Firebase Configuration Missing or Invalid.");const GA=r=>r.match(/^(http(s)?:\/\/)/)?r:"https://"+r,pO=r=>r.charAt(0).toUpperCase(),yO=({navData:r,handleSearch:t})=>{const[n,s]=oe.useState(""),[l,u]=oe.useState("google"),d=oe.useMemo(()=>{if(!n)return r;const p=n.toLowerCase();return r.map(y=>({...y,links:y.links.filter(T=>T.name.toLowerCase().includes(p)||T.url.toLowerCase().includes(p))})).filter(y=>y.links.length>0)},[r,n]),g=p=>{if(p.preventDefault(),!n.trim())return;let y="";const T=encodeURIComponent(n.trim());switch(l){case"google":y=`https://www.google.com/search?q=${T}`;break;case"baidu":y=`https://www.baidu.com/s?wd=${T}`;break;case"bing":y=`https://www.bing.com/search?q=${T}`;break;default:y=`https://www.google.com/search?q=${T}`}window.open(y,"_blank")};return Q.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 md:py-12",children:[Q.jsxs("header",{className:"text-center mb-10 md:mb-16",children:[Q.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-indigo-700 mb-2",children:""}),Q.jsx("p",{className:"text-lg text-gray-500",children:""})]}),Q.jsx("div",{className:"mb-10 max-w-2xl mx-auto",children:Q.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-lg border border-gray-100",children:[Q.jsxs("h2",{className:"text-xl font-semibold mb-3 text-gray-700 flex items-center",children:[Q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6 text-indigo-500 mr-2",children:Q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),""]}),Q.jsxs("form",{onSubmit:g,className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[Q.jsx("input",{type:"text",placeholder:"...",className:"flex-grow p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base shadow-inner",value:n,onChange:p=>s(p.target.value)}),Q.jsxs("select",{className:"p-3 border border-gray-300 rounded-lg bg-gray-50 text-base shadow-inner w-full sm:w-auto",value:l,onChange:p=>u(p.target.value),children:[Q.jsx("option",{value:"google",children:"Google"}),Q.jsx("option",{value:"baidu",children:" Baidu"}),Q.jsx("option",{value:"bing",children:"Bing"})]}),Q.jsx("button",{type:"submit",className:"p-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition duration-150 shadow-md",children:""})]})]})}),Q.jsx("div",{className:"space-y-12",children:r.length===0&&!n?Q.jsxs("div",{className:"text-center p-10 text-gray-500",children:[Q.jsx("p",{className:"text-xl",children:" '' "}),Q.jsx("p",{className:"text-sm mt-2",children:" ADMIN_UID "})]}):d.length===0?Q.jsxs("div",{className:"text-center p-10 text-gray-500 text-xl",children:[' "',n,'" ']}):d.map(p=>Q.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-xl border border-indigo-100",children:[Q.jsx("h2",{className:"text-2xl font-bold text-indigo-600 mb-2 border-b pb-2 border-indigo-100 flex items-center",children:p.categoryName}),p.description&&Q.jsx("p",{className:"text-gray-500 mb-6",children:p.description}),Q.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:p.links.map(y=>Q.jsx("a",{href:GA(y.url),target:"_blank",rel:"noopener noreferrer",className:"link-card block p-4 bg-gray-50 rounded-xl shadow-md hover:shadow-xl border border-gray-100 transform hover:scale-[1.01] transition-all duration-300 ease-in-out",children:Q.jsxs("div",{className:"flex items-center space-x-3",children:[Q.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-indigo-200 text-indigo-700 flex items-center justify-center font-bold text-sm",children:pO(y.name)}),Q.jsx("span",{className:"text-base font-medium text-gray-700 truncate",children:y.name})]})},y.id))})]},p.id))}),Q.jsx("footer",{className:"mt-16 text-center text-sm text-gray-400 border-t pt-6",children:Q.jsx("p",{children:" 2024 .  Firestore "})})]})},_O=({onLoginSuccess:r})=>{const[t,n]=oe.useState(""),[s,l]=oe.useState(""),[u,d]=oe.useState(""),[g,p]=oe.useState(!1),y=async T=>{if(T.preventDefault(),d(""),p(!0),!t||!s){d(""),p(!1);return}try{if(!Kr){d("Firebase "),p(!1);return}await pR(Kr,t,s),r()}catch(w){console.error("Login Error:",w);let M="";w.code==="auth/invalid-email"?M="":(w.code==="auth/user-not-found"||w.code==="auth/wrong-password")&&(M=""),d(M)}finally{p(!1)}};return Q.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:Q.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-xl shadow-2xl border border-gray-200",children:[Q.jsx("h2",{className:"text-2xl font-bold text-center text-indigo-600 mb-6",children:""}),Q.jsx("div",{className:"p-4 mb-4 text-sm text-yellow-800 bg-yellow-100 rounded-lg",children:" Firebase Authentication "}),Q.jsxs("form",{onSubmit:y,className:"space-y-6",children:[Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:""}),Q.jsx("input",{id:"email",type:"email",required:!0,value:t,onChange:T=>n(T.target.value),className:"mt-1 w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"admin@example.com"})]}),Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:""}),Q.jsx("input",{id:"password",type:"password",required:!0,value:s,onChange:T=>l(T.target.value),className:"mt-1 w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:""})]}),u&&Q.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-lg border border-red-200",children:u}),Q.jsx("button",{type:"submit",disabled:g,className:"w-full py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 disabled:opacity-50",children:g?"...":""})]})]})})},vO=({navData:r,userId:t})=>{const[n,s]=oe.useState({id:null,categoryName:"",description:"",links:[]}),[l,u]=oe.useState({id:null,name:"",url:""}),[d,g]=oe.useState(""),[p,y]=oe.useState(""),[T,w]=oe.useState(r.map(b=>({id:b.id,name:b.categoryName}))),[M,q]=oe.useState(""),[Z,W]=oe.useState("");oe.useEffect(()=>{const b=r.find(S=>S.id===n.id);b?(s(b),g(b.categoryName),y(b.description||"")):r.length>0&&(s(r[0]),g(r[0].categoryName),y(r[0].description||""))},[r,n.id]),oe.useEffect(()=>{w(r.map(b=>({id:b.id,name:b.categoryName})))},[r]);const J=b=>{W(b),setTimeout(()=>W(""),3e3)},ot=tr?lA(tr,`artifacts/${FA}/public/data/navLinks`):null,pt=async()=>{if(!d.trim()){q("");return}if(!ot){q(" Firebase ");return}try{const b={categoryName:d.trim(),description:p.trim(),links:[]};await QN(ot,b),J(` "${d}" `),g(""),y(""),q("")}catch(b){console.error("Error adding document: ",b),q("")}},dt=async b=>{if(!ot){q(" Firebase ");return}if(window.confirm(` "${n.categoryName}" `))try{await KN(Yc(tr,ot.path,b)),J(` "${n.categoryName}" `),s({id:null,categoryName:"",description:"",links:[]}),q("")}catch(S){console.error("Error deleting document: ",S),q("")}},zt=b=>{u({...l,[b.target.name]:b.target.value})},Jt=async b=>{if(b.preventDefault(),!l.name||!l.url||!n.id){q(" URL ");return}if(!ot){q(" Firebase ");return}try{const S=[...n.links],R={id:crypto.randomUUID(),name:l.name,url:GA(l.url)};S.push(R),await kE(Yc(tr,ot.path,n.id),{...n,links:S}),J(` "${l.name}" `),u({id:null,name:"",url:""}),q("")}catch(S){console.error("Error adding link: ",S),q("")}},Mt=async b=>{if(!ot){q(" Firebase ");return}if(window.confirm(""))try{const S=n.links.filter(R=>R.id!==b);await kE(Yc(tr,ot.path,n.id),{...n,links:S}),J(""),q("")}catch(S){console.error("Error deleting link: ",S),q("")}};return Q.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[Q.jsx("h1",{className:"text-3xl font-bold text-indigo-600 mb-6",children:""}),Q.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:["UID: ",Q.jsx("span",{className:"font-mono bg-gray-100 p-1 rounded",children:t})]}),Z&&Q.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",role:"alert",children:Q.jsx("span",{className:"block sm:inline",children:Z})}),M&&Q.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:Q.jsxs("span",{className:"block sm:inline",children:[": ",M]})}),Q.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[Q.jsxs("div",{className:"lg:col-span-1 bg-white p-6 rounded-xl shadow-lg border border-gray-100 h-fit",children:[Q.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:""}),Q.jsxs("div",{className:"mb-6 border-b pb-4",children:[Q.jsx("h3",{className:"font-medium text-lg mb-2",children:""}),Q.jsx("input",{type:"text",placeholder:" ()",value:d,onChange:b=>g(b.target.value),className:"w-full p-2 border border-gray-300 rounded-lg mb-2 text-sm focus:ring-indigo-500"}),Q.jsx("input",{type:"text",placeholder:" ()",value:p,onChange:b=>y(b.target.value),className:"w-full p-2 border border-gray-300 rounded-lg mb-3 text-sm focus:ring-indigo-500"}),Q.jsx("button",{onClick:pt,className:"w-full py-2 px-4 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition duration-150 text-sm",children:""})]}),Q.jsx("h3",{className:"font-medium text-lg mb-2",children:""}),Q.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-2",children:T.map(b=>Q.jsxs("div",{onClick:()=>s(r.find(S=>S.id===b.id)),className:`p-3 rounded-lg cursor-pointer transition duration-150 flex justify-between items-center ${n.id===b.id?"bg-indigo-100 text-indigo-700 font-semibold border-indigo-300 border":"bg-gray-50 hover:bg-gray-100 text-gray-700"}`,children:[Q.jsx("span",{className:"truncate",children:b.name}),Q.jsx("button",{onClick:S=>{S.stopPropagation(),dt(b.id)},className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-white transition",children:Q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Q.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 10-2 0v6a1 1 0 102 0V8z",clipRule:"evenodd"})})})]},b.id))})]}),Q.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[Q.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:n.categoryName?`${n.categoryName}`:""}),n.id&&Q.jsxs(Q.Fragment,{children:[Q.jsxs("p",{className:"text-gray-500 mb-6",children:[": ",n.description||""]}),Q.jsxs("form",{onSubmit:Jt,className:"mb-8 p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-inner",children:[Q.jsx("h3",{className:"font-medium text-lg mb-3 border-b pb-2",children:""}),Q.jsxs("div",{className:"space-y-3",children:[Q.jsx("input",{type:"text",name:"name",placeholder:" (Google)",value:l.name,onChange:zt,className:"w-full p-2 border border-gray-300 rounded-lg text-sm focus:ring-indigo-500",required:!0}),Q.jsx("input",{type:"text",name:"url",placeholder:"URL (www.google.com)",value:l.url,onChange:zt,className:"w-full p-2 border border-gray-300 rounded-lg text-sm focus:ring-indigo-500",required:!0}),Q.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-indigo-500 text-white font-semibold rounded-lg hover:bg-indigo-600 transition duration-150 text-sm",children:""})]})]}),Q.jsxs("h3",{className:"font-medium text-lg mb-3 border-b pb-2",children:[" (",n.links.length,")"]}),Q.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-2",children:n.links.map(b=>Q.jsxs("div",{className:"flex justify-between items-center p-3 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition duration-150",children:[Q.jsxs("div",{className:"truncate flex-1 min-w-0",children:[Q.jsx("div",{className:"font-medium text-gray-800 truncate",children:b.name}),Q.jsx("div",{className:"text-xs text-indigo-500 truncate",children:b.url})]}),Q.jsx("button",{onClick:()=>Mt(b.id),className:"ml-4 flex-shrink-0 text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-50 transition",children:Q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Q.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 10-2 0v6a1 1 0 102 0V8z",clipRule:"evenodd"})})})]},b.id))})]})]})]})]})},EO=()=>{const[r,t]=oe.useState([]),[n,s]=oe.useState(null),[l,u]=oe.useState("public"),[d,g]=oe.useState(!1),[p,y]=oe.useState(!1),T=!!tr&&!!Kr;oe.useEffect(()=>{if(!T){console.error("Initialization skipped because Firebase is not configured."),g(!0);return}(async()=>{try{await wv(Kr)}catch(W){console.error("Initial auth failed:",W)}})();const Z=vR(Kr,W=>{s(W),W&&W.uid===gO?y(!0):y(!1),g(!0)});return()=>Z()},[T]),oe.useEffect(()=>{if(!d||!n||!tr||!T)return;const q=HN(lA(tr,`artifacts/${FA}/public/data/navLinks`)),Z=YN(q,W=>{const J=W.docs.map(ot=>({id:ot.id,...ot.data()}));J.sort((ot,pt)=>ot.categoryName.localeCompare(pt.categoryName,"zh-CN")),t(J)},W=>{console.error("Firestore listen failed:",W)});return()=>Z()},[d,n,T]);const w=async()=>{try{await ER(Kr),await wv(Kr),u("public")}catch(q){console.error("Sign out error:",q)}},M=n?.uid||"N/A";return d?T?Q.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[Q.jsx("nav",{className:"bg-white shadow-md sticky top-0 z-10",children:Q.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Q.jsxs("div",{className:"flex justify-between h-16",children:[Q.jsx("div",{className:"flex items-center",children:Q.jsx("span",{className:"text-xl font-bold text-indigo-600",children:""})}),Q.jsxs("div",{className:"flex items-center space-x-4",children:[Q.jsx("button",{onClick:()=>u("public"),className:`px-3 py-2 rounded-md text-sm font-medium transition duration-150 ${l==="public"?"bg-indigo-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:""}),p?Q.jsxs(Q.Fragment,{children:[Q.jsx("button",{onClick:()=>u("admin"),className:`px-3 py-2 rounded-md text-sm font-medium transition duration-150 ${l==="admin"?"bg-yellow-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:""}),Q.jsx("button",{onClick:w,className:"px-3 py-2 rounded-md text-sm font-medium text-red-600 border border-red-300 hover:bg-red-50 transition duration-150",children:""})]}):Q.jsx("button",{onClick:()=>u("login"),className:`px-3 py-2 rounded-md text-sm font-medium transition duration-150 ${l==="login"?"bg-gray-200 text-gray-800":"text-gray-600 hover:bg-gray-100"}`,children:""})]})]})})}),Q.jsxs("main",{children:[l==="public"&&Q.jsx(yO,{navData:r}),l==="login"&&Q.jsx(_O,{onLoginSuccess:()=>u("admin")}),l==="admin"&&p&&Q.jsx(vO,{navData:r,userId:M}),l==="admin"&&!p&&Q.jsxs("div",{className:"text-center p-20 text-red-500 text-xl",children:[" UID (",M,")  `ADMIN_UID_PLACEHOLDER`"]})]})]}):Q.jsxs("div",{className:"text-center p-20 bg-red-100 text-red-700 min-h-screen",children:[Q.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Firebase "}),Q.jsx("p",{children:" `REAL_FIREBASE_CONFIG` "})]}):Q.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:Q.jsxs("div",{className:"text-xl text-indigo-500",children:[Q.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-6 w-6 text-indigo-500 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Q.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Q.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]})})};Ob.createRoot(document.getElementById("root")).render(Q.jsx(oe.StrictMode,{children:Q.jsx(EO,{})}));
